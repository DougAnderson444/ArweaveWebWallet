var se=Object.defineProperty,oe=Object.defineProperties;var le=Object.getOwnPropertyDescriptors;var R=Object.getOwnPropertySymbols;var ce=Object.prototype.hasOwnProperty,de=Object.prototype.propertyIsEnumerable;var O=(t,a,n)=>a in t?se(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,q=(t,a)=>{for(var n in a||(a={}))ce.call(a,n)&&O(t,n,a[n]);if(R)for(var n of R(a))de.call(a,n)&&O(t,n,a[n]);return t},G=(t,a)=>oe(t,le(a));import{e as y,d as b,w as ie,R as re,o as s,f as o,k as u,l as C,O as K,V as N,K as B,L as E,g as c,j as i,G as W,t as x,F as V,h as $,p,Q as w,a as D,E as _e,P as ue,T as me}from"./vendor.63a715e4.js";import{_ as h,c as F,d as j,f as H,D as ve,b as Q,h as fe,T as xe,i as Y,j as ge,A,n as he,k as ye,l as pe,a as we,m as be,o as X,s as P,p as ke}from"./index.015bb176.js";const Ie={props:["modelValue"],setup(t,{emit:a}){const n=y({get(){return t.modelValue},set(l){a("update:modelValue",l)}}),e=b(null),r=y(()=>{var l;return((l=e.value)==null?void 0:l.children)?Array(...e.value.children).slice(1,e.value.children.length-1):null}),_=()=>{var l,d;(d=(l=r.value)==null?void 0:l[Math.max(n.value||0,0)])==null||d.scrollIntoView({behavior:"smooth",block:"start",inline:"start"})};return ie(_),re(()=>setTimeout(_)),{model:n,root:e}}},J=t=>(B("data-v-7561eed9"),t=t(),E(),t),Ce={ref:"root",class:"carousel flex-row no-scrollbar"},Ve=J(()=>c("div",{class:"margin fade-list-item",key:"margin1"},null,-1)),$e=J(()=>c("div",{class:"margin fade-list-item",key:"margin2"},null,-1));function Ae(t,a,n,e,r,_){return s(),o("div",Ce,[u(N,{name:"fade-list"},{default:C(()=>[Ve,K(t.$slots,"default",{},void 0,!0),$e]),_:3})],512)}var Te=h(Ie,[["render",Ae],["__scopeId","data-v-7561eed9"]]);const Se={components:{AddressIcon:F},props:["modelValue","default","exit","active"],setup(t,{emit:a}){return{model:y({get(){return t.modelValue||t.default},set(e){a("update:modelValue",e)}}),InterfaceStore:j}}},Z=t=>(B("data-v-5a61efe6"),t=t(),E(),t),Be={class:"wallet-selector"},Ee=Z(()=>c("div",{class:"exit-background"},null,-1)),We=Z(()=>c("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},[c("path",{d:"M0 0h24v24H0V0z",fill:"none"}),c("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"})],-1)),ze=[Ee,We];function Le(t,a,n,e,r,_){const l=i("AddressIcon");return s(),o("div",Be,[e.model?(s(),o("button",{key:0,type:"button",onClick:a[0]||(a[0]=d=>t.$emit("selectWallet")),class:W(["tab",{active:n.active}])},[u(l,{address:e.model},null,8,["address"])],2)):x("",!0),n.exit?(s(),o("button",{key:1,class:"exit",type:"button",onClick:a[1]||(a[1]=d=>t.$emit("exit"))},ze)):x("",!0)])}var Me=h(Se,[["render",Le],["__scopeId","data-v-5a61efe6"]]);const Ne={components:{AddressIcon:F},props:["addresses","modelValue"],setup(t,{emit:a}){return{model:y({get(){return t.modelValue},set(e){a("update:modelValue",e)}})}}},De={class:"wallet-tabs"},Fe=["onClick"];function je(t,a,n,e,r,_){const l=i("AddressIcon");return s(),o("div",De,[(s(!0),o(V,null,$(n.addresses,d=>(s(),o("button",{key:d,type:"button",onClick:v=>e.model=d,class:W(["tab",{active:d==e.model}])},[u(l,{address:d},null,8,["address"])],10,Fe))),128))])}var He=h(Ne,[["render",je],["__scopeId","data-v-09215434"]]);const Pe={components:{Icon:H},props:["icon","img"],setup(){}},Ue={class:"icon-background"};function Re(t,a,n,e,r,_){const l=i("Icon");return s(),o("div",Ue,[n.img?(s(),p(l,{key:0,class:"page-logo",icon:n.img},null,8,["icon"])):(s(),p(l,{key:1,class:"page-logo placeholder",icon:n.icon},null,8,["icon"]))])}var ee=h(Pe,[["render",Re],["__scopeId","data-v-34c166f1"]]);const Oe={props:["modelValue"],setup(t,{emit:a}){return{expanded:y({get(){return t.modelValue},set(e){a("update:modelValue",e)}})}}},te=t=>(B("data-v-52e2fbe0"),t=t(),E(),t),qe=te(()=>c("path",{d:"M24 24H0V0h24v24z",fill:"none",opacity:".87"},null,-1)),Ge=te(()=>c("path",{d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6-1.41-1.41z"},null,-1)),Ke=[qe,Ge];function Qe(t,a,n,e,r,_){return s(),o("button",{type:"button",class:"expand",onClick:a[0]||(a[0]=l=>e.expanded=!e.expanded)},[(s(),o("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:W({expanded:e.expanded})},Ke,2))])}var Ye=h(Oe,[["render",Qe],["__scopeId","data-v-52e2fbe0"]]);const Xe={components:{Icon:H},props:["actions"]},Je={class:"actions-list flex-row"},Ze=["onClick"];function et(t,a,n,e,r,_){const l=i("Icon");return s(),o("div",Je,[(s(!0),o(V,null,$(n.actions,d=>(s(),o("button",{key:d.name,onClick:d.run,type:"button",class:"action flex-row"},[u(l,{icon:d.icon},null,8,["icon"]),c("div",null,w(d.name),1)],8,Ze))),128))])}var ne=h(Xe,[["render",et],["__scopeId","data-v-64771746"]]);const tt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"#FFF"},nt=c("path",{d:"M0 0h24v24H0V0z",fill:"none"},null,-1),at=c("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2zm-2 1H8v-6c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5v6z"},null,-1),st=[nt,at];function ot(t,a){return s(),o("svg",tt,st)}var lt={render:ot};const ct={components:{ActionsList:ne,IconBackground:ee,Date:ve,Expand:Ye},props:["data"],setup(t){return{IconNotification:lt}}},dt={class:"flex-row"},it={class:"flex-row",style:{flex:"1 1 0"}},rt={class:"content"},_t={class:"title"},ut={class:"secondary-text"};function mt(t,a,n,e,r,_){const l=i("IconBackground"),d=i("Date"),v=i("ActionsList"),g=i("Expand");return s(),o("div",{class:W(["notification",{expanded:n.data.expanded}])},[c("div",dt,[c("div",it,[u(l,{icon:n.data.icon||e.IconNotification,img:n.data.img},null,8,["icon","img"]),c("div",rt,[n.data.expanded?(s(),p(d,{key:0,class:"secondary-text",timestamp:n.data.timestamp},null,8,["timestamp"])):x("",!0),c("div",_t,w(n.data.title),1),c("div",ut,[K(t.$slots,"default",{},void 0,!0)]),n.data.expanded?(s(),p(v,{key:1,actions:n.data.actions},null,8,["actions"])):x("",!0)])]),u(g,{modelValue:n.data.expanded,"onUpdate:modelValue":a[0]||(a[0]=k=>n.data.expanded=k)},null,8,["modelValue"])])],2)}var vt=h(ct,[["render",mt],["__scopeId","data-v-3a2aa44c"]]);const ft={components:{Address:Q},props:["tx"],setup(t){return{verticalElement:y(()=>j.breakpoints.verticalLayout),humanFileSize:fe}}},xt={class:"tx-card-extension"},gt={key:0,class:"flex-row",style:{"justify-content":"space-between"}},ht={key:0},yt={key:1},pt={key:1,class:"tags secondary-text"};function wt(t,a,n,e,r,_){return s(),o("div",xt,[n.tx.tags.length||n.tx.data_size?(s(),o("div",gt,[n.tx.tags.length?(s(),o("div",ht,"Tags:")):x("",!0),n.tx.data_size?(s(),o("div",yt,"Data: "+w(e.humanFileSize(n.tx.data_size)),1)):x("",!0)])):x("",!0),n.tx.tags.length?(s(),o("ul",pt,[(s(!0),o(V,null,$(n.tx.tags,l=>(s(),o("li",null,w(l.name+" | "+l.value),1))),256))])):x("",!0)])}var bt=h(ft,[["render",wt],["__scopeId","data-v-383b6252"]]);const kt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"#fff"},It=c("path",{d:"M0 0h24v24H0V0z",fill:"none"},null,-1),Ct=c("path",{d:"M9 16.2 4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"},null,-1),Vt=[It,Ct];function $t(t,a){return s(),o("svg",kt,Vt)}var ae={render:$t};const At={components:{TxCard:xe,TxCardExtension:bt,ActionList:ne},props:["messageEntry"],setup(t){const a=b(null);if(t.messageEntry.message.method==="signTransaction"){console.log(t.messageEntry.message.params.tx);const e=t.messageEntry.message.params.tx,r=e.tags.map(({name:_,value:l})=>({name:window.atob(_),value:window.atob(l)}));a.value=G(q({},e),{tags:r})}return{tx:a,actions:[{name:"Accept",icon:ae,run:()=>t.messageEntry.status="accepted"},{name:"Reject",icon:Y,run:()=>t.messageEntry.status="rejected"}]}}},Tt={key:0,class:"permission-card"};function St(t,a,n,e,r,_){const l=i("TxCard"),d=i("TxCardExtension"),v=i("ActionList");return n.messageEntry.message.method==="signTransaction"?(s(),o("div",Tt,[u(l,{tx:e.tx},null,8,["tx"]),u(d,{tx:e.tx},null,8,["tx"]),u(v,{actions:e.actions},null,8,["actions"])])):x("",!0)}var Bt=h(At,[["render",St],["__scopeId","data-v-2394a8b1"]]);const Et={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"#fff"},Wt=c("path",{d:"M0 0h24v24H0V0z",fill:"none"},null,-1),zt=c("path",{d:"M19 19H5V5h7V3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"},null,-1),Lt=[Wt,zt];function Mt(t,a){return s(),o("svg",Et,Lt)}var Nt={render:Mt};const Dt={components:{PermissionCard:Bt,WalletSelector:Me,WalletTabs:He,Tabs:ge,IconBackground:ee,Icon:H,Notification:vt},props:["state"],setup(t){var U;const a=(U=A.wallets[0])==null?void 0:U.key,n=y(()=>A.wallets.map(m=>m.key)),e=b(t.state.wallet||a),r=[{name:"Requests",color:"var(--orange)"},{name:"Permissions",color:"var(--green)"}],_=b(e.value?r[0].name:null);D(()=>t.state.wallet,m=>{g.value=!1,e.value=m,_.value=r[0].name});const l=()=>t.state.wallet=!1,d=()=>{g.value=!1,t.state.wallet=e.value},v=()=>{g.value=!1,e.value=t.state.wallet},g=b(!t.state.wallet),k=()=>{var m;if(!g.value){g.value=!0;return}e.value=t.state.wallet||((m=A.wallets[0])==null?void 0:m.key),g.value=!1},z=y(()=>{var S;const m=t.state.wallet?`Switch to ${e.value}`:`Connect to ${((S=t.state.appInfo)==null?void 0:S.name)||t.state.origin} from the account ${e.value}`;return{title:t.state.wallet?"Switch":"Connect",timestamp:Date.now(),actions:[{name:"Connect",icon:ae,run:d},{name:t.state.wallet?"Cancel":"Switch",icon:Y,run:t.state.wallet?v:k}],expanded:!0,content:m}}),L=y(()=>t.state.messageQueue.filter(m=>!m.fulfilled)),T=_e(j.breakpoints,"verticalLayout"),I=b(null),f=(m,S)=>m>S?I.value="slide-left":I.value="slide-right";D(()=>r.findIndex(m=>m.name===_.value),f),D(()=>A.wallets.findIndex(m=>m.key===e.value),f);const M=b(null);return(async()=>M.value=await we.createTransaction({data:"hello",quantity:"100000000000",target:"32s5eCodNO16YMtSkmKNipQMtjpWz_SORUKwkGvrcrg"}))().then(()=>console.log(M.value)),{test:M,defaultAddress:a,addresses:n,currentAddress:e,tabs:r,currentTab:_,isSelectingWallet:g,selectWallet:k,connectData:z,connectionFeed:L,verticalLayout:T,transitionName:I,disconnect:l,navigateBack:he,navigateBackAvailable:ye,IconConnection:pe,IconLauch:Nt}}},Ft=t=>(B("data-v-67db906c"),t=t(),E(),t),jt={class:"connection-card flex-column no-scrollbar"},Ht={class:"flex-row"},Pt=["disabled"],Ut={style:{"min-width":"0"}},Rt={class:"ellipsis"},Ot={class:"secondary-text ellipsis"},qt={class:"flex-column",style:{flex:"1 1 0"}},Gt={class:"container"},Kt={class:"container-scroll"},Qt={key:0},Yt={class:"box status fade-list-item",key:"0"},Xt={key:1},Jt=Ft(()=>c("div",{class:"box status fade-list-item",key:"0"},"WIP",-1));function Zt(t,a,n,e,r,_){var T,I;const l=i("IconBackground"),d=i("Icon"),v=i("WalletSelector"),g=i("Tabs"),k=i("WalletTabs"),z=i("Notification"),L=i("PermissionCard");return s(),o("div",jt,[c("div",Ht,[c("button",{type:"button",class:"info flex-row",onClick:a[0]||(a[0]=(...f)=>e.navigateBack&&e.navigateBack(...f)),disabled:!e.navigateBackAvailable(n.state.origin,n.state.session)},[u(l,{img:(T=n.state.appInfo)==null?void 0:T.logo,icon:e.IconConnection},null,8,["img","icon"]),c("div",Ut,[c("div",Rt,w(((I=n.state.appInfo)==null?void 0:I.name)||"Connector"),1),c("div",Ot,w(n.state.origin),1)]),e.navigateBackAvailable(n.state.origin,n.state.session)?(s(),p(d,{key:0,icon:e.IconLauch},null,8,["icon"])):x("",!0)],8,Pt),u(v,{modelValue:n.state.wallet,"onUpdate:modelValue":a[1]||(a[1]=f=>n.state.wallet=f),default:e.defaultAddress,exit:!0,active:!e.isSelectingWallet,onSelectWallet:e.selectWallet,onExit:e.disconnect},null,8,["modelValue","default","active","onSelectWallet","onExit"])]),c("div",qt,[u(g,{tabs:e.tabs,modelValue:e.currentTab,"onUpdate:modelValue":a[2]||(a[2]=f=>e.currentTab=f),disabled:!e.currentAddress},null,8,["tabs","modelValue","disabled"]),c("div",Gt,[c("div",Kt,[u(me,{name:e.transitionName,mode:"out-in"},{default:C(()=>[(s(),o("div",{key:(e.currentAddress||"")+e.currentTab,class:"content"},[e.currentTab==="Requests"?(s(),o("div",Qt,[u(N,{name:"fade-list"},{default:C(()=>[e.isSelectingWallet?(s(),p(k,{addresses:e.addresses,modelValue:e.currentAddress,"onUpdate:modelValue":a[3]||(a[3]=f=>e.currentAddress=f),class:"box fade-list-item",key:"0"},null,8,["addresses","modelValue"])):x("",!0),e.connectionFeed.length===0&&n.state.wallet&&n.state.wallet===e.currentAddress?(s(),o("div",Yt,"Connected")):x("",!0),e.currentAddress!==n.state.wallet?(s(),p(z,{data:e.connectData,class:"box fade-list-item",key:"1"},{default:C(()=>[ue(w(e.connectData.content),1)]),_:1},8,["data"])):x("",!0),(s(!0),o(V,null,$(e.connectionFeed,f=>(s(),p(L,{key:f.timestamp,messageEntry:f,style:{padding:"var(--spacing)"},class:"box flex-column fade-list-item"},null,8,["messageEntry"]))),128))]),_:1})])):e.currentTab==="Permissions"?(s(),o("div",Xt,[u(N,{name:"fade-list"},{default:C(()=>[e.isSelectingWallet?(s(),p(k,{addresses:e.addresses,modelValue:e.currentAddress,"onUpdate:modelValue":a[4]||(a[4]=f=>e.currentAddress=f),class:"box fade-list-item",key:"0"},null,8,["addresses","modelValue"])):x("",!0),Jt]),_:1})])):x("",!0)]))]),_:1},8,["name"])])])])])}var en=h(Dt,[["render",Zt],["__scopeId","data-v-67db906c"]]);const tn={components:{Carousel:Te,ConnectionCard:en,AddressIcon:F,Address:Q,Button:be},setup(){const t=b(X.value.findIndex(n=>n.origin===P.origin&&n.session===P.session)),a=y(()=>A.currentWallet);return{currentConnectorIndex:t,currentWallet:a,connectors:X,state:P,states:ke}}},nn={class:"connect flex-column"},an={class:"bottom-info secondary-text",style:{opacity:"0.0","pointer-events":"none"}};function sn(t,a,n,e,r,_){const l=i("ConnectionCard"),d=i("Carousel");return s(),o("div",nn,[u(d,{modelValue:e.currentConnectorIndex,"onUpdate:modelValue":a[0]||(a[0]=v=>e.currentConnectorIndex=v),class:"connectors"},{default:C(()=>[(s(!0),o(V,null,$(e.connectors,v=>(s(),o("div",{key:v.session,class:"connection-card-container fade-list-item"},[u(l,{state:v,class:"box"},null,8,["state"])]))),128))]),_:1},8,["modelValue"]),c("div",an,[c("div",null,"All Channels "+w(Object.keys(e.states).length),1),(s(!0),o(V,null,$(e.states,(v,g)=>(s(),o("div",{key:g},w(v),1))),128))])])}var rn=h(tn,[["render",sn],["__scopeId","data-v-0cc1a1fc"]]);export{rn as default};
