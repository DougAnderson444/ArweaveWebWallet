var ve=Object.defineProperty,me=Object.defineProperties;var fe=Object.getOwnPropertyDescriptors;var G=Object.getOwnPropertySymbols;var pe=Object.prototype.hasOwnProperty,xe=Object.prototype.propertyIsEnumerable;var Q=(e,t,n)=>t in e?ve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,X=(e,t)=>{for(var n in t||(t={}))pe.call(t,n)&&Q(e,n,t[n]);if(G)for(var n of G(t))xe.call(t,n)&&Q(e,n,t[n]);return e},O=(e,t)=>me(e,fe(t));import{g as x,f as I,w as he,X as ge,o as a,c,k as v,l as k,V as Y,Z as N,P as S,Q as z,d,a9 as B,H as r,I as L,t as f,F as b,h as V,j as y,p as $,N as w,a as W,G as ye,W as $e,T as we}from"./vendor.7edff085.js";import{_ as h,f as Z,c as J,W as T,i as D,D as Ie,b as ke,d as K,h as be,T as Ve,j as ee,n as te,k as ne,l as Ce,m as Te,o as ae,s as se,p as oe}from"./index.d733c4f1.js";const Ee={props:["modelValue"],setup(e,{emit:t}){const n=x({get(){return e.modelValue},set(s){t("update:modelValue",s)}}),l=I(null),o=x(()=>{var s;return((s=l.value)==null?void 0:s.children)?Array(...l.value.children).slice(1,l.value.children.length-1):null}),i=()=>{var s,m;(m=(s=o.value)==null?void 0:s[Math.max(n.value||0,0)])==null||m.scrollIntoView({behavior:"smooth",block:"start",inline:"start"})};return he(i),ge(()=>setTimeout(i)),{model:n,root:l}}},le=e=>(S("data-v-7561eed9"),e=e(),z(),e),Se={ref:"root",class:"carousel flex-row no-scrollbar"},ze=le(()=>d("div",{class:"margin fade-list-item",key:"margin1"},null,-1)),Be=le(()=>d("div",{class:"margin fade-list-item",key:"margin2"},null,-1));function Le(e,t,n,l,o,i){return a(),c("div",Se,[v(N,{name:"fade-list"},{default:k(()=>[ze,Y(e.$slots,"default",{},void 0,!0),Be]),_:3})],512)}var Ae=h(Ee,[["render",Le],["__scopeId","data-v-7561eed9"]]);const ce=e=>(S("data-v-7b045f16"),e=e(),z(),e),Me={class:"wallet-selector"},Ne=ce(()=>d("div",{class:"exit-background"},null,-1)),We=ce(()=>d("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},[d("path",{d:"M0 0h24v24H0V0z",fill:"none"}),d("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"})],-1)),De=[Ne,We],He=B({props:{modelValue:String,default:String,exit:Boolean,active:Boolean},emits:["update:modelValue","selectWallet","exit"],setup(e,{emit:t}){const n=e,l=x({get(){return n.modelValue||n.default},set(i){t("update:modelValue",i)}}),o=x(()=>{var i;return(i=Z(l.value))==null?void 0:i.key});return(i,s)=>(a(),c("div",Me,[r(l)?(a(),c("button",{key:0,type:"button",onClick:s[0]||(s[0]=m=>i.$emit("selectWallet")),class:L(["tab",{active:e.active}])},[v(J,{address:r(o)},null,8,["address"])],2)):f("",!0),e.exit?(a(),c("button",{key:1,class:"exit",type:"button",onClick:s[1]||(s[1]=m=>i.$emit("exit"))},De)):f("",!0)]))}});var je=h(He,[["__scopeId","data-v-7b045f16"]]);const Fe={class:"wallet-tabs"},Pe=["onClick"],Ue=B({props:["addresses","modelValue"],emits:["update:modelValue"],setup(e,{emit:t}){const n=e,l=x({get(){return n.modelValue},set(o){t("update:modelValue",o)}});return(o,i)=>(a(),c("div",Fe,[(a(!0),c(b,null,V(r(T),s=>(a(),c("button",{key:s.id,type:"button",onClick:m=>l.value=s.id,class:L(["tab",{active:s.id==r(l)}])},[v(J,{address:s.key},null,8,["address"])],10,Pe))),128))]))}});var de=h(Ue,[["__scopeId","data-v-7cce63f4"]]);const Re={components:{Icon:D},props:["icon","img"],setup(){}},qe={class:"icon-background"};function Ge(e,t,n,l,o,i){const s=y("Icon");return a(),c("div",qe,[n.img?(a(),$(s,{key:0,class:"page-logo",icon:n.img},null,8,["icon"])):(a(),$(s,{key:1,class:"page-logo placeholder",icon:n.icon},null,8,["icon"]))])}var ie=h(Re,[["render",Ge],["__scopeId","data-v-34c166f1"]]);const Qe={props:["modelValue"],setup(e,{emit:t}){return{expanded:x({get(){return e.modelValue},set(l){t("update:modelValue",l)}})}}},re=e=>(S("data-v-52e2fbe0"),e=e(),z(),e),Xe=re(()=>d("path",{d:"M24 24H0V0h24v24z",fill:"none",opacity:".87"},null,-1)),Oe=re(()=>d("path",{d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6-1.41-1.41z"},null,-1)),Ye=[Xe,Oe];function Ze(e,t,n,l,o,i){return a(),c("button",{type:"button",class:"expand",onClick:t[0]||(t[0]=s=>l.expanded=!l.expanded)},[(a(),c("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:L({expanded:l.expanded})},Ye,2))])}var Je=h(Qe,[["render",Ze],["__scopeId","data-v-52e2fbe0"]]);const Ke={components:{Icon:D},props:["actions"]},et={class:"actions-list flex-row"},tt=["onClick"];function nt(e,t,n,l,o,i){const s=y("Icon");return a(),c("div",et,[(a(!0),c(b,null,V(n.actions,m=>(a(),c("button",{key:m.name,onClick:m.run,type:"button",class:"action flex-row"},[v(s,{icon:m.icon},null,8,["icon"]),d("div",null,w(m.name),1)],8,tt))),128))])}var ue=h(Ke,[["render",nt],["__scopeId","data-v-64771746"]]);const at={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"#FFF"},st=d("path",{d:"M0 0h24v24H0V0z",fill:"none"},null,-1),ot=d("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2zm-2 1H8v-6c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5v6z"},null,-1),lt=[st,ot];function ct(e,t){return a(),c("svg",at,lt)}var dt={render:ct};const it={components:{ActionsList:ue,IconBackground:ie,Date:Ie,Expand:Je},props:["data"],setup(e){return{IconNotification:dt}}},rt={class:"flex-row"},ut={class:"flex-row",style:{flex:"1 1 0"}},_t={class:"content"},vt={class:"title"},mt={class:"secondary-text"};function ft(e,t,n,l,o,i){const s=y("IconBackground"),m=y("Date"),C=y("ActionsList"),A=y("Expand");return a(),c("div",{class:L(["notification",{expanded:n.data.expanded}])},[d("div",rt,[d("div",ut,[v(s,{icon:n.data.icon||l.IconNotification,img:n.data.img},null,8,["icon","img"]),d("div",_t,[n.data.expanded?(a(),$(m,{key:0,class:"secondary-text",timestamp:n.data.timestamp},null,8,["timestamp"])):f("",!0),d("div",vt,w(n.data.title),1),d("div",mt,[Y(e.$slots,"default",{},void 0,!0)]),n.data.expanded?(a(),$(C,{key:1,actions:n.data.actions},null,8,["actions"])):f("",!0)])]),v(A,{modelValue:n.data.expanded,"onUpdate:modelValue":t[0]||(t[0]=p=>n.data.expanded=p)},null,8,["modelValue"])])],2)}var pt=h(it,[["render",ft],["__scopeId","data-v-3a2aa44c"]]);const xt={components:{Address:ke},props:["tx"],setup(e){return{verticalElement:x(()=>K.breakpoints.verticalLayout),humanFileSize:be}}},ht={class:"tx-card-extension"},gt={key:0,class:"flex-row",style:{"justify-content":"space-between"}},yt={key:0},$t={key:1},wt={key:1,class:"tags secondary-text"};function It(e,t,n,l,o,i){return a(),c("div",ht,[n.tx.tags.length||n.tx.data_size?(a(),c("div",gt,[n.tx.tags.length?(a(),c("div",yt,"Tags:")):f("",!0),n.tx.data_size?(a(),c("div",$t,"Data: "+w(l.humanFileSize(n.tx.data_size)),1)):f("",!0)])):f("",!0),n.tx.tags.length?(a(),c("ul",wt,[(a(!0),c(b,null,V(n.tx.tags,s=>(a(),c("li",null,w(s.name+" | "+s.value),1))),256))])):f("",!0)])}var kt=h(xt,[["render",It],["__scopeId","data-v-383b6252"]]);const bt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"#fff"},Vt=d("path",{d:"M0 0h24v24H0V0z",fill:"none"},null,-1),Ct=d("path",{d:"M9 16.2 4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"},null,-1),Tt=[Vt,Ct];function Et(e,t){return a(),c("svg",bt,Tt)}var _e={render:Et};const St={components:{TxCard:Ve,TxCardExtension:kt,ActionList:ue},props:["messageEntry"],setup(e){const t=I(null);if(e.messageEntry.message.method==="signTransaction"){console.log(e.messageEntry.message.params.tx);const l=e.messageEntry.message.params.tx,o=l.tags.map(({name:i,value:s})=>({name:window.atob(i),value:window.atob(s)}));t.value=O(X({},l),{tags:o})}return{tx:t,actions:[{name:"Accept",icon:_e,run:()=>e.messageEntry.status="accepted"},{name:"Reject",icon:ee,run:()=>e.messageEntry.status="rejected"}]}}},zt={key:0,class:"permission-card"};function Bt(e,t,n,l,o,i){const s=y("TxCard"),m=y("TxCardExtension"),C=y("ActionList");return n.messageEntry.message.method==="signTransaction"?(a(),c("div",zt,[v(s,{tx:l.tx},null,8,["tx"]),v(m,{tx:l.tx},null,8,["tx"]),v(C,{actions:l.actions},null,8,["actions"])])):f("",!0)}var Lt=h(St,[["render",Bt],["__scopeId","data-v-2394a8b1"]]);const At={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"#fff"},Mt=d("path",{d:"M0 0h24v24H0V0z",fill:"none"},null,-1),Nt=d("path",{d:"M19 19H5V5h7V3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"},null,-1),Wt=[Mt,Nt];function Dt(e,t){return a(),c("svg",At,Wt)}var Ht={render:Dt};const jt=e=>(S("data-v-cc44a4e2"),e=e(),z(),e),Ft={class:"connection-card flex-column no-scrollbar"},Pt={class:"flex-row"},Ut=["disabled"],Rt={style:{"min-width":"0"}},qt={class:"ellipsis"},Gt={class:"secondary-text ellipsis"},Qt={class:"flex-column",style:{flex:"1 1 0"}},Xt={class:"container"},Ot={class:"container-scroll"},Yt={key:0},Zt={class:"box status fade-list-item",key:"0"},Jt={key:1},Kt=jt(()=>d("div",{class:"box status fade-list-item",key:"0"},"WIP",-1)),en=B({props:{state:null},setup(e){var U;const t=e,n=(U=T.value[0])==null?void 0:U.id,l=x(()=>T.value.map(u=>u.key)),o=I(t.state.walletId||n);x(()=>Z(n));const i=[{name:"Requests",color:"var(--orange)"},{name:"Permissions",color:"var(--green)"}],s=I(o.value?i[0].name:null);W(()=>t.state.walletId,u=>{!u||(p.value=!1,o.value=u,s.value=i[0].name)});const m=()=>t.state.walletId=!1,C=()=>{p.value=!1,t.state.walletId=o.value+""},A=()=>{!t.state.walletId||(p.value=!1,o.value=t.state.walletId)},p=I(!t.state.walletId),H=()=>{var u;if(!p.value){p.value=!0;return}o.value=t.state.walletId||((u=T.value[0])==null?void 0:u.id),p.value=!1},j=x(()=>{var _;const u=t.state.walletId?`Switch to ${o.value}`:`Connect to ${((_=t.state.appInfo)==null?void 0:_.name)||t.state.origin} from the account ${o.value}`;return{title:t.state.walletId?"Switch":"Connect",timestamp:Date.now(),actions:[{name:"Connect",icon:_e,run:C},{name:t.state.walletId?"Cancel":"Switch",icon:ee,run:t.state.walletId?A:H}],expanded:!0,content:u}}),F=x(()=>{var u;return(u=t.state.messageQueue)==null?void 0:u.filter(_=>!_.fulfilled)});ye(K.breakpoints,"verticalLayout");const M=I(null),P=(u,_)=>u>_?M.value="slide-left":M.value="slide-right";return W(()=>i.findIndex(u=>u.name===s.value),P),W(()=>T.value.findIndex(u=>u.id===o.value),P),(u,_)=>{var R,q;return a(),c("div",Ft,[d("div",Pt,[d("button",{type:"button",class:"info flex-row",onClick:_[0]||(_[0]=(...g)=>r(te)&&r(te)(...g)),disabled:!r(ne)(e.state.origin,e.state.session)},[v(ie,{img:(R=e.state.appInfo)==null?void 0:R.logo,icon:r(Ce)},null,8,["img","icon"]),d("div",Rt,[d("div",qt,w(((q=e.state.appInfo)==null?void 0:q.name)||"Connector"),1),d("div",Gt,w(e.state.origin),1)]),r(ne)(e.state.origin,e.state.session)?(a(),$(D,{key:0,icon:r(Ht)},null,8,["icon"])):f("",!0)],8,Ut),v(je,{modelValue:e.state.walletId,"onUpdate:modelValue":_[1]||(_[1]=g=>e.state.walletId=g),default:r(n),exit:!0,active:!p.value,onSelectWallet:H,onExit:m},null,8,["modelValue","default","active"])]),d("div",Qt,[v(Te,{tabs:i,modelValue:s.value,"onUpdate:modelValue":_[2]||(_[2]=g=>s.value=g),disabled:!o.value},null,8,["modelValue","disabled"]),d("div",Xt,[d("div",Ot,[v(we,{name:M.value,mode:"out-in"},{default:k(()=>[(a(),c("div",{key:(o.value||"")+s.value,class:"content"},[s.value==="Requests"?(a(),c("div",Yt,[v(N,{name:"fade-list"},{default:k(()=>{var g;return[p.value?(a(),$(de,{addresses:r(l),modelValue:o.value,"onUpdate:modelValue":_[3]||(_[3]=E=>o.value=E),class:"box fade-list-item",key:"0"},null,8,["addresses","modelValue"])):f("",!0),((g=r(F))==null?void 0:g.length)===0&&e.state.walletId&&e.state.walletId===o.value?(a(),c("div",Zt,"Connected")):f("",!0),o.value!==e.state.walletId?(a(),$(pt,{data:r(j),class:"box fade-list-item",key:"1"},{default:k(()=>[$e(w(r(j).content),1)]),_:1},8,["data"])):f("",!0),(a(!0),c(b,null,V(r(F),E=>(a(),$(Lt,{key:E.timestamp,messageEntry:E,style:{padding:"var(--spacing)"},class:"box flex-column fade-list-item"},null,8,["messageEntry"]))),128))]}),_:1})])):s.value==="Permissions"?(a(),c("div",Jt,[v(N,{name:"fade-list"},{default:k(()=>[p.value?(a(),$(de,{addresses:r(l),modelValue:o.value,"onUpdate:modelValue":_[4]||(_[4]=g=>o.value=g),class:"box fade-list-item",key:"0"},null,8,["addresses","modelValue"])):f("",!0),Kt]),_:1})])):f("",!0)]))]),_:1},8,["name"])])])])])}}});var tn=h(en,[["__scopeId","data-v-cc44a4e2"]]);const nn={class:"connect flex-column"},an={class:"bottom-info secondary-text",style:{opacity:"0.0","pointer-events":"none"}},sn=B({setup(e){const t=I(ae.value.findIndex(n=>n.origin===se.origin&&n.session===se.session));return(n,l)=>(a(),c("div",nn,[v(Ae,{modelValue:t.value,"onUpdate:modelValue":l[0]||(l[0]=o=>t.value=o),class:"connectors"},{default:k(()=>[(a(!0),c(b,null,V(r(ae),o=>(a(),c("div",{key:o.session,class:"connection-card-container fade-list-item"},[v(tn,{state:o,class:"box"},null,8,["state"])]))),128))]),_:1},8,["modelValue"]),d("div",an,[d("div",null,"All Channels "+w(Object.keys(r(oe)).length),1),(a(!0),c(b,null,V(r(oe),(o,i)=>(a(),c("div",{key:i},w(o),1))),128))])]))}});var dn=h(sn,[["__scopeId","data-v-cae19d9e"]]);export{dn as default};
