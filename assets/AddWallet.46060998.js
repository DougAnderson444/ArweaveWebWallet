import{O as E,f as u,r as j,g as F,c as y,d as s,k as w,p,l as d,H as n,T as L,F as C,h as W,P as A,Q as D,o,W as r,N as m,t as I}from"./vendor.a231a000.js";import{_ as M,q as G,L as H,m as v,r as O,t as P,v as $,u as z,f as J,w as K,x as Q}from"./index.1832f254.js";const g=_=>(A("data-v-a4dbf53a"),_=_(),D(),_),R={class:"add-wallet flex-column"},U={class:"card"},X=g(()=>s("h2",{style:{display:"flex","justify-content":"space-between"}},[s("span",null,"Passphrase"),s("span",null,"Key file")],-1)),Y={class:"flex-column"},Z=g(()=>s("div",null,null,-1)),ee=r("Create new wallet"),ae=r("Import passphrase"),se={style:{flex:"1 1 auto",display:"flex","flex-direction":"column","align-items":"center","justify-content":"space-evenly","margin-bottom":"var(--spacing)"}},te={class:"actions-container flex-row"},le={class:"card"},ne=g(()=>s("h2",null,"Hardware",-1)),oe={setup(_){const f=E(),t=u("");u("");const e=j({}),k=F(()=>t.value.trim().split(/\s+/g).length>=12),h=u(!1),b=u(!1),c=u(null),S=async()=>{h.value=!0,t.value=await O();const l=P(t.value);setTimeout(async()=>c.value=await l,1e4)},V=()=>{f.push({name:"EditWallet",query:{wallet:c.value}})},x=async()=>{b.value=!0;const l=P(t.value);e.enabled=!0,e.icon="loader",e.message="Importing",e.actions=[],f.push({name:"EditWallet",query:{wallet:await l}})},B=async()=>{if(await $(t.value))return x();e.enabled=!0,e.icon="",e.message="This passphrase is not valid, do you want to import it anyway?",e.actions=[{name:"Back",action:()=>e.enabled=!1},{name:"Import Passphrase",action:()=>x()}]},N=async l=>{if(!l)return;const i=await z(JSON.parse(await l[0].text()));f.push({name:"EditWallet",query:{wallet:i}})},T=async l=>{const i=await K(l);f.push({name:"EditWallet",query:{wallet:i}})},q=[Q];return(l,i)=>(o(),y("div",R,[s("div",U,[X,s("div",Y,[w(G,{modelValue:t.value,"onUpdate:modelValue":i[0]||(i[0]=a=>t.value=a),onFiles:N,disabled:h.value,placeholder:"Import passphrase or key file"},null,8,["modelValue","disabled"]),Z,!h.value&&!t.value.length?(o(),p(v,{key:0,onClick:i[1]||(i[1]=a=>S()),disabled:t.value.length&&!n(k),icon:n(H)},{default:d(()=>[ee]),_:1},8,["disabled","icon"])):h.value?(o(),p(v,{key:1,disabled:c.value==null,onClick:V,icon:c.value==null?"loader":""},{default:d(()=>[r(m(c.value==null?"Generating, write down the passphrase":"Passphrase saved? Click here to proceed"),1)]),_:1},8,["disabled","icon"])):(o(),p(v,{key:2,disabled:!n(k)||b.value,onClick:B},{default:d(()=>[ae]),_:1},8,["disabled"]))]),w(L,{name:"fade-fast",mode:"in-out"},{default:d(()=>[n(e).enabled?(o(),y("div",{key:n(e).message,class:"overlay flex-column"},[s("div",se,[n(e).icon?(o(),p(J,{key:0,icon:n(e).icon,style:{"font-size":"2em"}},null,8,["icon"])):I("",!0),r(" "+m(n(e).message),1)]),s("div",te,[(o(!0),y(C,null,W(n(e).actions,a=>(o(),p(v,{key:a.name,onClick:a.action},{default:d(()=>[r(m(a.name),1)]),_:2},1032,["onClick"]))),128))])])):I("",!0)]),_:1})]),s("div",le,[ne,(o(),y(C,null,W(q,a=>w(v,{key:a.name,disabled:!a.isSupported,onClick:ie=>T(a),icon:a.icon},{default:d(()=>[r(m(a.name)+" "+m(a.isSupported?"":" not supported for this browser"),1)]),_:2},1032,["disabled","onClick","icon"])),64))])]))}};var ce=M(oe,[["__scopeId","data-v-a4dbf53a"]]);export{ce as default};
