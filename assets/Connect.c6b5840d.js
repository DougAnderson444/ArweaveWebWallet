var fe=Object.defineProperty,pe=Object.defineProperties;var he=Object.getOwnPropertyDescriptors;var X=Object.getOwnPropertySymbols;var xe=Object.prototype.hasOwnProperty,ge=Object.prototype.propertyIsEnumerable;var Y=(t,a,e)=>a in t?fe(t,a,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[a]=e,G=(t,a)=>{for(var e in a||(a={}))xe.call(a,e)&&Y(t,e,a[e]);if(X)for(var e of X(a))ge.call(a,e)&&Y(t,e,a[e]);return t},K=(t,a)=>pe(t,he(a));import{ad as z,f as y,d as S,g as ye,a2 as we,o as n,c as o,v as f,x as C,E as p,a0 as Q,a4 as W,q as $e,O as v,P as D,X as P,Y as F,a as c,F as w,p as B,u as E,y as $,V,w as N,T as J,a1 as L,t as ke}from"./vendor.dfbcc0b3.js";import{_ as k,f as Z,b as ee,W as M,i as H,D as Ie,c as be,I as te,h as Ve,j as Ce,T as Se,k as ae,l as ne,n as se,m as oe,o as ze,p as le,s as ce,q as ie}from"./index.7ff1cf18.js";const Be={class:"margin fade-list-item",key:"margin1"},Ee={class:"margin fade-list-item",key:"margin2"},Te=z({props:{modelValue:null,options:null},emits:["update:modelValue"],setup(t,{emit:a}){const e=t,s=y({get(){return e.modelValue},set(r){a("update:modelValue",r)}}),i=S(null),l=y(()=>{var r;return((r=i.value)==null?void 0:r.children)?Array(...i.value.children).slice(1,i.value.children.length-1):null}),d=y(()=>{var r;return{"--position":((r=e.options)==null?void 0:r.position)||"start"}}),u=r=>{var x,g,I;const _=Math.max(s.value||0,0);!_||(I=(x=l.value)==null?void 0:x[_])==null||I.scrollIntoView({behavior:r?"instant":"smooth",block:"start",inline:((g=e.options)==null?void 0:g.position)||"start"})};return ye(()=>u()),we(()=>setTimeout(()=>u(e.options.immediate))),(r,_)=>(n(),o("div",{ref_key:"root",ref:i,class:"carousel flex-row no-scrollbar",style:$e(v(d))},[f(W,{name:"fade-list"},{default:C(()=>{var x,g;return[((x=t.options)==null?void 0:x.overscroll)?(n(),o("div",Be)):p("",!0),Q(r.$slots,"default",{},void 0,!0),((g=t.options)==null?void 0:g.overscroll)?(n(),o("div",Ee)):p("",!0)]}),_:3})],4))}});var de=k(Te,[["__scopeId","data-v-73cbd4c0"]]);const ue=t=>(P("data-v-7b045f16"),t=t(),F(),t),Le={class:"wallet-selector"},Me=ue(()=>c("div",{class:"exit-background"},null,-1)),Ae=ue(()=>c("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},[c("path",{d:"M0 0h24v24H0V0z",fill:"none"}),c("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"})],-1)),De=[Me,Ae],Ne=z({props:{modelValue:String,default:String,exit:Boolean,active:Boolean},emits:["update:modelValue","selectWallet","exit"],setup(t,{emit:a}){const e=t,s=y({get(){return e.modelValue||e.default},set(l){a("update:modelValue",l)}}),i=y(()=>{var l;return(l=Z(s.value))==null?void 0:l.key});return(l,d)=>(n(),o("div",Le,[v(s)?(n(),o("button",{key:0,type:"button",onClick:d[0]||(d[0]=u=>l.$emit("selectWallet")),class:D(["tab",{active:t.active}])},[f(ee,{address:v(i)},null,8,["address"])],2)):p("",!0),t.exit?(n(),o("button",{key:1,class:"exit",type:"button",onClick:d[1]||(d[1]=u=>l.$emit("exit"))},De)):p("",!0)]))}});var We=k(Ne,[["__scopeId","data-v-7b045f16"]]);const Pe={class:"wallet-tabs"},Fe=["onClick"],He=z({props:["modelValue"],emits:["update:modelValue"],setup(t,{emit:a}){const e=t,s=y({get(){return e.modelValue},set(l){a("update:modelValue",l)}}),i=0;return(l,d)=>(n(),o("div",Pe,[f(de,{modelValue:i,"onUpdate:modelValue":d[0]||(d[0]=u=>i=u),options:{position:"start",overscroll:!1}},{default:C(()=>[(n(!0),o(w,null,B(v(M),u=>(n(),o("button",{key:u.id,type:"button",onClick:r=>s.value=u.id,class:D(["tab",{active:u.id==v(s)}])},[f(ee,{address:u.key},null,8,["address"])],10,Fe))),128))]),_:1})]))}});var re=k(He,[["__scopeId","data-v-bcc72fbc"]]);const je={components:{Icon:H},props:["icon","img"],setup(){}},Ue={class:"icon-background"};function qe(t,a,e,s,i,l){const d=E("Icon");return n(),o("div",Ue,[e.img?(n(),$(d,{key:0,class:"page-logo",icon:e.img},null,8,["icon"])):(n(),$(d,{key:1,class:"page-logo placeholder",icon:e.icon},null,8,["icon"]))])}var _e=k(je,[["render",qe],["__scopeId","data-v-34c166f1"]]);const Re={props:["modelValue"],setup(t,{emit:a}){return{expanded:y({get(){return t.modelValue},set(s){a("update:modelValue",s)}})}}},ve=t=>(P("data-v-52e2fbe0"),t=t(),F(),t),Oe=ve(()=>c("path",{d:"M24 24H0V0h24v24z",fill:"none",opacity:".87"},null,-1)),Xe=ve(()=>c("path",{d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6-1.41-1.41z"},null,-1)),Ye=[Oe,Xe];function Ge(t,a,e,s,i,l){return n(),o("button",{type:"button",class:"expand",onClick:a[0]||(a[0]=d=>s.expanded=!s.expanded)},[(n(),o("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:D({expanded:s.expanded})},Ye,2))])}var Ke=k(Re,[["render",Ge],["__scopeId","data-v-52e2fbe0"]]);const Qe={components:{Icon:H},props:["actions"]},Je={class:"actions-list flex-row"},Ze=["onClick"];function et(t,a,e,s,i,l){const d=E("Icon");return n(),o("div",Je,[(n(!0),o(w,null,B(e.actions,u=>(n(),o("button",{key:u.name,onClick:u.run,type:"button",class:"action flex-row"},[f(d,{icon:u.icon},null,8,["icon"]),c("div",null,V(u.name),1)],8,Ze))),128))])}var j=k(Qe,[["render",et],["__scopeId","data-v-64771746"]]);const tt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"#FFF"},at=c("path",{d:"M0 0h24v24H0V0z",fill:"none"},null,-1),nt=c("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2zm-2 1H8v-6c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5v6z"},null,-1),st=[at,nt];function ot(t,a){return n(),o("svg",tt,st)}var lt={render:ot};const ct={components:{ActionsList:j,IconBackground:_e,Date:Ie,Expand:Ke},props:["data"],setup(t){return{IconNotification:lt}}},it={class:"flex-row"},dt={class:"flex-row",style:{flex:"1 1 0"}},ut={class:"content"},rt={class:"title"},_t={class:"secondary-text"};function vt(t,a,e,s,i,l){const d=E("IconBackground"),u=E("Date"),r=E("ActionsList"),_=E("Expand");return n(),o("div",{class:D(["notification",{expanded:e.data.expanded}])},[c("div",it,[c("div",dt,[f(d,{icon:e.data.icon||s.IconNotification,img:e.data.img},null,8,["icon","img"]),c("div",ut,[e.data.expanded?(n(),$(u,{key:0,class:"secondary-text",timestamp:e.data.timestamp},null,8,["timestamp"])):p("",!0),c("div",rt,V(e.data.title),1),c("div",_t,[Q(t.$slots,"default",{},void 0,!0)]),e.data.expanded?(n(),$(r,{key:1,actions:e.data.actions},null,8,["actions"])):p("",!0)])]),f(_,{modelValue:e.data.expanded,"onUpdate:modelValue":a[0]||(a[0]=x=>e.data.expanded=x)},null,8,["modelValue"])])],2)}var mt=k(ct,[["render",vt],["__scopeId","data-v-3a2aa44c"]]);const ft={components:{Address:be},props:["tx"],setup(t){return{verticalElement:y(()=>te.breakpoints.verticalLayout),humanFileSize:Ve}}},pt={class:"tx-card-extension"},ht={key:0,class:"flex-row",style:{"justify-content":"space-between"}},xt={key:0},gt={key:1},yt={key:1,class:"tags secondary-text"};function wt(t,a,e,s,i,l){return n(),o("div",pt,[e.tx.tags.length||e.tx.data_size?(n(),o("div",ht,[e.tx.tags.length?(n(),o("div",xt,"Tags:")):p("",!0),e.tx.data_size?(n(),o("div",gt,"Data: "+V(s.humanFileSize(e.tx.data_size)),1)):p("",!0)])):p("",!0),e.tx.tags.length?(n(),o("ul",yt,[(n(!0),o(w,null,B(e.tx.tags,d=>(n(),o("li",null,V(d.name+" | "+d.value),1))),256))])):p("",!0)])}var $t=k(ft,[["render",wt],["__scopeId","data-v-383b6252"]]);const kt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"#fff"},It=c("path",{d:"M0 0h24v24H0V0z",fill:"none"},null,-1),bt=c("path",{d:"M9 16.2 4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"},null,-1),Vt=[It,bt];function Ct(t,a){return n(),o("svg",kt,Vt)}var me={render:Ct};const St={key:0,class:"permission-card"},zt=L(" Share the public key "),Bt=L(" Share the arweave config "),Et=L(" Sign data "),Tt=L(" Decrypt data "),Lt=z({props:{messageEntry:null},setup(t){const a=t,e=S(null),s=y(()=>{var r,_,x,g;if(((r=e.value)==null?void 0:r.method)!=="signTransaction")return;const d=(x=(_=e.value)==null?void 0:_.params)==null?void 0:x[0],u=(g=d.tags)==null?void 0:g.map(({name:I,value:T})=>({name:window.atob(I),value:window.atob(T)}));return K(G({},d),{tags:u})});N(()=>a.messageEntry,async()=>{e.value=await Ce(a.messageEntry)},{immediate:!0});const i=[{name:"Accept",icon:me,run:()=>a.messageEntry.status="accepted"},{name:"Reject",icon:ae,run:()=>a.messageEntry.status="rejected"}],l=[{name:"Pending",icon:ne,run:()=>{}}];return(d,u)=>{var r,_,x,g,I;return e.value?(n(),o("div",St,[((r=e.value)==null?void 0:r.method)==="signTransaction"?(n(),o(w,{key:0},[f(Se,{tx:v(s)},null,8,["tx"]),f($t,{tx:v(s)},null,8,["tx"])],64)):((_=e.value)==null?void 0:_.method)==="getPublicKey"?(n(),o(w,{key:1},[zt],64)):((x=e.value)==null?void 0:x.method)==="getArweaveConfig"?(n(),o(w,{key:2},[Bt],64)):((g=e.value)==null?void 0:g.method)==="sign"?(n(),o(w,{key:3},[Et],64)):((I=e.value)==null?void 0:I.method)==="decrypt"?(n(),o(w,{key:4},[Tt],64)):p("",!0),f(J,{name:"fade",mode:"out-in"},{default:C(()=>[t.messageEntry.status?(n(),$(j,{key:1,actions:l})):(n(),$(j,{key:0,actions:i}))]),_:1})])):p("",!0)}}});var Mt=k(Lt,[["__scopeId","data-v-11f8fcdc"]]);const At={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"#fff"},Dt=c("path",{d:"M0 0h24v24H0V0z",fill:"none"},null,-1),Nt=c("path",{d:"M19 19H5V5h7V3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"},null,-1),Wt=[Dt,Nt];function Pt(t,a){return n(),o("svg",At,Wt)}var Ft={render:Pt};const Ht=t=>(P("data-v-4320a95b"),t=t(),F(),t),jt={class:"connection-card flex-column no-scrollbar"},Ut={class:"flex-row"},qt=["disabled"],Rt={style:{"min-width":"0"}},Ot={class:"ellipsis"},Xt={class:"secondary-text ellipsis"},Yt={class:"flex-column",style:{flex:"1 1 0"}},Gt={class:"container"},Kt={class:"container-scroll"},Qt={key:0},Jt={class:"box status fade-list-item",key:"0"},Zt={key:1},ea=Ht(()=>c("div",{class:"box status fade-list-item",key:"0"},"WIP",-1)),ta=z({props:{state:null},setup(t){var q;const a=t,e=(q=M.value[0])==null?void 0:q.id;y(()=>M.value.map(m=>m.key));const s=S(a.state.walletId||e);y(()=>Z(e));const i=[{name:"Requests",color:"var(--orange)"},{name:"Permissions",color:"var(--green)"}],l=S(s.value?i[0].name:null);N(()=>a.state.walletId,m=>{!m||(_.value=!1,s.value=m,l.value=i[0].name)});const d=()=>a.state.walletId=!1,u=()=>{_.value=!1,a.state.walletId=s.value+""},r=()=>{!a.state.walletId||(_.value=!1,s.value=a.state.walletId)},_=S(!a.state.walletId),x=()=>{var m;if(!_.value){_.value=!0;return}s.value=a.state.walletId||((m=M.value[0])==null?void 0:m.id),_.value=!1},g=y(()=>{var h;const m=a.state.walletId?`Switch to ${s.value}`:`Connect to ${((h=a.state.appInfo)==null?void 0:h.name)||a.state.origin} from the account ${s.value}`;return{title:a.state.walletId?"Switch":"Connect",timestamp:Date.now(),actions:[{name:"Connect",icon:me,run:u},{name:a.state.walletId?"Cancel":"Switch",icon:ae,run:a.state.walletId?r:x}],expanded:!0,content:m}}),I=y(()=>{var m;return s.value===a.state.walletId?(m=a.state.messageQueue)==null?void 0:m.filter(h=>!h.fulfilled):[]});ke(te.breakpoints,"verticalLayout");const T=S(null),U=(m,h)=>m>h?T.value="slide-left":T.value="slide-right";return N(()=>i.findIndex(m=>m.name===l.value),U),N(()=>M.value.findIndex(m=>m.id===s.value),U),(m,h)=>{var R,O;return n(),o("div",jt,[c("div",Ut,[c("button",{type:"button",class:"info flex-row",onClick:h[0]||(h[0]=(...b)=>v(se)&&v(se)(...b)),disabled:!v(oe)(t.state.origin,t.state.session)},[f(_e,{img:(R=t.state.appInfo)==null?void 0:R.logo,icon:v(ne)},null,8,["img","icon"]),c("div",Rt,[c("div",Ot,V(((O=t.state.appInfo)==null?void 0:O.name)||"Connector"),1),c("div",Xt,V(t.state.origin),1)]),v(oe)(t.state.origin,t.state.session)?(n(),$(H,{key:0,icon:v(Ft)},null,8,["icon"])):p("",!0)],8,qt),f(We,{modelValue:t.state.walletId,"onUpdate:modelValue":h[1]||(h[1]=b=>t.state.walletId=b),default:v(e),exit:!0,active:!_.value,onSelectWallet:x,onExit:d},null,8,["modelValue","default","active"])]),c("div",Yt,[f(ze,{tabs:i,modelValue:l.value,"onUpdate:modelValue":h[2]||(h[2]=b=>l.value=b),disabled:!s.value},null,8,["modelValue","disabled"]),c("div",Gt,[c("div",Kt,[f(J,{name:T.value,mode:"out-in"},{default:C(()=>[(n(),o("div",{key:(s.value||"")+l.value,class:"content"},[l.value==="Requests"?(n(),o("div",Qt,[f(W,{name:"fade-list"},{default:C(()=>{var b;return[_.value?(n(),$(re,{modelValue:s.value,"onUpdate:modelValue":h[3]||(h[3]=A=>s.value=A),class:"box fade-list-item",key:"0"},null,8,["modelValue"])):p("",!0),((b=v(I))==null?void 0:b.length)===0&&t.state.walletId&&t.state.walletId===s.value?(n(),o("div",Jt,"Connected")):p("",!0),s.value!==t.state.walletId?(n(),$(mt,{data:v(g),class:"box fade-list-item",key:"1"},{default:C(()=>[L(V(v(g).content),1)]),_:1},8,["data"])):p("",!0),(n(!0),o(w,null,B(v(I),A=>(n(),$(Mt,{key:A.uuid,messageEntry:A,style:{padding:"var(--spacing)"},class:"box flex-column fade-list-item"},null,8,["messageEntry"]))),128))]}),_:1})])):l.value==="Permissions"?(n(),o("div",Zt,[f(W,{name:"fade-list"},{default:C(()=>[_.value?(n(),$(re,{modelValue:s.value,"onUpdate:modelValue":h[4]||(h[4]=b=>s.value=b),class:"box fade-list-item",key:"0"},null,8,["modelValue"])):p("",!0),ea]),_:1})])):p("",!0)]))]),_:1},8,["name"])])])])])}}});var aa=k(ta,[["__scopeId","data-v-4320a95b"]]);const na={class:"connect flex-column"},sa={class:"bottom-info secondary-text",style:{opacity:"0.0","pointer-events":"none"}},oa=z({setup(t){const a=S(le.value.findIndex(e=>e.origin===ce.origin&&e.session===ce.session));return(e,s)=>(n(),o("div",na,[f(de,{modelValue:a.value,"onUpdate:modelValue":s[0]||(s[0]=i=>a.value=i),options:{position:"start",overscroll:!0},class:"connectors"},{default:C(()=>[(n(!0),o(w,null,B(v(le),i=>(n(),o("div",{key:i.session,class:"connection-card-container fade-list-item"},[f(aa,{state:i,class:"box"},null,8,["state"])]))),128))]),_:1},8,["modelValue"]),c("div",sa,[c("div",null,"All Channels "+V(Object.keys(v(ie)).length),1),(n(!0),o(w,null,B(v(ie),(i,l)=>(n(),o("div",{key:l},V(i),1))),128))])]))}});var da=k(oa,[["__scopeId","data-v-5775c0fe"]]);export{da as default};
//# sourceMappingURL=Connect.c6b5840d.js.map
