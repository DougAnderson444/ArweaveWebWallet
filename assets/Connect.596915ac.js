var ae=Object.defineProperty,se=Object.defineProperties;var oe=Object.getOwnPropertyDescriptors;var U=Object.getOwnPropertySymbols;var le=Object.prototype.hasOwnProperty,ce=Object.prototype.propertyIsEnumerable;var R=(t,a,n)=>a in t?ae(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,q=(t,a)=>{for(var n in a||(a={}))le.call(a,n)&&R(t,n,a[n]);if(U)for(var n of U(a))ce.call(a,n)&&R(t,n,a[n]);return t},G=(t,a)=>se(t,oe(a));import{g as y,f as I,w as de,X as ie,o as s,c as o,k as m,l as $,V as Q,Z as M,P as B,Q as E,d as c,j as i,I as W,t as f,F as T,h as A,p,N as w,a as D,G as re,W as _e,T as ue}from"./vendor.4798f9ea.js";import{_ as g,c as F,d as j,f as H,D as me,b as X,h as ve,T as fe,i as O,j as xe,W as z,n as he,k as ge,l as ye,m as pe,o as Y,s as P,p as we}from"./index.4558a2c8.js";const be={props:["modelValue"],setup(t,{emit:a}){const n=y({get(){return t.modelValue},set(l){a("update:modelValue",l)}}),e=I(null),r=y(()=>{var l;return((l=e.value)==null?void 0:l.children)?Array(...e.value.children).slice(1,e.value.children.length-1):null}),_=()=>{var l,d;(d=(l=r.value)==null?void 0:l[Math.max(n.value||0,0)])==null||d.scrollIntoView({behavior:"smooth",block:"start",inline:"start"})};return de(_),ie(()=>setTimeout(_)),{model:n,root:e}}},Z=t=>(B("data-v-7561eed9"),t=t(),E(),t),ke={ref:"root",class:"carousel flex-row no-scrollbar"},Ie=Z(()=>c("div",{class:"margin fade-list-item",key:"margin1"},null,-1)),Ce=Z(()=>c("div",{class:"margin fade-list-item",key:"margin2"},null,-1));function Ve(t,a,n,e,r,_){return s(),o("div",ke,[m(M,{name:"fade-list"},{default:$(()=>[Ie,Q(t.$slots,"default",{},void 0,!0),Ce]),_:3})],512)}var $e=g(be,[["render",Ve],["__scopeId","data-v-7561eed9"]]);const Te={components:{AddressIcon:F},props:["modelValue","default","exit","active"],setup(t,{emit:a}){return{model:y({get(){return t.modelValue||t.default},set(e){a("update:modelValue",e)}}),InterfaceStore:j}}},J=t=>(B("data-v-5a61efe6"),t=t(),E(),t),Ae={class:"wallet-selector"},Se=J(()=>c("div",{class:"exit-background"},null,-1)),Be=J(()=>c("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},[c("path",{d:"M0 0h24v24H0V0z",fill:"none"}),c("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"})],-1)),Ee=[Se,Be];function We(t,a,n,e,r,_){const l=i("AddressIcon");return s(),o("div",Ae,[e.model?(s(),o("button",{key:0,type:"button",onClick:a[0]||(a[0]=d=>t.$emit("selectWallet")),class:W(["tab",{active:n.active}])},[m(l,{address:e.model},null,8,["address"])],2)):f("",!0),n.exit?(s(),o("button",{key:1,class:"exit",type:"button",onClick:a[1]||(a[1]=d=>t.$emit("exit"))},Ee)):f("",!0)])}var ze=g(Te,[["render",We],["__scopeId","data-v-5a61efe6"]]);const Le={components:{AddressIcon:F},props:["addresses","modelValue"],setup(t,{emit:a}){return{model:y({get(){return t.modelValue},set(e){a("update:modelValue",e)}})}}},Ne={class:"wallet-tabs"},Me=["onClick"];function De(t,a,n,e,r,_){const l=i("AddressIcon");return s(),o("div",Ne,[(s(!0),o(T,null,A(n.addresses,d=>(s(),o("button",{key:d,type:"button",onClick:v=>e.model=d,class:W(["tab",{active:d==e.model}])},[m(l,{address:d},null,8,["address"])],10,Me))),128))])}var Fe=g(Le,[["render",De],["__scopeId","data-v-09215434"]]);const je={components:{Icon:H},props:["icon","img"],setup(){}},He={class:"icon-background"};function Pe(t,a,n,e,r,_){const l=i("Icon");return s(),o("div",He,[n.img?(s(),p(l,{key:0,class:"page-logo",icon:n.img},null,8,["icon"])):(s(),p(l,{key:1,class:"page-logo placeholder",icon:n.icon},null,8,["icon"]))])}var K=g(je,[["render",Pe],["__scopeId","data-v-34c166f1"]]);const Ue={props:["modelValue"],setup(t,{emit:a}){return{expanded:y({get(){return t.modelValue},set(e){a("update:modelValue",e)}})}}},ee=t=>(B("data-v-52e2fbe0"),t=t(),E(),t),Re=ee(()=>c("path",{d:"M24 24H0V0h24v24z",fill:"none",opacity:".87"},null,-1)),qe=ee(()=>c("path",{d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6-1.41-1.41z"},null,-1)),Ge=[Re,qe];function Qe(t,a,n,e,r,_){return s(),o("button",{type:"button",class:"expand",onClick:a[0]||(a[0]=l=>e.expanded=!e.expanded)},[(s(),o("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:W({expanded:e.expanded})},Ge,2))])}var Xe=g(Ue,[["render",Qe],["__scopeId","data-v-52e2fbe0"]]);const Oe={components:{Icon:H},props:["actions"]},Ye={class:"actions-list flex-row"},Ze=["onClick"];function Je(t,a,n,e,r,_){const l=i("Icon");return s(),o("div",Ye,[(s(!0),o(T,null,A(n.actions,d=>(s(),o("button",{key:d.name,onClick:d.run,type:"button",class:"action flex-row"},[m(l,{icon:d.icon},null,8,["icon"]),c("div",null,w(d.name),1)],8,Ze))),128))])}var te=g(Oe,[["render",Je],["__scopeId","data-v-64771746"]]);const Ke={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"#FFF"},et=c("path",{d:"M0 0h24v24H0V0z",fill:"none"},null,-1),tt=c("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2zm-2 1H8v-6c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5v6z"},null,-1),nt=[et,tt];function at(t,a){return s(),o("svg",Ke,nt)}var st={render:at};const ot={components:{ActionsList:te,IconBackground:K,Date:me,Expand:Xe},props:["data"],setup(t){return{IconNotification:st}}},lt={class:"flex-row"},ct={class:"flex-row",style:{flex:"1 1 0"}},dt={class:"content"},it={class:"title"},rt={class:"secondary-text"};function _t(t,a,n,e,r,_){const l=i("IconBackground"),d=i("Date"),v=i("ActionsList"),x=i("Expand");return s(),o("div",{class:W(["notification",{expanded:n.data.expanded}])},[c("div",lt,[c("div",ct,[m(l,{icon:n.data.icon||e.IconNotification,img:n.data.img},null,8,["icon","img"]),c("div",dt,[n.data.expanded?(s(),p(d,{key:0,class:"secondary-text",timestamp:n.data.timestamp},null,8,["timestamp"])):f("",!0),c("div",it,w(n.data.title),1),c("div",rt,[Q(t.$slots,"default",{},void 0,!0)]),n.data.expanded?(s(),p(v,{key:1,actions:n.data.actions},null,8,["actions"])):f("",!0)])]),m(x,{modelValue:n.data.expanded,"onUpdate:modelValue":a[0]||(a[0]=b=>n.data.expanded=b)},null,8,["modelValue"])])],2)}var ut=g(ot,[["render",_t],["__scopeId","data-v-3a2aa44c"]]);const mt={components:{Address:X},props:["tx"],setup(t){return{verticalElement:y(()=>j.breakpoints.verticalLayout),humanFileSize:ve}}},vt={class:"tx-card-extension"},ft={key:0,class:"flex-row",style:{"justify-content":"space-between"}},xt={key:0},ht={key:1},gt={key:1,class:"tags secondary-text"};function yt(t,a,n,e,r,_){return s(),o("div",vt,[n.tx.tags.length||n.tx.data_size?(s(),o("div",ft,[n.tx.tags.length?(s(),o("div",xt,"Tags:")):f("",!0),n.tx.data_size?(s(),o("div",ht,"Data: "+w(e.humanFileSize(n.tx.data_size)),1)):f("",!0)])):f("",!0),n.tx.tags.length?(s(),o("ul",gt,[(s(!0),o(T,null,A(n.tx.tags,l=>(s(),o("li",null,w(l.name+" | "+l.value),1))),256))])):f("",!0)])}var pt=g(mt,[["render",yt],["__scopeId","data-v-383b6252"]]);const wt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"#fff"},bt=c("path",{d:"M0 0h24v24H0V0z",fill:"none"},null,-1),kt=c("path",{d:"M9 16.2 4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"},null,-1),It=[bt,kt];function Ct(t,a){return s(),o("svg",wt,It)}var ne={render:Ct};const Vt={components:{TxCard:fe,TxCardExtension:pt,ActionList:te},props:["messageEntry"],setup(t){const a=I(null);if(t.messageEntry.message.method==="signTransaction"){console.log(t.messageEntry.message.params.tx);const e=t.messageEntry.message.params.tx,r=e.tags.map(({name:_,value:l})=>({name:window.atob(_),value:window.atob(l)}));a.value=G(q({},e),{tags:r})}return{tx:a,actions:[{name:"Accept",icon:ne,run:()=>t.messageEntry.status="accepted"},{name:"Reject",icon:O,run:()=>t.messageEntry.status="rejected"}]}}},$t={key:0,class:"permission-card"};function Tt(t,a,n,e,r,_){const l=i("TxCard"),d=i("TxCardExtension"),v=i("ActionList");return n.messageEntry.message.method==="signTransaction"?(s(),o("div",$t,[m(l,{tx:e.tx},null,8,["tx"]),m(d,{tx:e.tx},null,8,["tx"]),m(v,{actions:e.actions},null,8,["actions"])])):f("",!0)}var At=g(Vt,[["render",Tt],["__scopeId","data-v-2394a8b1"]]);const St={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"#fff"},Bt=c("path",{d:"M0 0h24v24H0V0z",fill:"none"},null,-1),Et=c("path",{d:"M19 19H5V5h7V3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"},null,-1),Wt=[Bt,Et];function zt(t,a){return s(),o("svg",St,Wt)}var Lt={render:zt};const Nt={components:{PermissionCard:At,WalletSelector:ze,WalletTabs:Fe,Tabs:xe,IconBackground:K,Icon:H,Notification:ut},props:["state"],setup(t){var k;const a=(k=z.value[0])==null?void 0:k.key,n=y(()=>z.value.map(u=>u.key)),e=I(t.state.wallet||a),r=[{name:"Requests",color:"var(--orange)"},{name:"Permissions",color:"var(--green)"}],_=I(e.value?r[0].name:null);D(()=>t.state.wallet,u=>{x.value=!1,e.value=u,_.value=r[0].name});const l=()=>t.state.wallet=!1,d=()=>{x.value=!1,t.state.wallet=e.value},v=()=>{x.value=!1,e.value=t.state.wallet},x=I(!t.state.wallet),b=()=>{var u;if(!x.value){x.value=!0;return}e.value=t.state.wallet||((u=z.value[0])==null?void 0:u.key),x.value=!1},L=y(()=>{var V;const u=t.state.wallet?`Switch to ${e.value}`:`Connect to ${((V=t.state.appInfo)==null?void 0:V.name)||t.state.origin} from the account ${e.value}`;return{title:t.state.wallet?"Switch":"Connect",timestamp:Date.now(),actions:[{name:"Connect",icon:ne,run:d},{name:t.state.wallet?"Cancel":"Switch",icon:O,run:t.state.wallet?v:b}],expanded:!0,content:u}}),N=y(()=>{var u;return(u=t.state.messageQueue)==null?void 0:u.filter(V=>!V.fulfilled)}),S=re(j.breakpoints,"verticalLayout"),C=I(null),h=(u,V)=>u>V?C.value="slide-left":C.value="slide-right";return D(()=>r.findIndex(u=>u.name===_.value),h),D(()=>z.value.findIndex(u=>u.key===e.value),h),{defaultAddress:a,addresses:n,currentAddress:e,tabs:r,currentTab:_,isSelectingWallet:x,selectWallet:b,connectData:L,connectionFeed:N,verticalLayout:S,transitionName:C,disconnect:l,navigateBack:he,navigateBackAvailable:ge,IconConnection:ye,IconLauch:Lt}}},Mt=t=>(B("data-v-1e9a2812"),t=t(),E(),t),Dt={class:"connection-card flex-column no-scrollbar"},Ft={class:"flex-row"},jt=["disabled"],Ht={style:{"min-width":"0"}},Pt={class:"ellipsis"},Ut={class:"secondary-text ellipsis"},Rt={class:"flex-column",style:{flex:"1 1 0"}},qt={class:"container"},Gt={class:"container-scroll"},Qt={key:0},Xt={class:"box status fade-list-item",key:"0"},Ot={key:1},Yt=Mt(()=>c("div",{class:"box status fade-list-item",key:"0"},"WIP",-1));function Zt(t,a,n,e,r,_){var S,C;const l=i("IconBackground"),d=i("Icon"),v=i("WalletSelector"),x=i("Tabs"),b=i("WalletTabs"),L=i("Notification"),N=i("PermissionCard");return s(),o("div",Dt,[c("div",Ft,[c("button",{type:"button",class:"info flex-row",onClick:a[0]||(a[0]=(...h)=>e.navigateBack&&e.navigateBack(...h)),disabled:!e.navigateBackAvailable(n.state.origin,n.state.session)},[m(l,{img:(S=n.state.appInfo)==null?void 0:S.logo,icon:e.IconConnection},null,8,["img","icon"]),c("div",Ht,[c("div",Pt,w(((C=n.state.appInfo)==null?void 0:C.name)||"Connector"),1),c("div",Ut,w(n.state.origin),1)]),e.navigateBackAvailable(n.state.origin,n.state.session)?(s(),p(d,{key:0,icon:e.IconLauch},null,8,["icon"])):f("",!0)],8,jt),m(v,{modelValue:n.state.wallet,"onUpdate:modelValue":a[1]||(a[1]=h=>n.state.wallet=h),default:e.defaultAddress,exit:!0,active:!e.isSelectingWallet,onSelectWallet:e.selectWallet,onExit:e.disconnect},null,8,["modelValue","default","active","onSelectWallet","onExit"])]),c("div",Rt,[m(x,{tabs:e.tabs,modelValue:e.currentTab,"onUpdate:modelValue":a[2]||(a[2]=h=>e.currentTab=h),disabled:!e.currentAddress},null,8,["tabs","modelValue","disabled"]),c("div",qt,[c("div",Gt,[m(ue,{name:e.transitionName,mode:"out-in"},{default:$(()=>[(s(),o("div",{key:(e.currentAddress||"")+e.currentTab,class:"content"},[e.currentTab==="Requests"?(s(),o("div",Qt,[m(M,{name:"fade-list"},{default:$(()=>{var h;return[e.isSelectingWallet?(s(),p(b,{addresses:e.addresses,modelValue:e.currentAddress,"onUpdate:modelValue":a[3]||(a[3]=k=>e.currentAddress=k),class:"box fade-list-item",key:"0"},null,8,["addresses","modelValue"])):f("",!0),((h=e.connectionFeed)==null?void 0:h.length)===0&&n.state.wallet&&n.state.wallet===e.currentAddress?(s(),o("div",Xt,"Connected")):f("",!0),e.currentAddress!==n.state.wallet?(s(),p(L,{data:e.connectData,class:"box fade-list-item",key:"1"},{default:$(()=>[_e(w(e.connectData.content),1)]),_:1},8,["data"])):f("",!0),(s(!0),o(T,null,A(e.connectionFeed,k=>(s(),p(N,{key:k.timestamp,messageEntry:k,style:{padding:"var(--spacing)"},class:"box flex-column fade-list-item"},null,8,["messageEntry"]))),128))]}),_:1})])):e.currentTab==="Permissions"?(s(),o("div",Ot,[m(M,{name:"fade-list"},{default:$(()=>[e.isSelectingWallet?(s(),p(b,{addresses:e.addresses,modelValue:e.currentAddress,"onUpdate:modelValue":a[4]||(a[4]=h=>e.currentAddress=h),class:"box fade-list-item",key:"0"},null,8,["addresses","modelValue"])):f("",!0),Yt]),_:1})])):f("",!0)]))]),_:1},8,["name"])])])])])}var Jt=g(Nt,[["render",Zt],["__scopeId","data-v-1e9a2812"]]);const Kt={components:{Carousel:$e,ConnectionCard:Jt,AddressIcon:F,Address:X,Button:pe},setup(){return{currentConnectorIndex:I(Y.value.findIndex(a=>a.origin===P.origin&&a.session===P.session)),connectors:Y,state:P,states:we}}},en={class:"connect flex-column"},tn={class:"bottom-info secondary-text",style:{opacity:"0.0","pointer-events":"none"}};function nn(t,a,n,e,r,_){const l=i("ConnectionCard"),d=i("Carousel");return s(),o("div",en,[m(d,{modelValue:e.currentConnectorIndex,"onUpdate:modelValue":a[0]||(a[0]=v=>e.currentConnectorIndex=v),class:"connectors"},{default:$(()=>[(s(!0),o(T,null,A(e.connectors,v=>(s(),o("div",{key:v.session,class:"connection-card-container fade-list-item"},[m(l,{state:v,class:"box"},null,8,["state"])]))),128))]),_:1},8,["modelValue"]),c("div",tn,[c("div",null,"All Channels "+w(Object.keys(e.states).length),1),(s(!0),o(T,null,A(e.states,(v,x)=>(s(),o("div",{key:x},w(v),1))),128))])])}var ln=g(Kt,[["render",nn],["__scopeId","data-v-4884fcc8"]]);export{ln as default};
