import{N as E,f as u,r as L,g as j,c as y,d as s,k as w,p,l as d,L as n,T as F,F as C,h as I,O as M,P as A,o,V as r,M as m,t as P}from"./vendor.fb987aeb.js";import{_ as D,q as G,L as O,m as v,r as $,t as W,v as z,u as H,f as J,w as K,x as R}from"./index.a52c98a3.js";const g=_=>(M("data-v-a4dbf53a"),_=_(),A(),_),U={class:"add-wallet flex-column"},Q={class:"card"},X=g(()=>s("h2",{style:{display:"flex","justify-content":"space-between"}},[s("span",null,"Passphrase"),s("span",null,"Key file")],-1)),Y={class:"flex-column"},Z=g(()=>s("div",null,null,-1)),ee=r("Create new wallet"),ae=r("Import passphrase"),se={style:{flex:"1 1 auto",display:"flex","flex-direction":"column","align-items":"center","justify-content":"space-evenly","margin-bottom":"var(--spacing)"}},te={class:"actions-container flex-row"},le={class:"card"},ne=g(()=>s("h2",null,"Hardware",-1)),oe={setup(_){const f=E(),t=u("");u("");const e=L({}),b=j(()=>t.value.trim().split(/\s+/g).length>=12),h=u(!1),k=u(!1),c=u(null),V=async()=>{h.value=!0,t.value=await $();const l=W(t.value);setTimeout(async()=>c.value=await l,1e4)},S=()=>{f.push({name:"EditWallet",query:{wallet:c.value}})},x=async()=>{k.value=!0;const l=W(t.value);e.enabled=!0,e.icon="loader",e.message="Importing",e.actions=[],f.push({name:"EditWallet",query:{wallet:await l}})},B=async()=>{if(await z(t.value))return x();e.enabled=!0,e.icon="",e.message="This passphrase is not valid, do you want to import it anyway?",e.actions=[{name:"Back",action:()=>e.enabled=!1},{name:"Import Passphrase",action:()=>x()}]},N=async l=>{if(!l)return;const i=await H(JSON.parse(await l[0].text()));f.push({name:"EditWallet",query:{wallet:i}})},T=async l=>{const i=await K(l);f.push({name:"EditWallet",query:{wallet:i}})},q=[R];return(l,i)=>(o(),y("div",U,[s("div",Q,[X,s("div",Y,[w(G,{modelValue:t.value,"onUpdate:modelValue":i[0]||(i[0]=a=>t.value=a),onFiles:N,disabled:h.value,placeholder:"Import passphrase or key file"},null,8,["modelValue","disabled"]),Z,!h.value&&!t.value.length?(o(),p(v,{key:0,onClick:i[1]||(i[1]=a=>V()),disabled:t.value.length&&!n(b),icon:n(O)},{default:d(()=>[ee]),_:1},8,["disabled","icon"])):h.value?(o(),p(v,{key:1,disabled:c.value==null,onClick:S,icon:c.value==null?"loader":""},{default:d(()=>[r(m(c.value==null?"Generating, write down the passphrase":"Passphrase saved? Click here to proceed"),1)]),_:1},8,["disabled","icon"])):(o(),p(v,{key:2,disabled:!n(b)||k.value,onClick:B},{default:d(()=>[ae]),_:1},8,["disabled"]))]),w(F,{name:"fade-fast",mode:"in-out"},{default:d(()=>[n(e).enabled?(o(),y("div",{key:n(e).message,class:"overlay flex-column"},[s("div",se,[n(e).icon?(o(),p(J,{key:0,icon:n(e).icon,style:{"font-size":"2em"}},null,8,["icon"])):P("",!0),r(" "+m(n(e).message),1)]),s("div",te,[(o(!0),y(C,null,I(n(e).actions,a=>(o(),p(v,{key:a.name,onClick:a.action},{default:d(()=>[r(m(a.name),1)]),_:2},1032,["onClick"]))),128))])])):P("",!0)]),_:1})]),s("div",le,[ne,(o(),y(C,null,I(q,a=>w(v,{key:a.name,disabled:!a.isSupported,onClick:ie=>T(a),icon:a.icon},{default:d(()=>[r(m(a.name)+" "+m(a.isSupported?"":" not supported for this browser"),1)]),_:2},1032,["disabled","onClick","icon"])),64))])]))}};var ce=D(oe,[["__scopeId","data-v-a4dbf53a"]]);export{ce as default};
