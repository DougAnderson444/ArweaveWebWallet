import{_ as x,O as V,A as S,a as C,g as W,B as U,I as H,F as P,b as q,c as D,d as $,h as J,e as M}from"./index.6a6d780e.js";import{d as k,e as m,p as w,o as r,u as A,s as I,a,M as R,f as L,c as i,r as E,x as F,y as N,q as u,Q as f,z as g,aa as G,t as O,L as n,ab as Q,Z as z,F as T,U as Z,V as K}from"./vendor.ff995856.js";const X={components:{Observer:V},props:["src"],setup(o,{emit:s}){const e=k(null),t=k(null),d=k(null),v=p=>{console.log(p),t.value=p.width/p.height},l=()=>{d.value=e.value.naturalWidth/e.value.naturalHeight,s("load")},c=m(()=>t.value&&d.value&&t.value<d.value),h=m(()=>t.value&&d.value&&t.value>=d.value);return{x:c,y:h,resize:v,load:l,imgRef:e}}},Y={class:"frame-scroller"},ee=["src"];function te(o,s,e,t,d,v){const l=w("Observer");return r(),A(l,{observe:"resize",onResize:t.resize,class:R(["img",{x:t.x,y:t.y}])},{default:I(()=>[a("div",Y,[a("img",{ref:"imgRef",src:e.src,onLoad:s[0]||(s[0]=(...c)=>t.load&&t.load(...c))},null,40,ee)])]),_:1},8,["onResize","class"])}var ae=x(X,[["render",te],["__scopeId","data-v-729c6e3c"]]);const se={props:["tx"],setup(o){L(()=>o.tx,s=>{console.log(s),!!s},{immediate:!0})}},ne={class:"smart-weave"};function oe(o,s,e,t,d,v){return r(),i("div",ne," SmartWeave Contract ")}var re=x(se,[["render",oe]]);const de={components:{Img:ae,SmartWeave:re},props:["tx"],setup(o){const s=E({handler:null,loaded:!1,payload:null}),e=m(()=>S.gatewayURL+o.tx.id);return L(()=>o.tx,async()=>{var t,d,v,l,c,h;if(!!o.tx&&(s.handler=null,s.loaded=!1,((t=o.tx.data)==null?void 0:t.size)!=="0"))if(((d=o.tx.data)==null?void 0:d.type)==="application/x.arweave-manifest+json"||((v=o.tx.data)==null?void 0:v.type)==="text/html"||((l=o.tx.data)==null?void 0:l.type)==="application/pdf")s.handler="iframe";else if(((h=(c=o.tx.data)==null?void 0:c.type)==null?void 0:h.split("/")[0])==="image")s.handler="img";else{s.handler="raw";try{if(s.payload=await C.transactions.getData(o.tx.id,{decode:!0,string:!0}),s.payload[0]==="{")try{s.payload=JSON.stringify(JSON.parse(s.payload),null,2),s.handler="json"}catch{}}catch{}}},{immediate:!0}),{gatewayLink:e,data:s}}},le={key:"iframe",class:"selector iframe-container box"},ie=["src"],ce={key:"img",class:"selector img-container box"},_e={key:"smartweave",class:"selector"},ue={key:"json",class:"selector data-container box"},ve={class:"raw"};function he(o,s,e,t,d,v){const l=w("Img"),c=w("SmartWeave");return t.data.handler==="iframe"?F((r(),i("div",le,[a("iframe",{class:"iframe",src:t.gatewayLink,onLoad:s[0]||(s[0]=h=>t.data.loaded=!0)},null,40,ie)],512)),[[N,t.data.loaded]]):t.data.handler==="img"?F((r(),i("div",ce,[u(l,{src:t.gatewayLink,onLoad:s[1]||(s[1]=h=>t.data.loaded=!0)},null,8,["src"])],512)),[[N,t.data.loaded]]):t.data.handler==="smartweave"?(r(),i("div",_e,[u(c,{tx:e.tx},null,8,["tx"])])):t.data.handler==="json"||t.data.handler==="raw"?(r(),i("div",ue,[a("pre",ve,f(t.data.payload),1)])):g("",!0)}var me=x(de,[["render",he],["__scopeId","data-v-ee87589c"]]);const y=o=>(Z("data-v-27063e33"),o=o(),K(),o),fe={class:"meta flex-column"},ge={class:"card"},pe={class:"row flex-row"},ye={class:"item",style:{"font-size":"1.5em"}},xe={class:"row flex-row"},ke={class:"item"},we={class:"row flex-row"},be={class:"item"},Se=y(()=>a("h3",null,"Properties",-1)),Ie={class:"card flex-column"},Le=y(()=>a("h3",null,"ID",-1)),ze={class:"ellipsis"},je={key:0},Be=["href"],Ce={key:1},De=["href"],$e={key:0},Ae=y(()=>a("h3",null,"Pending",-1)),Re={key:0},Fe={key:1},Ne=y(()=>a("h3",null,"Block",-1)),Oe={class:"ellipsis"},Te=y(()=>a("h3",null,"Data",-1)),Ve=z(" Fee "),We=y(()=>a("h3",null,"Tags",-1)),Ue={style:{background:"var(--background2)","border-radius":"var(--border-radius)"}},He={key:1},Pe=G({props:{txId:null},setup(o){const s=o,e=m(()=>W(s.txId)),t=m(()=>{var _;return((_=e.value.data)==null?void 0:_.size)!="0"}),d=m(()=>!e.value.block),v=m(()=>{if(!e.value.block)return"";const _=new Date(e.value.block.timestamp*1e3);return _.toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})+" "+_.toLocaleTimeString()}),l=k(null),c=O(U,"currentHeight"),h=m(()=>{if(!e.value.tags)return;const _=[];for(const b of e.value.tags)_.push({items:[{name:"",value:b.name,attrs:{disabled:!0}},{name:"",value:b.value,attrs:{disabled:!0}}]});return _});L(()=>s.txId,async()=>{q(),C.transactions.getStatus(s.txId).then(_=>l.value=_.status).catch(()=>l.value="Not Found")},{immediate:!0});const p=O(H.breakpoints,"verticalContent");return(_,b)=>{const j=w("Amount");return n(e)?(r(),A(P,{key:0},Q({left:I(()=>{var B;return[a("div",fe,[a("div",ge,[a("div",pe,[a("div",ye,[u(j,{ar:n(e).quantity.ar},null,8,["ar"])])]),a("div",xe,[a("div",ke,[u(D,{address:n(e).owner.address},null,8,["address"]),u($,{class:"secondary-text",address:n(e).owner.address},null,8,["address"])])]),a("div",we,[a("div",be,[u(D,{address:n(e).recipient},null,8,["address"]),u($,{class:"secondary-text",address:n(e).recipient},null,8,["address"])])])]),Se,a("div",Ie,[a("div",null,[Le,a("div",ze,f(n(e).id),1),n(t)?(r(),i("div",je,[a("a",{href:n(S).gatewayURL+n(e).id,target:"_blank"},"Link",8,Be)])):g("",!0),((B=n(e).data)==null?void 0:B.type)==="application/x.arweave-manifest+json"?(r(),i("div",Ce,[a("a",{href:n(S).gatewayURL+"tx/"+n(e).id+"/data.json",target:"_blank"},"Manifest",8,De)])):g("",!0)]),n(d)?(r(),i("div",$e,[Ae,l.value?(r(),i("div",Re,"Status: "+f(l.value),1)):g("",!0)])):(r(),i("div",Fe,[Ne,a("div",Oe,f(n(e).block.id),1),a("span",null,[z(f(n(e).block.height)+" ",1),n(c)?(r(),i(T,{key:0},[z("/ "+f(n(c)),1)],64)):g("",!0)]),a("div",null,f(n(v)),1)])),a("div",null,[Te,a("div",null,"Data size "+f(n(J)(n(e).data.size)),1),a("div",null,[Ve,u(j,{ar:n(e).fee.ar},null,8,["ar"])])])]),n(h).length?(r(),i(T,{key:0},[We,a("div",Ue,[u(M,{schema:n(h),disabled:""},null,8,["schema"])])],64)):g("",!0),n(p)?(r(),i("br",He)):g("",!0)])]}),_:2},[n(t)?{name:"right",fn:I(()=>[u(me,{tx:n(e),class:R({inline:!n(p)})},null,8,["tx","class"])])}:void 0]),1024)):g("",!0)}}});var Me=x(Pe,[["__scopeId","data-v-27063e33"]]);export{Me as default};
