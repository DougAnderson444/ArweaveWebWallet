import{_ as y,O as V,A as k,a as C,B as W,I as U,F as H,g as J,b as P,c as D,d as $,h as q,e as E}from"./index.d9acc05d.js";import{h as w,i as m,l as b,o as r,s as A,q as I,d as s,L as R,a as L,c,r as G,u as F,v as N,p as u,Q as f,x as g,aa as K,J as O,K as n,ab as M,Z as z,F as T,U as Q,V as Z}from"./vendor.5d5bf18b.js";const X={components:{Observer:V},props:["src"],setup(o,{emit:a}){const e=w(null),t=w(null),d=w(null),v=x=>{console.log(x),t.value=x.width/x.height},l=()=>{d.value=e.value.naturalWidth/e.value.naturalHeight,a("load")},i=m(()=>t.value&&d.value&&t.value<d.value),h=m(()=>t.value&&d.value&&t.value>=d.value);return{x:i,y:h,resize:v,load:l,imgRef:e}}},Y={class:"frame-scroller"},ee=["src"];function te(o,a,e,t,d,v){const l=b("Observer");return r(),A(l,{observe:"resize",onResize:t.resize,class:R(["img",{x:t.x,y:t.y}])},{default:I(()=>[s("div",Y,[s("img",{ref:"imgRef",src:e.src,onLoad:a[0]||(a[0]=(...i)=>t.load&&t.load(...i))},null,40,ee)])]),_:1},8,["onResize","class"])}var ae=y(X,[["render",te],["__scopeId","data-v-729c6e3c"]]);const se={props:["tx"],setup(o){L(()=>o.tx,a=>{console.log(a),!!a},{immediate:!0})}},ne={class:"smart-weave"};function oe(o,a,e,t,d,v){return r(),c("div",ne," SmartWeave Contract ")}var re=y(se,[["render",oe]]);const de={components:{Img:ae,SmartWeave:re},props:["tx"],setup(o){const a=G({handler:null,loaded:!1,payload:null}),e=m(()=>k.gatewayURL+o.tx.id);return L(()=>o.tx,async()=>{var t,d,v,l,i,h;if(!!o.tx&&(a.handler=null,a.loaded=!1,((t=o.tx.data)==null?void 0:t.size)!=="0"))if(((d=o.tx.data)==null?void 0:d.type)==="application/x.arweave-manifest+json"||((v=o.tx.data)==null?void 0:v.type)==="text/html"||((l=o.tx.data)==null?void 0:l.type)==="application/pdf")a.handler="iframe";else if(((h=(i=o.tx.data)==null?void 0:i.type)==null?void 0:h.split("/")[0])==="image")a.handler="img";else{a.handler="raw";try{if(a.payload=await C.transactions.getData(o.tx.id,{decode:!0,string:!0}),a.payload[0]==="{")try{a.payload=JSON.stringify(JSON.parse(a.payload),null,2),a.handler="json"}catch{}}catch{}}},{immediate:!0}),{gatewayLink:e,data:a}}},le={key:"iframe",class:"selector iframe-container box"},ce=["src"],ie={key:"img",class:"selector img-container box"},_e={key:"smartweave",class:"selector"},ue={key:"json",class:"selector data-container box"},ve={class:"raw"};function he(o,a,e,t,d,v){const l=b("Img"),i=b("SmartWeave");return t.data.handler==="iframe"?F((r(),c("div",le,[s("iframe",{class:"iframe",src:t.gatewayLink,onLoad:a[0]||(a[0]=h=>t.data.loaded=!0)},null,40,ce)],512)),[[N,t.data.loaded]]):t.data.handler==="img"?F((r(),c("div",ie,[u(l,{src:t.gatewayLink,onLoad:a[1]||(a[1]=h=>t.data.loaded=!0)},null,8,["src"])],512)),[[N,t.data.loaded]]):t.data.handler==="smartweave"?(r(),c("div",_e,[u(i,{tx:e.tx},null,8,["tx"])])):t.data.handler==="json"||t.data.handler==="raw"?(r(),c("div",ue,[s("pre",ve,f(t.data.payload),1)])):g("",!0)}var me=y(de,[["render",he],["__scopeId","data-v-ee87589c"]]);const p=o=>(Q("data-v-88127980"),o=o(),Z(),o),fe={class:"meta flex-column"},ge={class:"card"},xe={class:"row flex-row"},pe={class:"item",style:{"font-size":"1.5em"}},ye={class:"row flex-row"},ke={class:"item"},we={class:"row flex-row"},be={class:"item"},Se=p(()=>s("h3",null,"Properties",-1)),Ie={class:"card flex-column"},Le=p(()=>s("h3",null,"ID",-1)),ze={class:"ellipsis"},je={key:0},Be=["href"],Ce={key:1},De=["href"],$e={key:0},Ae=p(()=>s("h3",null,"Pending",-1)),Re={key:0},Fe={key:1},Ne=p(()=>s("h3",null,"Block",-1)),Oe={class:"ellipsis"},Te=p(()=>s("h3",null,"Data",-1)),Ve=z(" Fee "),We=p(()=>s("h3",null,"Tags",-1)),Ue={style:{background:"var(--background2)","border-radius":"var(--border-radius)"}},He={key:1},Je=K({props:{txId:null},setup(o){const a=o,e=m(()=>k.txs[a.txId]),t=m(()=>{var _;return((_=e.value.data)==null?void 0:_.size)!="0"}),d=m(()=>!e.value.block),v=m(()=>{if(!e.value.block)return"";const _=new Date(e.value.block.timestamp*1e3);return _.toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})+" "+_.toLocaleTimeString()}),l=w(null),i=O(W,"currentHeight"),h=m(()=>{if(!e.value.tags)return;const _=[];for(const S of e.value.tags)_.push({items:[{name:"",value:S.name,attrs:{disabled:!0}},{name:"",value:S.value,attrs:{disabled:!0}}]});return _});L(()=>a.txId,async()=>{J(a.txId),P(),C.transactions.getStatus(a.txId).then(_=>l.value=_.status).catch(()=>l.value="Not Found")},{immediate:!0});const x=O(U.breakpoints,"verticalContent");return(_,S)=>{const j=b("Amount");return n(e)?(r(),A(H,{key:0},M({left:I(()=>{var B;return[s("div",fe,[s("div",ge,[s("div",xe,[s("div",pe,[u(j,{ar:n(e).quantity.ar},null,8,["ar"])])]),s("div",ye,[s("div",ke,[u(D,{address:n(e).owner.address},null,8,["address"]),u($,{class:"secondary-text",address:n(e).owner.address},null,8,["address"])])]),s("div",we,[s("div",be,[u(D,{address:n(e).recipient},null,8,["address"]),u($,{class:"secondary-text",address:n(e).recipient},null,8,["address"])])])]),Se,s("div",Ie,[s("div",null,[Le,s("div",ze,f(n(e).id),1),n(t)?(r(),c("div",je,[s("a",{href:n(k).gatewayURL+n(e).id,target:"_blank"},"Link",8,Be)])):g("",!0),((B=n(e).data)==null?void 0:B.type)==="application/x.arweave-manifest+json"?(r(),c("div",Ce,[s("a",{href:n(k).gatewayURL+"tx/"+n(e).id+"/data.json",target:"_blank"},"Manifest",8,De)])):g("",!0)]),n(d)?(r(),c("div",$e,[Ae,l.value?(r(),c("div",Re,"Status: "+f(l.value),1)):g("",!0)])):(r(),c("div",Fe,[Ne,s("div",Oe,f(n(e).block.id),1),s("span",null,[z(f(n(e).block.height)+" ",1),n(i)?(r(),c(T,{key:0},[z("/ "+f(n(i)),1)],64)):g("",!0)]),s("div",null,f(n(v)),1)])),s("div",null,[Te,s("div",null,"Data size "+f(n(q)(n(e).data.size)),1),s("div",null,[Ve,u(j,{ar:n(e).fee.ar},null,8,["ar"])])])]),n(h).length?(r(),c(T,{key:0},[We,s("div",Ue,[u(E,{schema:n(h),disabled:""},null,8,["schema"])])],64)):g("",!0),n(x)?(r(),c("br",He)):g("",!0)])]}),_:2},[n(t)?{name:"right",fn:I(()=>[u(me,{tx:n(e),class:R({inline:!n(x)})},null,8,["tx","class"])])}:void 0]),1024)):g("",!0)}}});var Ee=y(Je,[["__scopeId","data-v-88127980"]]);export{Ee as default};
