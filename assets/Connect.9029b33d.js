import{e as h,d as k,w as J,L as K,o,f as c,k as m,l as w,I as E,N as z,z as $,B as T,g as l,j as r,y as S,s as I,p as C,K as y,F as W,h as N,a as B,x as O,T as j,J as X}from"./vendor.035b7bf8.js";import{_ as b,c as M,A,e as V,i as D,D as Y,T as Q,j as Z,n as ee,k as te,l as ne,m as U,b as ae,o as oe,p as q,s as L,q as se}from"./index.6f11dfdb.js";const le={props:["modelValue"],setup(n,{emit:t}){const a=h({get(){return n.modelValue},set(s){t("update:modelValue",s)}}),e=k(null),f=h(()=>{var s;return((s=e.value)==null?void 0:s.children)?Array(...e.value.children).slice(1,e.value.children.length-1):null}),i=()=>{var s,u;(u=(s=f.value)==null?void 0:s[a.value])==null||u.scrollIntoView({behavior:"smooth",block:"start",inline:"start"})};return J(i),K(()=>setTimeout(i)),{model:a,root:e}}},R=n=>($("data-v-de8bc108"),n=n(),T(),n),ce={ref:"root",class:"carousel flex-row no-scrollbar"},de=R(()=>l("div",{class:"margin",key:"margin1"},null,-1)),ie=R(()=>l("div",{class:"margin",key:"margin2"},null,-1));function re(n,t,a,e,f,i){return o(),c("div",ce,[m(z,{name:"fade-list"},{default:w(()=>[de,E(n.$slots,"default",{},void 0,!0),ie]),_:3})],512)}var ue=b(le,[["render",re],["__scopeId","data-v-de8bc108"]]);var G;const _e={components:{AddressIcon:M},props:{modelValue:{default:((G=A.wallets[0])==null?void 0:G.key)||""},exit:{default:!1}},setup(n,{emit:t}){return{model:h({get(){return n.modelValue},set(e){t("update:modelValue",e)}}),InterfaceStore:V}}},F=n=>($("data-v-1995ee30"),n=n(),T(),n),me={class:"wallet-tabs"},ve=F(()=>l("div",{class:"exit-background"},null,-1)),fe=F(()=>l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},[l("path",{d:"M0 0h24v24H0V0z",fill:"none"}),l("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"})],-1)),xe=[ve,fe];function ge(n,t,a,e,f,i){const s=r("AddressIcon");return o(),c("div",me,[e.model?(o(),c("button",{key:0,type:"button",onClick:t[0]||(t[0]=u=>n.$emit("selectWallet")),class:S(["tab",{active:e.InterfaceStore.toolbar.links}])},[m(s,{address:e.model},null,8,["address"])],2)):I("",!0),a.exit?(o(),c("button",{key:1,class:"exit",type:"button",onClick:t[1]||(t[1]=u=>n.$emit("exit"))},xe)):I("",!0)])}var pe=b(_e,[["render",ge],["__scopeId","data-v-1995ee30"]]);const ye={components:{Icon:D},props:["icon","img"],setup(){}},be={class:"icon-background"};function he(n,t,a,e,f,i){const s=r("Icon");return o(),c("div",be,[a.img?(o(),C(s,{key:0,class:"page-logo",icon:a.img},null,8,["icon"])):(o(),C(s,{key:1,class:"page-logo placeholder",icon:a.icon},null,8,["icon"]))])}var H=b(ye,[["render",he],["__scopeId","data-v-34c166f1"]]);const ke={props:["modelValue"],setup(n,{emit:t}){return{expanded:h({get(){return n.modelValue},set(e){t("update:modelValue",e)}})}}},P=n=>($("data-v-52e2fbe0"),n=n(),T(),n),we=P(()=>l("path",{d:"M24 24H0V0h24v24z",fill:"none",opacity:".87"},null,-1)),Ie=P(()=>l("path",{d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6-1.41-1.41z"},null,-1)),Ce=[we,Ie];function Ve(n,t,a,e,f,i){return o(),c("button",{type:"button",class:"expand",onClick:t[0]||(t[0]=s=>e.expanded=!e.expanded)},[(o(),c("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:S({expanded:e.expanded})},Ce,2))])}var Se=b(ke,[["render",Ve],["__scopeId","data-v-52e2fbe0"]]),Be="/assets/notification.8a26e511.svg";const Ae={components:{IconBackground:H,Icon:D,Date:Y,Expand:Se},props:["data"],setup(n){return{iconNotification:Be}}},$e={class:"flex-row"},Te={class:"flex-row",style:{flex:"1 1 0"}},We={class:"content"},Ne={class:"title"},De={class:"secondary-text"},Le={key:1,class:"actions flex-row"},Ee=["onClick"];function ze(n,t,a,e,f,i){const s=r("IconBackground"),u=r("Date"),_=r("Icon"),x=r("Expand");return o(),c("div",{class:S(["notification",{expanded:a.data.expanded}])},[l("div",$e,[l("div",Te,[m(s,{icon:a.data.icon||e.iconNotification,img:a.data.img},null,8,["icon","img"]),l("div",We,[a.data.expanded?(o(),C(u,{key:0,class:"secondary-text",timestamp:a.data.timestamp},null,8,["timestamp"])):I("",!0),l("div",Ne,y(a.data.title),1),l("div",De,[E(n.$slots,"default",{},void 0,!0)]),a.data.expanded?(o(),c("div",Le,[(o(!0),c(W,null,N(a.data.actions,v=>(o(),c("button",{key:v.name,onClick:v.run,type:"button",class:"action flex-row"},[m(_,{icon:v.img},null,8,["icon"]),l("div",null,y(v.name),1)],8,Ee))),128))])):I("",!0)])]),m(x,{modelValue:a.data.expanded,"onUpdate:modelValue":t[0]||(t[0]=v=>a.data.expanded=v)},null,8,["modelValue"])])],2)}var je=b(Ae,[["render",ze],["__scopeId","data-v-2826c74f"]]),Me="/assets/y.229c7801.svg",Ue="/assets/launch.fc946be2.svg";const qe={components:{WalletSelector:pe,Tabs:Q,IconBackground:H,Icon:D,Notification:je},props:["state"],setup(n){const t=k(n.state.wallet||void 0),a=[{name:"Requests",color:"var(--orange)"},{name:"Permissions",color:"var(--green)"}],e=k(t.value?a[0].name:null);B(()=>n.state.wallet,d=>{t.value=d,e.value=a[0].name});const f=()=>n.state.wallet=!1,i=k(!1),s=async()=>{var g;if(!V.toolbar.links){t.value||(t.value=(g=A.wallets[0])==null?void 0:g.key),U.emit("selectWallet",null);return}V.toolbar.links=!1,i.value=!0;const d=await U.once("selectWallet");d&&(t.value=d),i.value=!1,V.toolbar.links=!0},u=h(()=>{var p;const d=n.state.wallet,g=n.state.wallet?`Switch to ${t.value}`:`Connect to ${((p=n.state.appInfo)==null?void 0:p.name)||n.state.origin} from the account ${t.value}`;return{title:d?"Switch":"Connect",timestamp:Date.now(),actions:[{name:"Connect",img:Me,run:()=>n.state.wallet=t.value},{name:d?"Cancel":"Switch",img:Z,run:d?()=>t.value=n.state.wallet:s}],expanded:!0,content:g}}),_=O(V.breakpoints,"verticalLayout"),x=k(null),v=(d,g)=>d>g?x.value="slide-left":x.value="slide-right";return B(()=>a.findIndex(d=>d.name===e.value),v),B(()=>A.wallets.findIndex(d=>d.key===t.value),v),B(()=>t.value,()=>{e.value=a[0].name}),t.value||s(),{currentAddress:t,tabs:a,currentTab:e,isSelectingWallet:i,selectWallet:s,connectData:u,verticalLayout:_,transitionName:x,disconnect:f,navigateBack:ee,navigateBackAvailable:te,iconConnection:ne,iconLauch:Ue}}},Re={class:"connection-card flex-column"},Fe=["disabled"],He={class:"secondary-text"},Pe={class:"flex-column",style:{flex:"1 1 0"}},Ge={class:"container flex-column"},Je={key:0,class:"info flex-column"},Ke={key:1,class:"flex-column"},Oe={key:0,class:"fade-list-item"},Xe={key:2,class:"flex-column"};function Ye(n,t,a,e,f,i){var d,g;const s=r("IconBackground"),u=r("Icon"),_=r("WalletSelector"),x=r("Tabs"),v=r("Notification");return o(),c("div",Re,[l("div",{class:S([e.verticalLayout?"flex-column":"flex-row"])},[l("button",{type:"button",class:"flex-row",onClick:t[0]||(t[0]=(...p)=>e.navigateBack&&e.navigateBack(...p)),disabled:!e.navigateBackAvailable(a.state.origin)},[m(s,{img:(d=a.state.appInfo)==null?void 0:d.logo,icon:e.iconConnection},null,8,["img","icon"]),l("div",null,[l("div",null,y(((g=a.state.appInfo)==null?void 0:g.name)||"Connector"),1),l("div",He,y(a.state.origin),1)]),e.navigateBackAvailable(a.state.origin)?(o(),C(u,{key:0,icon:e.iconLauch},null,8,["icon"])):I("",!0)],8,Fe),m(_,{modelValue:e.currentAddress,"onUpdate:modelValue":t[1]||(t[1]=p=>e.currentAddress=p),exit:!0,onSelectWallet:e.selectWallet,onExit:e.disconnect},null,8,["modelValue","onSelectWallet","onExit"])],2),l("div",Pe,[m(x,{tabs:e.tabs,modelValue:e.currentTab,"onUpdate:modelValue":t[2]||(t[2]=p=>e.currentTab=p),disabled:!e.currentAddress},null,8,["tabs","modelValue","disabled"]),l("div",Ge,[m(j,{name:e.transitionName,mode:"out-in"},{default:w(()=>[(o(),c("div",{key:(e.currentAddress||"")+e.currentTab,class:"content"},[m(j,{name:"fade-fast",mode:"out-in"},{default:w(()=>[e.isSelectingWallet?(o(),c("div",Je,"Select a wallet")):e.currentTab==="Requests"?(o(),c("div",Ke,[m(z,{name:"fade-list"},{default:w(()=>[e.currentAddress===a.state.wallet?(o(),c("div",Oe,"Connected")):(o(),C(v,{key:1,data:e.connectData,class:"fade-list-item"},{default:w(()=>[X(y(e.connectData.content),1)]),_:1},8,["data"]))]),_:1})])):e.currentTab==="Permissions"?(o(),c("div",Xe,"Wip")):I("",!0)]),_:1})]))]),_:1},8,["name"])])])])}var Qe=b(qe,[["render",Ye],["__scopeId","data-v-56685b52"]]);const Ze={components:{Carousel:ue,ConnectionCard:Qe,AddressIcon:M,Address:ae,Button:oe},setup(){const n=k(q.value.findIndex(a=>a.origin===L.origin&&a.session===L.session)),t=h(()=>A.currentWallet);return{currentConnectorIndex:n,currentWallet:t,connectors:q,state:L,states:se}}},et={class:"connect flex-column"},tt={class:"bottom-info secondary-text",style:{opacity:"0.0","pointer-events":"none"}};function nt(n,t,a,e,f,i){const s=r("ConnectionCard"),u=r("Carousel");return o(),c("div",et,[m(u,{modelValue:e.currentConnectorIndex,"onUpdate:modelValue":t[0]||(t[0]=_=>e.currentConnectorIndex=_),class:"connectors"},{default:w(()=>[(o(!0),c(W,null,N(e.connectors,_=>(o(),C(s,{key:_.session,state:_,class:"box fade-list-item"},null,8,["state"]))),128))]),_:1},8,["modelValue"]),l("div",tt,[l("div",null,"All Channels "+y(Object.keys(e.states).length),1),(o(!0),c(W,null,N(e.states,(_,x)=>(o(),c("div",{key:x},y(_),1))),128))])])}var st=b(Ze,[["render",nt],["__scopeId","data-v-f3f0c1e8"]]);export{st as default};
