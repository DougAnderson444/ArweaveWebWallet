import{_ as y,O as V,A as S,a as $,w as W,B as U,I as H,F as P,g as q,b as A,c as B,h as J,d as M}from"./index.72ba2f49.js";import{d as w,e as g,p as k,o as r,u as R,s as I,a,M as F,f as L,c,r as E,x as N,y as O,q as u,Q as m,z as f,aa as G,t as z,L as n,ab as Q,Z as j,F as T,U as Z,V as K}from"./vendor.ff995856.js";const X={components:{Observer:V},props:["src"],setup(o,{emit:s}){const e=w(null),t=w(null),d=w(null),v=p=>{console.log(p),t.value=p.width/p.height},l=()=>{d.value=e.value.naturalWidth/e.value.naturalHeight,s("load")},i=g(()=>t.value&&d.value&&t.value<d.value),h=g(()=>t.value&&d.value&&t.value>=d.value);return{x:i,y:h,resize:v,load:l,imgRef:e}}},Y={class:"frame-scroller"},ee=["src"];function te(o,s,e,t,d,v){const l=k("Observer");return r(),R(l,{observe:"resize",onResize:t.resize,class:F(["img",{x:t.x,y:t.y}])},{default:I(()=>[a("div",Y,[a("img",{ref:"imgRef",src:e.src,onLoad:s[0]||(s[0]=(...i)=>t.load&&t.load(...i))},null,40,ee)])]),_:1},8,["onResize","class"])}var ae=y(X,[["render",te],["__scopeId","data-v-729c6e3c"]]);const se={props:["tx"],setup(o){L(()=>o.tx,s=>{console.log(s),!!s},{immediate:!0})}},ne={class:"smart-weave"};function oe(o,s,e,t,d,v){return r(),c("div",ne," SmartWeave Contract ")}var re=y(se,[["render",oe]]);const de={components:{Img:ae,SmartWeave:re},props:["tx"],setup(o){const s=E({handler:null,loaded:!1,payload:null}),e=g(()=>S.gatewayURL+o.tx.id);return L(()=>o.tx,async()=>{var t,d,v,l,i,h;if(!!o.tx&&(s.handler=null,s.loaded=!1,((t=o.tx.data)==null?void 0:t.size)!=="0"))if(((d=o.tx.data)==null?void 0:d.type)==="application/x.arweave-manifest+json"||((v=o.tx.data)==null?void 0:v.type)==="text/html"||((l=o.tx.data)==null?void 0:l.type)==="application/pdf")s.handler="iframe";else if(((h=(i=o.tx.data)==null?void 0:i.type)==null?void 0:h.split("/")[0])==="image")s.handler="img";else{s.handler="raw";try{if(s.payload=await $.transactions.getData(o.tx.id,{decode:!0,string:!0}),s.payload[0]==="{")try{s.payload=JSON.stringify(JSON.parse(s.payload),null,2),s.handler="json"}catch{}}catch{}}},{immediate:!0}),{gatewayLink:e,data:s}}},le={key:"iframe",class:"selector iframe-container box"},ce=["src"],ie={key:"img",class:"selector img-container box"},_e={key:"smartweave",class:"selector"},ue={key:"json",class:"selector data-container box"},ve={class:"raw"};function he(o,s,e,t,d,v){const l=k("Img"),i=k("SmartWeave");return t.data.handler==="iframe"?N((r(),c("div",le,[a("iframe",{class:"iframe",src:t.gatewayLink,onLoad:s[0]||(s[0]=h=>t.data.loaded=!0)},null,40,ce)],512)),[[O,t.data.loaded]]):t.data.handler==="img"?N((r(),c("div",ie,[u(l,{src:t.gatewayLink,onLoad:s[1]||(s[1]=h=>t.data.loaded=!0)},null,8,["src"])],512)),[[O,t.data.loaded]]):t.data.handler==="smartweave"?(r(),c("div",_e,[u(i,{tx:e.tx},null,8,["tx"])])):t.data.handler==="json"||t.data.handler==="raw"?(r(),c("div",ue,[a("pre",ve,m(t.data.payload),1)])):f("",!0)}var me=y(de,[["render",he],["__scopeId","data-v-ee87589c"]]);const x=o=>(Z("data-v-5c3d99c2"),o=o(),K(),o),fe={class:"meta flex-column"},ge={class:"card"},pe={class:"row flex-row"},xe={class:"item",style:{"font-size":"1.5em"}},ye={class:"row flex-row"},we={class:"item"},ke={class:"row flex-row"},be={class:"item"},Se=x(()=>a("h3",null,"Properties",-1)),Ie={class:"card flex-column"},Le=x(()=>a("h3",null,"ID",-1)),ze={class:"ellipsis"},je={key:0},Ce=["href"],De={key:1},$e=["href"],Ae={key:0},Be=x(()=>a("h3",null,"Pending",-1)),Re={key:0},Fe={key:1},Ne=x(()=>a("h3",null,"Block",-1)),Oe={class:"ellipsis"},Te=x(()=>a("h3",null,"Data",-1)),Ve=j(" Fee "),We=x(()=>a("h3",null,"Tags",-1)),Ue={style:{background:"var(--background2)","border-radius":"var(--border-radius)"}},He={key:1},Pe=G({props:{txId:null},setup(o){const s=o,e=W(z(s,"txId")),t=g(()=>{var _;return((_=e.value.data)==null?void 0:_.size)!=0}),d=g(()=>!e.value.block),v=g(()=>{if(!e.value.block)return"";const _=new Date(e.value.block.timestamp*1e3);return _.toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})+" "+_.toLocaleTimeString()}),l=w(null),i=z(U,"currentHeight"),h=g(()=>{if(!e.value.tags)return;const _=[];for(const b of e.value.tags)_.push({items:[{name:"",value:b.name,attrs:{disabled:!0}},{name:"",value:b.value,attrs:{disabled:!0}}]});return _});L(()=>s.txId,async()=>{q(),$.transactions.getStatus(s.txId).then(_=>l.value=_.status).catch(()=>l.value="Not Found")},{immediate:!0});const p=z(H.breakpoints,"verticalContent");return(_,b)=>{const C=k("Amount");return n(e)?(r(),R(P,{key:0},Q({left:I(()=>{var D;return[a("div",fe,[a("div",ge,[a("div",pe,[a("div",xe,[u(C,{ar:n(e).quantity.ar},null,8,["ar"])])]),a("div",ye,[a("div",we,[u(A,{address:n(e).owner.address},null,8,["address"]),u(B,{class:"secondary-text",address:n(e).owner.address},null,8,["address"])])]),a("div",ke,[a("div",be,[u(A,{address:n(e).recipient},null,8,["address"]),u(B,{class:"secondary-text",address:n(e).recipient},null,8,["address"])])])]),Se,a("div",Ie,[a("div",null,[Le,a("div",ze,m(n(e).id),1),n(t)?(r(),c("div",je,[a("a",{href:n(S).gatewayURL+n(e).id,target:"_blank"},"Link",8,Ce)])):f("",!0),((D=n(e).data)==null?void 0:D.type)==="application/x.arweave-manifest+json"?(r(),c("div",De,[a("a",{href:n(S).gatewayURL+"tx/"+n(e).id+"/data.json",target:"_blank"},"Manifest",8,$e)])):f("",!0)]),n(d)?(r(),c("div",Ae,[Be,l.value?(r(),c("div",Re,"Status: "+m(l.value),1)):f("",!0)])):(r(),c("div",Fe,[Ne,a("div",Oe,m(n(e).block.id),1),a("span",null,[j(m(n(e).block.height)+" ",1),n(i)?(r(),c(T,{key:0},[j("/ "+m(n(i)),1)],64)):f("",!0)]),a("div",null,m(n(v)),1)])),a("div",null,[Te,a("div",null,"Data size "+m(n(J)(n(e).data.size)),1),a("div",null,[Ve,u(C,{ar:n(e).fee.ar},null,8,["ar"])])])]),n(h).length?(r(),c(T,{key:0},[We,a("div",Ue,[u(M,{schema:n(h),disabled:""},null,8,["schema"])])],64)):f("",!0),n(p)?(r(),c("br",He)):f("",!0)])]}),_:2},[n(t)?{name:"right",fn:I(()=>[u(me,{tx:n(e),class:F({inline:!n(p)})},null,8,["tx","class"])])}:void 0]),1024)):f("",!0)}}});var Me=y(Pe,[["__scopeId","data-v-5c3d99c2"]]);export{Me as default};
//# sourceMappingURL=Tx.8b3c227e.js.map
