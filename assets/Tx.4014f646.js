import{_ as k,O,A as w,a as R,F as N,b as T,c as P,I as W,d as V,L as G,B as H,e as J,h as q,g as U,f as E}from"./index.141ab8ab.js";import{d as S,e as h,j as v,o as l,p as I,l as p,g as t,y as L,a as b,f as _,r as K,O as A,P as C,k as i,K as x,s as f,x as z,a1 as M,J as y,F as B,z as Q,B as X}from"./vendor.035b7bf8.js";const Y={components:{Observer:O},props:["src"],setup(s,{emit:a}){const r=S(null),e=S(null),o=S(null),u=m=>{console.log(m),e.value=m.width/m.height},d=()=>{o.value=r.value.naturalWidth/r.value.naturalHeight,a("load")},c=h(()=>e.value&&o.value&&e.value<o.value),n=h(()=>e.value&&o.value&&e.value>=o.value);return{x:c,y:n,resize:u,load:d,imgRef:r}}},Z={class:"frame-scroller"},$=["src"];function ee(s,a,r,e,o,u){const d=v("Observer");return l(),I(d,{observe:"resize",onResize:e.resize,class:L(["img",{x:e.x,y:e.y}])},{default:p(()=>[t("div",Z,[t("img",{ref:"imgRef",src:r.src,onLoad:a[0]||(a[0]=(...c)=>e.load&&e.load(...c))},null,40,$)])]),_:1},8,["onResize","class"])}var ae=k(Y,[["render",ee],["__scopeId","data-v-729c6e3c"]]);const te={props:["tx"],setup(s){b(()=>s.tx,a=>{console.log(a),!!a},{immediate:!0})}},se={class:"smart-weave"};function ne(s,a,r,e,o,u){return l(),_("div",se," SmartWeave Contract ")}var oe=k(te,[["render",ne]]);const re={components:{Img:ae,SmartWeave:oe},props:["tx"],setup(s){const a=K({handler:null,loaded:!1,payload:null}),r=h(()=>w.gatewayURL+s.tx.id);return b(()=>s.tx,async()=>{var e,o,u,d,c,n;if(!!s.tx&&(a.handler=null,a.loaded=!1,((e=s.tx.data)==null?void 0:e.size)!=="0"))if(((o=s.tx.data)==null?void 0:o.type)==="application/x.arweave-manifest+json"||((u=s.tx.data)==null?void 0:u.type)==="text/html"||((d=s.tx.data)==null?void 0:d.type)==="application/pdf")a.handler="iframe";else if(((n=(c=s.tx.data)==null?void 0:c.type)==null?void 0:n.split("/")[0])==="image")a.handler="img";else{a.handler="raw";try{if(a.payload=await R.transactions.getData(s.tx.id,{decode:!0,string:!0}),a.payload[0]==="{")try{a.payload=JSON.stringify(JSON.parse(a.payload),null,2),a.handler="json"}catch{}}catch{}}},{immediate:!0}),{gatewayLink:r,data:a}}},de={key:"iframe",class:"selector iframe-container box"},ce=["src"],le={key:"img",class:"selector img-container box"},ie={key:"smartweave",class:"selector"},_e={key:"json",class:"selector data-container box"},ue={class:"raw"};function ve(s,a,r,e,o,u){const d=v("Img"),c=v("SmartWeave");return e.data.handler==="iframe"?A((l(),_("div",de,[t("iframe",{class:"iframe",src:e.gatewayLink,onLoad:a[0]||(a[0]=n=>e.data.loaded=!0)},null,40,ce)],512)),[[C,e.data.loaded]]):e.data.handler==="img"?A((l(),_("div",le,[i(d,{src:e.gatewayLink,onLoad:a[1]||(a[1]=n=>e.data.loaded=!0)},null,8,["src"])],512)),[[C,e.data.loaded]]):e.data.handler==="smartweave"?(l(),_("div",ie,[i(c,{tx:r.tx},null,8,["tx"])])):e.data.handler==="json"||e.data.handler==="raw"?(l(),_("div",_e,[t("pre",ue,x(e.data.payload),1)])):f("",!0)}var me=k(re,[["render",ve],["__scopeId","data-v-ee87589c"]]);const he={components:{Selector:me,FoldingLayout:N,Address:T,AddressIcon:P,InputGrid:W,Ar:V,LocaleCurrency:G},props:{txId:String},setup(s){const a=h(()=>w.txs[s.txId]),r=h(()=>{var n;return((n=a.value.data)==null?void 0:n.size)!=="0"}),e=h(()=>!a.value.block),o=h(()=>{if(e.value)return"";const n=new Date(a.value.block.timestamp*1e3);return n.toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})+" "+n.toLocaleTimeString()}),u=z(H,"currentHeight"),d=h(()=>{const n=[];for(const m of a.value.tags)n.push({items:[{name:"",value:m.name,attrs:{disabled:!0}},{name:"",value:m.value,attrs:{disabled:!0}}]});return n});b(()=>s.txId,async()=>{U(s.txId),E()},{immediate:!0});const c=z(J.breakpoints,"verticalContent");return{ArweaveStore:w,tx:a,currentBlock:u,isData:r,isPending:e,date:o,tagsSchema:d,verticalContent:c,humanFileSize:q}}},g=s=>(Q("data-v-d729dc74"),s=s(),X(),s),xe={class:"meta flex-column"},fe={class:"card"},ge={class:"row flex-row"},ye={class:"item",style:{"font-size":"1.5em"}},ke={class:"row flex-row"},pe={class:"item"},we={class:"row flex-row"},Se={class:"item"},be=g(()=>t("h3",null,"Properties",-1)),Ie={class:"card flex-column"},Le=g(()=>t("h3",null,"ID",-1)),Ae={class:"ellipsis"},Ce=["href"],ze={key:0},Be=g(()=>t("h3",null,"Pending",-1)),De=[Be],Fe={key:1},je=g(()=>t("h3",null,"Block",-1)),Oe={class:"ellipsis"},Re=g(()=>t("h3",null,"Data",-1)),Ne=y(" Fee "),Te=y("\xA0 "),Pe=y("|"),We=g(()=>t("h3",null,"Tags",-1)),Ve={style:{background:"var(--background2)","border-radius":"var(--border-radius)"}},Ge={key:1};function He(s,a,r,e,o,u){const d=v("Ar"),c=v("LocaleCurrency"),n=v("AddressIcon"),m=v("Address"),D=v("InputGrid"),F=v("Selector"),j=v("FoldingLayout");return e.tx?(l(),I(j,{key:0},M({left:p(()=>[t("div",xe,[t("div",fe,[t("div",ge,[t("div",ye,[i(d,{class:"ar",ar:e.tx.quantity.ar},null,8,["ar"]),i(c,{class:"secondary-text",ar:e.tx.quantity.ar},null,8,["ar"])])]),t("div",ke,[t("div",pe,[i(n,{address:e.tx.owner.address},null,8,["address"]),i(m,{class:"secondary-text",address:e.tx.owner.address},null,8,["address"])])]),t("div",we,[t("div",Se,[i(n,{address:e.tx.recipient},null,8,["address"]),i(m,{class:"secondary-text",address:e.tx.recipient},null,8,["address"])])])]),be,t("div",Ie,[t("div",null,[Le,t("div",Ae,x(e.tx.id),1),e.isData?(l(),_("a",{key:0,href:e.ArweaveStore.gatewayURL+e.tx.id,target:"_blank"},"Link",8,Ce)):f("",!0)]),e.isPending?(l(),_("div",ze,De)):(l(),_("div",Fe,[je,t("div",Oe,x(e.tx.block.id),1),t("span",null,[y(x(e.tx.block.height)+" ",1),e.currentBlock?(l(),_(B,{key:0},[y("/ "+x(e.currentBlock),1)],64)):f("",!0)]),t("div",null,x(e.date),1)])),t("div",null,[Re,t("div",null,"Data size "+x(e.humanFileSize(e.tx.data.size)),1),t("div",null,[Ne,i(d,{class:"ar",ar:e.tx.fee.ar},null,8,["ar"]),Te,i(c,{class:"secondary-text",ar:e.tx.fee.ar},{default:p(()=>[Pe]),_:1},8,["ar"])])])]),e.tagsSchema.length?(l(),_(B,{key:0},[We,t("div",Ve,[i(D,{schema:e.tagsSchema,disabled:""},null,8,["schema"])])],64)):f("",!0),e.verticalContent?(l(),_("br",Ge)):f("",!0)])]),_:2},[e.isData?{name:"right",fn:p(()=>[i(F,{tx:e.tx,class:L({inline:!e.verticalContent})},null,8,["tx","class"])])}:void 0]),1024)):f("",!0)}var Ue=k(he,[["render",He],["__scopeId","data-v-d729dc74"]]);export{Ue as default};
