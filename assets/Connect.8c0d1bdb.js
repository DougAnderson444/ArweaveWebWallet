import{_ as y,c as N,i as S,D as j,T as R,A as T,j as q,e as M,k as P,b as U,l as F,m as H,s as G,n as J}from"./index.2524fe22.js";import{d as k,i as _,o as a,e as c,F as w,g as I,y as C,j as m,q as h,z as D,B as $,f as d,l as b,K as x,I as K,c as B,x as O,w as A,k as V,N as E,J as X,T as Y}from"./vendor.1c1e6812.js";const Q={components:{AddressIcon:N},props:["addresses","modelValue","exit"],setup(n,{emit:o}){return{model:k({get(){return n.modelValue},set(e){o("update:modelValue",e)}})}}},W=n=>(D("data-v-036316fd"),n=n(),$(),n),Z={class:"wallet-tabs"},ee=["onClick"],te=W(()=>d("div",{class:"exit-background"},null,-1)),ne=W(()=>d("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},[d("path",{d:"M0 0h24v24H0V0z",fill:"none"}),d("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"})],-1)),ae=[te,ne];function oe(n,o,t,e,v,f){const r=_("AddressIcon");return a(),c("div",Z,[(a(!0),c(w,null,I(t.addresses,l=>(a(),c("button",{key:l,type:"button",onClick:i=>e.model=l,class:C(["tab",{active:l==e.model}])},[m(r,{address:l},null,8,["address"])],10,ee))),128)),t.exit?(a(),c("button",{key:0,class:"exit",type:"button",onClick:o[0]||(o[0]=l=>n.$emit("exit"))},ae)):h("",!0)])}var se=y(Q,[["render",oe],["__scopeId","data-v-036316fd"]]);const ce={components:{Icon:S},props:["icon","img"],setup(){}},de={class:"icon-background"};function le(n,o,t,e,v,f){const r=_("Icon");return a(),c("div",de,[t.img?(a(),b(r,{key:0,class:"page-logo",icon:t.img},null,8,["icon"])):(a(),b(r,{key:1,class:"page-logo placeholder",icon:t.icon},null,8,["icon"]))])}var z=y(ce,[["render",le],["__scopeId","data-v-34c166f1"]]);const ie={props:["modelValue"],setup(n,{emit:o}){return{expanded:k({get(){return n.modelValue},set(e){o("update:modelValue",e)}})}}},L=n=>(D("data-v-52e2fbe0"),n=n(),$(),n),re=L(()=>d("path",{d:"M24 24H0V0h24v24z",fill:"none",opacity:".87"},null,-1)),_e=L(()=>d("path",{d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6-1.41-1.41z"},null,-1)),ue=[re,_e];function me(n,o,t,e,v,f){return a(),c("button",{type:"button",class:"expand",onClick:o[0]||(o[0]=r=>e.expanded=!e.expanded)},[(a(),c("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:C({expanded:e.expanded})},ue,2))])}var ve=y(ie,[["render",me],["__scopeId","data-v-52e2fbe0"]]),fe="/assets/notification.8a26e511.svg";const pe={components:{IconBackground:z,Icon:S,Date:j,Expand:ve},props:["data"],setup(n){return{iconNotification:fe}}},xe={class:"flex-row"},ge={class:"flex-row",style:{flex:"1 1 0"}},ye={class:"content"},ke={class:"title"},he={class:"secondary-text"},be={key:1,class:"actions flex-row"},we=["onClick"];function Ie(n,o,t,e,v,f){const r=_("IconBackground"),l=_("Date"),i=_("Icon"),u=_("Expand");return a(),c("div",{class:C(["notification",{expanded:t.data.expanded}])},[d("div",xe,[d("div",ge,[m(r,{icon:t.data.icon||e.iconNotification,img:t.data.img},null,8,["icon","img"]),d("div",ye,[t.data.expanded?(a(),b(l,{key:0,class:"secondary-text",timestamp:t.data.timestamp},null,8,["timestamp"])):h("",!0),d("div",ke,x(t.data.title),1),d("div",he,[K(n.$slots,"default",{},void 0,!0)]),t.data.expanded?(a(),c("div",be,[(a(!0),c(w,null,I(t.data.actions,s=>(a(),c("button",{key:s.name,onClick:s.run,type:"button",class:"action flex-row"},[m(i,{icon:s.img},null,8,["icon"]),d("div",null,x(s.name),1)],8,we))),128))])):h("",!0)])]),m(u,{modelValue:t.data.expanded,"onUpdate:modelValue":o[0]||(o[0]=s=>t.data.expanded=s)},null,8,["modelValue"])])],2)}var Ce=y(pe,[["render",Ie],["__scopeId","data-v-e0bffb3c"]]),Ve="/assets/y.229c7801.svg";const Te={components:{WalletTabs:se,Tabs:R,IconBackground:z,Notification:Ce},props:["state"],setup(n){const o=k(()=>T.wallets.map(s=>s.key)),t=B(n.state.wallet),e=[{name:"Requests",color:"var(--orange)"},{name:"Permissions",color:"var(--green)"}],v=B(t.value?"Requests":null),f=()=>n.state.wallet=!1,r=k(()=>{var g;const s=n.state.wallet?"Switch":"Connect",p=n.state.wallet?`Switch to ${t.value}`:`Connect to ${((g=n.state.appInfo)==null?void 0:g.name)||n.state.origin} from the account ${t.value}`;return{title:s,timestamp:Date.now(),actions:[{name:s,img:Ve,run:()=>n.state.wallet=t.value},{name:"Exit",img:q,run:f}],expanded:!0,content:p}}),l=O(M.breakpoints,"verticalLayout"),i=B(null),u=(s,p)=>s>p?i.value="slide-left":i.value="slide-right";return A(()=>e.findIndex(s=>s.name===v.value),u),A(()=>T.wallets.findIndex(s=>s.key===t.value),u),A(()=>t.value,(s,p)=>{s&&!p&&(v.value=e[0].name)}),{addresses:o,currentAddress:t,tabs:e,currentTab:v,connectData:r,verticalLayout:l,transitionName:i,disconnect:f,iconConnection:P}}},Be={class:"connection-card card flex-column"},Ae={class:"flex-row"},Ne={class:"secondary-text"},Se={class:"flex-column"},De={class:"container flex-column"},$e={key:0,class:"info flex-column"},Ee={key:1,class:"flex-column"},We={key:0,class:"fade-list-item"},ze={key:2,class:"flex-column"};function Le(n,o,t,e,v,f){var s,p;const r=_("IconBackground"),l=_("WalletTabs"),i=_("Tabs"),u=_("Notification");return a(),c("div",Be,[d("div",{class:C([e.verticalLayout?"flex-column":"flex-row"])},[d("div",Ae,[m(r,{img:(s=t.state.appInfo)==null?void 0:s.logo,icon:e.iconConnection},null,8,["img","icon"]),d("div",null,[d("div",null,x(((p=t.state.appInfo)==null?void 0:p.name)||"Connector"),1),d("div",Ne,x(t.state.origin),1)])]),m(l,{addresses:e.addresses,modelValue:e.currentAddress,"onUpdate:modelValue":o[0]||(o[0]=g=>e.currentAddress=g),exit:"true",onExit:e.disconnect},null,8,["addresses","modelValue","onExit"])],2),d("div",Se,[m(i,{tabs:e.tabs,modelValue:e.currentTab,"onUpdate:modelValue":o[1]||(o[1]=g=>e.currentTab=g),disabled:!e.currentAddress},null,8,["tabs","modelValue","disabled"]),d("div",De,[m(Y,{name:e.transitionName,mode:"out-in"},{default:V(()=>[(a(),c("div",{key:e.currentAddress+e.currentTab,class:"content"},[e.currentAddress?e.currentTab==="Requests"?(a(),c("div",Ee,[m(E,{name:"fade-list"},{default:V(()=>[e.currentAddress===t.state.wallet?(a(),c("div",We,"Connected")):(a(),b(u,{key:1,data:e.connectData,class:"fade-list-item"},{default:V(()=>[X(x(e.connectData.content),1)]),_:1},8,["data"]))]),_:1})])):e.currentTab==="Permissions"?(a(),c("div",ze,"Wip")):h("",!0):(a(),c("div",$e,"Select a wallet"))]))]),_:1},8,["name"])])])])}var je=y(Te,[["render",Le],["__scopeId","data-v-2e1bb1e2"]]);const Re={components:{ConnectionCard:je,AddressIcon:N,Address:U,Button:F},setup(){const n=k(()=>T.currentWallet),o=!!window.opener;return{currentWallet:n,previousPage:o,navigateBack:()=>{if(!!o)try{window.open("","parent")}catch(e){console.log(e)}},connectors:H,state:G,states:J}}},qe={class:"connect flex-column"},Me={class:"bottom-info secondary-text"};function Pe(n,o,t,e,v,f){var l;const r=_("ConnectionCard");return a(),c("div",qe,[e.previousPage?(a(),c("div",{key:0,onClick:o[0]||(o[0]=(...i)=>e.navigateBack&&e.navigateBack(...i))},"Return to "+x(((l=e.state.appInfo)==null?void 0:l.name)||e.state.origin||"previous page"),1)):h("",!0),m(E,{name:"fade-list"},{default:V(()=>[(a(!0),c(w,null,I(e.connectors,(i,u)=>(a(),b(r,{key:u,state:i,class:"fade-list-item"},null,8,["state"]))),128))]),_:1}),d("div",Me,[d("div",null,"All Channels "+x(Object.keys(e.states).length),1),(a(!0),c(w,null,I(e.states,(i,u)=>(a(),c("div",{key:u},x(i),1))),128))])])}var He=y(Re,[["render",Pe],["__scopeId","data-v-069f26e8"]]);export{He as default};
