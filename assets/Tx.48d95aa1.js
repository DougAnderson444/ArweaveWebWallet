import{_ as y,O as j,A as k,a as O,F as R,b as N,c as T,I as P,B as W,d as V,h as G,g as H,e as J}from"./index.04a4744b.js";import{d as p,e as h,j as m,o as c,p as I,l as w,g as a,y as L,a as b,f as i,r as U,O as A,P as z,k as u,K as x,s as f,x as B,a1 as q,J as S,F as D,z as E,B as K}from"./vendor.035b7bf8.js";const M={components:{Observer:j},props:["src"],setup(s,{emit:t}){const r=p(null),e=p(null),o=p(null),_=v=>{console.log(v),e.value=v.width/v.height},d=()=>{o.value=r.value.naturalWidth/r.value.naturalHeight,t("load")},l=h(()=>e.value&&o.value&&e.value<o.value),n=h(()=>e.value&&o.value&&e.value>=o.value);return{x:l,y:n,resize:_,load:d,imgRef:r}}},Q={class:"frame-scroller"},X=["src"];function Y(s,t,r,e,o,_){const d=m("Observer");return c(),I(d,{observe:"resize",onResize:e.resize,class:L(["img",{x:e.x,y:e.y}])},{default:w(()=>[a("div",Q,[a("img",{ref:"imgRef",src:r.src,onLoad:t[0]||(t[0]=(...l)=>e.load&&e.load(...l))},null,40,X)])]),_:1},8,["onResize","class"])}var Z=y(M,[["render",Y],["__scopeId","data-v-729c6e3c"]]);const $={props:["tx"],setup(s){b(()=>s.tx,t=>{console.log(t),!!t},{immediate:!0})}},ee={class:"smart-weave"};function te(s,t,r,e,o,_){return c(),i("div",ee," SmartWeave Contract ")}var ae=y($,[["render",te]]);const se={components:{Img:Z,SmartWeave:ae},props:["tx"],setup(s){const t=U({handler:null,loaded:!1,payload:null}),r=h(()=>k.gatewayURL+s.tx.id);return b(()=>s.tx,async()=>{var e,o,_,d,l,n;if(!!s.tx&&(t.handler=null,t.loaded=!1,((e=s.tx.data)==null?void 0:e.size)!=="0"))if(((o=s.tx.data)==null?void 0:o.type)==="application/x.arweave-manifest+json"||((_=s.tx.data)==null?void 0:_.type)==="text/html"||((d=s.tx.data)==null?void 0:d.type)==="application/pdf")t.handler="iframe";else if(((n=(l=s.tx.data)==null?void 0:l.type)==null?void 0:n.split("/")[0])==="image")t.handler="img";else{t.handler="raw";try{if(t.payload=await O.transactions.getData(s.tx.id,{decode:!0,string:!0}),t.payload[0]==="{")try{t.payload=JSON.stringify(JSON.parse(t.payload),null,2),t.handler="json"}catch{}}catch{}}},{immediate:!0}),{gatewayLink:r,data:t}}},ne={key:"iframe",class:"selector iframe-container box"},oe=["src"],re={key:"img",class:"selector img-container box"},de={key:"smartweave",class:"selector"},le={key:"json",class:"selector data-container box"},ce={class:"raw"};function ie(s,t,r,e,o,_){const d=m("Img"),l=m("SmartWeave");return e.data.handler==="iframe"?A((c(),i("div",ne,[a("iframe",{class:"iframe",src:e.gatewayLink,onLoad:t[0]||(t[0]=n=>e.data.loaded=!0)},null,40,oe)],512)),[[z,e.data.loaded]]):e.data.handler==="img"?A((c(),i("div",re,[u(d,{src:e.gatewayLink,onLoad:t[1]||(t[1]=n=>e.data.loaded=!0)},null,8,["src"])],512)),[[z,e.data.loaded]]):e.data.handler==="smartweave"?(c(),i("div",de,[u(l,{tx:r.tx},null,8,["tx"])])):e.data.handler==="json"||e.data.handler==="raw"?(c(),i("div",le,[a("pre",ce,x(e.data.payload),1)])):f("",!0)}var _e=y(se,[["render",ie],["__scopeId","data-v-ee87589c"]]);const ue={components:{Selector:_e,FoldingLayout:R,Address:N,AddressIcon:T,InputGrid:P},props:{txId:String},setup(s){const t=h(()=>k.txs[s.txId]),r=h(()=>{var n;return((n=t.value.data)==null?void 0:n.size)!=="0"}),e=h(()=>!t.value.block),o=h(()=>{if(e.value)return"";const n=new Date(t.value.block.timestamp*1e3);return n.toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})+" "+n.toLocaleTimeString()}),_=B(W,"currentHeight"),d=h(()=>{const n=[];for(const v of t.value.tags)n.push({items:[{name:"",value:v.name,attrs:{disabled:!0}},{name:"",value:v.value,attrs:{disabled:!0}}]});return n});b(()=>s.txId,async()=>{H(s.txId),J()},{immediate:!0});const l=B(V.breakpoints,"verticalContent");return{ArweaveStore:k,tx:t,currentBlock:_,isData:r,isPending:e,date:o,tagsSchema:d,verticalContent:l,humanFileSize:G}}},g=s=>(E("data-v-45b45bee"),s=s(),K(),s),me={class:"meta flex-column"},ve={class:"card"},he={class:"row flex-row"},xe={class:"item",style:{"font-size":"1.5em"}},fe={class:"row flex-row"},ge={class:"item"},ye={class:"row flex-row"},ke={class:"item"},pe=g(()=>a("h3",null,"Properties",-1)),we={class:"card flex-column"},be=g(()=>a("h3",null,"ID",-1)),Se={class:"ellipsis"},Ie=["href"],Le={key:0},Ae=g(()=>a("h3",null,"Pending",-1)),ze=[Ae],Be={key:1},De=g(()=>a("h3",null,"Block",-1)),Ce={class:"ellipsis"},Fe=g(()=>a("h3",null,"Data",-1)),je=S(" Fee "),Oe=g(()=>a("h3",null,"Tags",-1)),Re={style:{background:"var(--background2)","border-radius":"var(--border-radius)"}},Ne={key:1};function Te(s,t,r,e,o,_){const d=m("Amount"),l=m("AddressIcon"),n=m("Address"),v=m("InputGrid"),C=m("Selector"),F=m("FoldingLayout");return e.tx?(c(),I(F,{key:0},q({left:w(()=>[a("div",me,[a("div",ve,[a("div",he,[a("div",xe,[u(d,{ar:e.tx.quantity.ar},null,8,["ar"])])]),a("div",fe,[a("div",ge,[u(l,{address:e.tx.owner.address},null,8,["address"]),u(n,{class:"secondary-text",address:e.tx.owner.address},null,8,["address"])])]),a("div",ye,[a("div",ke,[u(l,{address:e.tx.recipient},null,8,["address"]),u(n,{class:"secondary-text",address:e.tx.recipient},null,8,["address"])])])]),pe,a("div",we,[a("div",null,[be,a("div",Se,x(e.tx.id),1),e.isData?(c(),i("a",{key:0,href:e.ArweaveStore.gatewayURL+e.tx.id,target:"_blank"},"Link",8,Ie)):f("",!0)]),e.isPending?(c(),i("div",Le,ze)):(c(),i("div",Be,[De,a("div",Ce,x(e.tx.block.id),1),a("span",null,[S(x(e.tx.block.height)+" ",1),e.currentBlock?(c(),i(D,{key:0},[S("/ "+x(e.currentBlock),1)],64)):f("",!0)]),a("div",null,x(e.date),1)])),a("div",null,[Fe,a("div",null,"Data size "+x(e.humanFileSize(e.tx.data.size)),1),a("div",null,[je,u(d,{ar:e.tx.fee.ar},null,8,["ar"])])])]),e.tagsSchema.length?(c(),i(D,{key:0},[Oe,a("div",Re,[u(v,{schema:e.tagsSchema,disabled:""},null,8,["schema"])])],64)):f("",!0),e.verticalContent?(c(),i("br",Ne)):f("",!0)])]),_:2},[e.isData?{name:"right",fn:w(()=>[u(C,{tx:e.tx,class:L({inline:!e.verticalContent})},null,8,["tx","class"])])}:void 0]),1024)):f("",!0)}var Ve=y(ue,[["render",Te],["__scopeId","data-v-45b45bee"]]);export{Ve as default};
