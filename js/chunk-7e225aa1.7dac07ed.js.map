{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.string.trim.js","webpack:///./src/views/AddWallet.vue","webpack:///./src/views/AddWallet.vue?8007","webpack:///./node_modules/core-js/internals/string-trim-forced.js","webpack:///./src/views/AddWallet.vue?5676"],"names":["$","$trim","trim","forcedStringTrimMethod","target","proto","forced","this","class","style","passphraseInput","importFile","disabled","isCreatingWallet","length","createdWallet","goToCreatedWallet","icon","isPassphrase","isGeneratingWallet","isValidPassphrase","importPassphrase","confirmPassphrase","create","name","mode","popup","enabled","key","message","actions","action","supportsWebUSB","importLedger","components","InputData","Button","Icon","setup","router","value","split","wallet","setTimeout","push","query","id","file","JSON","text","parse","Ledger","window","navigator","usb","render","__scopeId","fails","whitespaces","non","module","exports","METHOD_NAME"],"mappings":"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","file":"js/chunk-7e225aa1.7dac07ed.js","sourcesContent":["'use strict';\nvar $ = require('../internals/export');\nvar $trim = require('../internals/string-trim').trim;\nvar forcedStringTrimMethod = require('../internals/string-trim-forced');\n\n// `String.prototype.trim` method\n// https://tc39.es/ecma262/#sec-string.prototype.trim\n$({ target: 'String', proto: true, forced: forcedStringTrimMethod('trim') }, {\n  trim: function trim() {\n    return $trim(this);\n  }\n});\n","<template>\n\t<div class=\"add-wallet\">\n\n\t\t<div class=\"card\">\n\t\t\t<h2 style=\"display:flex; justify-content:space-between;\">\n\t\t\t\t<span>Passphrase</span>\n\t\t\t\t<span>Key file</span>\n\t\t\t</h2>\n\t\t\t<InputData v-model=\"passphraseInput\" @files=\"importFile\" :disabled=\"isCreatingWallet\" /><br>\n\t\t\t<Button v-if=\"!isCreatingWallet && !passphraseInput.length\" @click=\"create()\" :disabled=\"passphraseInput.length && !isPassphrase\">\n\t\t\t\t<Icon :icon=\"require('@/assets/logos/arweave.svg')\" />\n\t\t\t\t<div>Create new wallet</div>\n\t\t\t</Button>\n\n\t\t\t<Button v-else-if=\"isCreatingWallet\" :disabled=\"!createdWallet\" @click=\"goToCreatedWallet\">\n\t\t\t\t<template v-if=\"!createdWallet\">\n\t\t\t\t\t<Icon :icon=\"'loader'\" />\n\t\t\t\t\t<div>Write down the passphrase</div>\n\t\t\t\t</template>\n\t\t\t\t<div v-else>Passphrase saved? Click here to proceed</div>\n\t\t\t</Button>\n\n\t\t\t<Button v-else :disabled=\"!isPassphrase || isGeneratingWallet\" @click=\"isValidPassphrase ? importPassphrase() : confirmPassphrase()\">\n\t\t\t\t<div>Import wallet</div>\n\t\t\t</Button>\n\t\t\t<transition name=\"fade-fast\" mode=\"in-out\">\n\t\t\t\t<div v-if=\"popup.enabled\" :key=\"popup.message\" class=\"overlay\">\n\t\t\t\t\t<div style=\"flex:1 1 auto; display:flex; flex-direction:column; align-items:center; justify-content:space-evenly; margin-bottom:var(--spacing);\">\n\t\t\t\t\t\t<Icon v-if=\"popup.icon\" :icon=\"popup.icon\" style=\"font-size: 2em;\" />\n\t\t\t\t\t\t{{ popup.message }}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style=\"width:100%; display:flex; gap:var(--spacing);\">\n\t\t\t\t\t\t<Button v-for=\"action in popup.actions\" :key=\"action.name\" @click=\"action.action\">{{ action.name }}</Button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</transition>\n\n\t\t</div>\n\n\t\t<div class=\"card\">\n\t\t\t<h2>Hardware</h2>\n\t\t\t<Button v-if=\"supportsWebUSB()\" @click=\"importLedger()\">\n\t\t\t\t<Icon :icon=\"require('@/assets/logos/ledger.svg')\" />\n\t\t\t\t<div>Ledger</div>\n\t\t\t</Button>\n\t\t\t<Button v-else disabled>\n\t\t\t\t<Icon :icon=\"require('@/assets/logos/ledger.svg')\" />\n\t\t\t\t<div>Ledger not supported for this browser</div>\n\t\t\t</Button>\n\t\t</div>\n\n\t</div>\n</template>\n\n<script>\nimport InputData from '@/components/atomic/InputData.vue'\nimport Button from '@/components/atomic/Button.vue'\nimport Icon from '@/components/atomic/Icon.vue'\nimport Ledger from '@/functions/Ledger.js'\nimport { addWallet, watchWallet, generateMnemonic, validateMnemonic, addMnemonic } from '@/functions/Wallets.js'\nimport { computed, reactive, ref } from 'vue'\nimport { useRouter } from 'vue-router'\n\nexport default {\n\tcomponents: { InputData, Button, Icon },\n\tsetup () {\n\t\tconst router = useRouter()\n\t\tconst passphraseInput = ref('')\n\t\tconst popup = reactive({})\n\t\tconst isPassphrase = computed(() => passphraseInput.value.trim().split(/\\s+/g).length >= 12)\n\t\tconst isValidPassphrase = computed(() => validateMnemonic(passphraseInput.value))\n\t\tconst isCreatingWallet = ref(false)\n\t\tconst isGeneratingWallet = ref(false)\n\t\tconst createdWallet = ref(null)\n\t\tconst create = async () => {\n\t\t\tisCreatingWallet.value = true\n\t\t\tpassphraseInput.value = generateMnemonic()\n\t\t\tconst wallet = addMnemonic(passphraseInput.value)\n\t\t\tsetTimeout(async () => createdWallet.value = await wallet, 10000)\n\t\t}\n\t\tconst goToCreatedWallet = () => {\n\t\t\trouter.push({ name: 'EditWallet', query: { wallet: createdWallet.value.id } })\n\t\t}\n\t\tconst importPassphrase = async () => {\n\t\t\tisGeneratingWallet.value = true\n\t\t\tconst wallet = addMnemonic(passphraseInput.value)\n\t\t\tpopup.enabled = true\n\t\t\tpopup.icon = 'loader'\n\t\t\tpopup.message = 'Importing'\n\t\t\tpopup.actions = []\n\t\t\trouter.push({ name: 'EditWallet', query: { wallet: (await wallet).id } })\n\t\t}\n\t\tconst confirmPassphrase = () => {\n\t\t\tpopup.enabled = true\n\t\t\tpopup.icon = ''\n\t\t\tpopup.message = 'This passphrase is not valid, do you want to import it anyway?'\n\t\t\tpopup.actions = [\n\t\t\t\t{ name: 'Back', action: () => popup.enabled = false },\n\t\t\t\t{ name: 'Import Passphrase', action: () => importPassphrase() }\n\t\t\t]\n\t\t}\n\t\tconst importFile = async (file) => {\n\t\t\tif (!file) { return }\n\t\t\tconst wallet = await addWallet(JSON.parse(await file[0].text()))\n\t\t\trouter.push({ name: 'EditWallet', query: { wallet: wallet.id } })\n\t\t}\n\t\tconst importLedger = async () => {\n\t\t\tconst wallet = await watchWallet(Ledger)\n\t\t\trouter.push({ name: 'EditWallet', query: { wallet: wallet.id } })\n\t\t}\n\t\tconst supportsWebUSB = () => {\n\t\t\treturn !!window.navigator.usb\n\t\t}\n\t\treturn { passphraseInput, popup, isPassphrase, isValidPassphrase, create, importLedger, supportsWebUSB, isCreatingWallet, isGeneratingWallet, createdWallet, goToCreatedWallet, importPassphrase, confirmPassphrase, importFile }\n\t},\n}\n</script>\n\n<style scoped>\n.add-wallet {\n\twidth: 100%;\n\tpadding: var(--spacing);\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tjustify-content: space-evenly;\n\tgap: var(--spacing);\n\tbackdrop-filter: brightness(1.7);\n}\n\n.card {\n\twidth: 100%;\n\tmax-width: 700px;\n\toverflow: hidden;\n}\n\n.button {\n\tbackground-image: radial-gradient(circle at center, #81a1c166, #81a1c133);\n\theight: 5em;\n\tfont-size: 1.1em;\n\twidth: 100%;\n}\n\n.button:disabled {\n\tfilter: grayscale(0.5) brightness(0.5);\n}\n\n.overlay {\n\tbackground: inherit;\n\tborder-radius: inherit;\n\tpadding: inherit;\n\tposition: absolute;\n\twidth: 100%;\n\theight: 100%;\n\ttop: 0;\n\tbottom: 0;\n\tleft: 0;\n\tright: 0;\n\tz-index: 10;\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tjustify-content: space-evenly;\n\tgap: var(--spacing);\n}\n</style>","import { render } from \"./AddWallet.vue?vue&type=template&id=621bd04d&scoped=true\"\nimport script from \"./AddWallet.vue?vue&type=script&lang=js\"\nexport * from \"./AddWallet.vue?vue&type=script&lang=js\"\n\nimport \"./AddWallet.vue?vue&type=style&index=0&id=621bd04d&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-621bd04d\"\n\nexport default script","var fails = require('../internals/fails');\nvar whitespaces = require('../internals/whitespaces');\n\nvar non = '\\u200B\\u0085\\u180E';\n\n// check that a method works with the correct list\n// of whitespaces and has a correct name\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    return !!whitespaces[METHOD_NAME]() || non[METHOD_NAME]() != non || whitespaces[METHOD_NAME].name !== METHOD_NAME;\n  });\n};\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./AddWallet.vue?vue&type=style&index=0&id=621bd04d&scoped=true&lang=css\""],"sourceRoot":""}