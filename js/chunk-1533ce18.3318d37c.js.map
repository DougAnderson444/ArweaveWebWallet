{"version":3,"sources":["webpack:///./node_modules/@ledgerhq/devices/node_modules/semver/ranges/gtr.js","webpack:///./node_modules/@ledgerhq/devices/node_modules/semver/classes/range.js","webpack:///./node_modules/@ledgerhq/devices/node_modules/semver/functions/lte.js","webpack:///./node_modules/@ledgerhq/devices/node_modules/semver/functions/compare-build.js","webpack:///./node_modules/@ledgerhq/devices/node_modules/semver/internal/re.js","webpack:///./node_modules/@ledgerhq/devices/node_modules/semver/internal/debug.js","webpack:///./node_modules/@ledgerhq/devices/node_modules/semver/internal/constants.js","webpack:///./node_modules/@ledgerhq/devices/node_modules/semver/functions/lt.js","webpack:///./node_modules/@ledgerhq/devices/node_modules/yallist/iterator.js","webpack:///./node_modules/@ledgerhq/devices/node_modules/semver/functions/prerelease.js","webpack:///./node_modules/@ledgerhq/devices/node_modules/lru-cache/index.js","webpack:///./node_modules/@zondax/ledger-arweave/dist/common.js","webpack:///./node_modules/@ledgerhq/devices/node_modules/semver/functions/parse.js","webpack:///./node_modules/@ledgerhq/devices/node_modules/semver/index.js","webpack:///./node_modules/@ledgerhq/devices/node_modules/semver/functions/valid.js","webpack:///./node_modules/@ledgerhq/devices/node_modules/semver/functions/inc.js","webpack:///./node_modules/@ledgerhq/devices/node_modules/semver/ranges/outside.js","webpack:///./node_modules/@ledgerhq/devices/node_modules/semver/functions/sort.js","webpack:///./node_modules/@ledgerhq/devices/node_modules/semver/classes/comparator.js","webpack:///./src/views/AddWallet.vue","webpack:///./src/functions/Ledger.js","webpack:///./src/views/AddWallet.vue?8007","webpack:///./node_modules/@babel/runtime/helpers/interopRequireDefault.js","webpack:///./node_modules/@zondax/ledger-arweave/dist/index.js","webpack:///./node_modules/@ledgerhq/devices/node_modules/semver/functions/gt.js","webpack:///./node_modules/@ledgerhq/devices/node_modules/semver/functions/satisfies.js","webpack:///./node_modules/@ledgerhq/devices/node_modules/semver/functions/major.js","webpack:///./node_modules/@babel/runtime/helpers/createClass.js","webpack:///./node_modules/@ledgerhq/devices/node_modules/semver/functions/compare.js","webpack:///./node_modules/@ledgerhq/devices/node_modules/semver/ranges/ltr.js","webpack:///./node_modules/@ledgerhq/devices/node_modules/semver/ranges/max-satisfying.js","webpack:///./node_modules/@babel/runtime/helpers/typeof.js","webpack:///./node_modules/@ledgerhq/devices/node_modules/semver/functions/diff.js","webpack:///./node_modules/@ledgerhq/devices/node_modules/semver/ranges/to-comparators.js","webpack:///./node_modules/@ledgerhq/devices/node_modules/semver/functions/patch.js","webpack:///./node_modules/@ledgerhq/devices/node_modules/semver/internal/parse-options.js","webpack:///./node_modules/@ledgerhq/devices/lib-es/index.js","webpack:///./node_modules/@ledgerhq/devices/node_modules/semver/functions/clean.js","webpack:///./node_modules/@ledgerhq/devices/node_modules/semver/functions/neq.js","webpack:///./node_modules/@ledgerhq/devices/node_modules/yallist/yallist.js","webpack:///./node_modules/@ledgerhq/devices/node_modules/semver/functions/coerce.js","webpack:///./node_modules/@ledgerhq/hw-transport-webusb/lib-es/webusb.js","webpack:///./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack:///./node_modules/@ledgerhq/devices/node_modules/semver/functions/rcompare.js","webpack:///./node_modules/@babel/runtime/regenerator/index.js","webpack:///./node_modules/@ledgerhq/errors/dist/index.js","webpack:///./node_modules/@ledgerhq/hw-transport-webusb/lib-es/TransportWebUSB.js","webpack:///./node_modules/@ledgerhq/devices/node_modules/semver/ranges/intersects.js","webpack:///./node_modules/@ledgerhq/logs/lib-es/index.js","webpack:///./node_modules/@ledgerhq/devices/node_modules/semver/functions/compare-loose.js","webpack:///./node_modules/@ledgerhq/devices/node_modules/semver/classes/semver.js","webpack:///./src/views/AddWallet.vue?8475","webpack:///./node_modules/@ledgerhq/devices/node_modules/semver/functions/eq.js","webpack:///./node_modules/@ledgerhq/devices/lib/hid-framing.js","webpack:///./node_modules/@babel/runtime/helpers/asyncToGenerator.js","webpack:///./node_modules/@ledgerhq/devices/node_modules/semver/functions/minor.js","webpack:///./node_modules/@ledgerhq/devices/node_modules/semver/ranges/simplify.js","webpack:///./node_modules/@ledgerhq/devices/node_modules/semver/functions/gte.js","webpack:///./node_modules/@ledgerhq/devices/node_modules/semver/functions/cmp.js","webpack:///./node_modules/@ledgerhq/devices/node_modules/semver/ranges/valid.js","webpack:///./node_modules/@ledgerhq/devices/node_modules/semver/ranges/subset.js","webpack:///./node_modules/@ledgerhq/hw-transport/lib-es/Transport.js","webpack:///./node_modules/@ledgerhq/devices/node_modules/semver/ranges/min-version.js","webpack:///./node_modules/@ledgerhq/devices/node_modules/semver/functions/rsort.js","webpack:///./node_modules/@ledgerhq/devices/node_modules/semver/internal/identifiers.js","webpack:///./node_modules/@ledgerhq/devices/node_modules/semver/ranges/min-satisfying.js"],"names":["outside","gtr","version","range","options","module","exports","Range","parseOptions","loose","includePrerelease","raw","Comparator","this","value","set","format","split","map","parseRange","trim","filter","c","length","TypeError","first","isNullSet","isAny","comps","join","memoOpts","Object","keys","memoKey","cached","cache","get","hr","re","t","HYPHENRANGELOOSE","HYPHENRANGE","replace","hyphenReplace","debug","COMPARATORTRIM","comparatorTrimReplace","TILDETRIM","tildeTrimReplace","CARETTRIM","caretTrimReplace","compRe","COMPARATORLOOSE","COMPARATOR","rangeList","comp","parseComparator","replaceGTE0","match","rangeMap","Map","size","has","delete","result","values","some","thisComparators","isSatisfiable","rangeComparators","every","thisComparator","rangeComparator","intersects","SemVer","er","i","testSet","LRU","max","comparators","remainingComparators","slice","testComparator","pop","otherComparator","replaceCarets","replaceTildes","replaceXRanges","replaceStars","isX","id","toLowerCase","replaceTilde","r","TILDELOOSE","TILDE","_","M","m","p","pr","ret","replaceCaret","CARETLOOSE","CARET","z","replaceXRange","XRANGELOOSE","XRANGE","gtlt","xM","xm","xp","anyX","STAR","GTE0PRE","GTE0","incPr","$0","from","fM","fm","fp","fpr","fb","to","tM","tm","tp","tpr","tb","test","prerelease","semver","ANY","allowed","major","minor","patch","compare","lte","a","b","compareBuild","versionA","versionB","MAX_SAFE_COMPONENT_LENGTH","src","R","createToken","name","isGlobal","index","RegExp","undefined","NUMERICIDENTIFIER","NUMERICIDENTIFIERLOOSE","NONNUMERICIDENTIFIER","PRERELEASEIDENTIFIER","PRERELEASEIDENTIFIERLOOSE","BUILDIDENTIFIER","MAINVERSION","PRERELEASE","BUILD","FULLPLAIN","MAINVERSIONLOOSE","PRERELEASELOOSE","LOOSEPLAIN","XRANGEIDENTIFIER","XRANGEIDENTIFIERLOOSE","GTLT","XRANGEPLAIN","XRANGEPLAINLOOSE","COERCE","LONETILDE","LONECARET","process","NODE_DEBUG","args","console","error","SEMVER_SPEC_VERSION","MAX_LENGTH","MAX_SAFE_INTEGER","Number","lt","Yallist","prototype","Symbol","iterator","walker","head","next","parse","parsed","MAX","LENGTH","LENGTH_CALCULATOR","ALLOW_STALE","MAX_AGE","DISPOSE","NO_DISPOSE_ON_SET","LRU_LIST","CACHE","UPDATE_AGE_ON_GET","naiveLength","LRUCache","Infinity","lc","stale","maxAge","dispose","noDisposeOnSet","updateAgeOnGet","reset","mL","allowStale","mA","lC","forEach","hit","key","fn","thisp","tail","prev","forEachStep","toArray","k","isStale","v","e","now","h","Date","len","del","node","item","Entry","unshift","arr","l","expiresAt","self","doUse","unshiftNode","diff","removeNode","call","_interopRequireDefault","defineProperty","errorCodeToString","printBIP44Path","processErrorResponse","getVersion","serializePathv1","signSendChunkv1","PKLEN","ERROR_CODE","P1_VALUES","PAYLOAD_TYPE","INS","CHUNK_SIZE","CLA","_regenerator","_asyncToGenerator2","_typeof2","GET_VERSION","GET_ADDRESS","SIGN","GET_SIG","GET_PK","INIT","ADD","LAST","ONLY_RETRIEVE","SHOW_ADDRESS_IN_DEVICE","NoError","ERROR_DESCRIPTION","1","2","3","4","5","14","statusCode","concat","isDict","default","Array","printBIP44Item","hardened","pathBytes","Error","pathValues","readUInt32LE","log","response","hasOwnProperty","returnCode","errorMessage","toString","_x","_getVersion","apply","arguments","mark","_callee","transport","wrap","_context","abrupt","send","then","errorCodeData","targetId","testMode","deviceLocked","stop","HARDENED","path","startsWith","pathArray","buf","Buffer","alloc","child","endsWith","childNumber","isNaN","writeUInt32LE","_x2","_x3","_x4","_x5","_signSendChunkv","_callee2","app","chunkIdx","chunkNum","chunk","payloadType","_context2","signature","LOOSE","FULL","internalRe","tokens","compareIdentifiers","rcompareIdentifiers","valid","clean","inc","rcompare","compareLoose","sort","rsort","gt","eq","neq","gte","cmp","coerce","satisfies","toComparators","maxSatisfying","minSatisfying","minVersion","validRange","ltr","simplifyRange","subset","release","identifier","hilo","gtfn","ltefn","ltfn","ecomp","high","low","comparator","operator","list","sameDirectionIncreasing","sameDirectionDecreasing","sameSemVer","differentDirectionsInclusive","oppositeDirectionsLessThan","oppositeDirectionsGreaterThan","class","passphraseInput","isCreatingWallet","disabled","createdWallet","goToCreatedWallet","create","passphraseIsValid","icon","supportsWebUSB","importLedger","getTransport","info","TransportWebUSB","ArweaveApp","ErrorCode","close","getAppInfo","appInfo","getAddress","request","showAddress","sign","transaction","addr","owner","arweave","crypto","hash","utils","bufferTob64Url","sigjs","setSignature","Ledger","metaData","provider","getActiveAddress","address","getActivePublicKey","components","InputData","Button","Icon","setup","router","wallet","setTimeout","push","query","window","navigator","usb","render","__scopeId","obj","__esModule","_classCallCheck2","_createClass2","_common","_arweave","processGetRSAResponse","partialResponse","output","processGetAddrResponse","_signGetChunks","message","prepareChunks","signGetChunks","_getVersion2","catch","err","_appInfo","_callee3","_context3","appName","appVersion","flagLen","flagsValue","appNameLen","idx","appVersionLen","appFlagsLen","flagRecovery","flagSignedMcuCode","flagOnboarded","flagPINValidated","_getAddressHash","_callee4","_context4","getAddressHash","_getAddress","_callee5","req1","req2","req3","pk","_context5","sent","getPubKeyPart","pubkey","_getSignaturePart","_callee6","partnum","_context6","getSignaturePart","_getPubKeyPart","_callee7","_context7","_showAddress","_callee8","_context8","_signSendChunk","_callee9","_context9","signSendChunk","_x6","_sign","_callee10","_context10","signGetDigest","deephash","digest","_x7","_signGetDigest","_callee12","_this","_context12","chunks","_ref","_callee11","_context11","_x9","_x8","_digestSendChunk","_callee13","_context13","GET_DIGEST","digestSendChunk","_x10","_x11","_x12","_digest","_callee15","_this2","_context15","_ref2","_callee14","_context14","_x14","_x13","u16Value","Uint8Array","tmp","input","concatArray","encodeu16","blob","tx","serializedTags","tags","currentTag","encodedKey","encodeWithLen","decode","string","encodedVal","flatSerializedTags","flatten","stringToBuffer","quantity","reward","data_size","messageBuffer","encodeTx","buffer","end","_defineProperties","target","props","descriptor","enumerable","configurable","writable","_createClass","Constructor","protoProps","staticProps","versions","maxSV","rangeObj","_typeof","constructor","version1","version2","v1","v2","hasPre","prefix","defaultResult","opts","reduce","devices","blue","productName","productIdMM","legacyUsbProductId","usbOnly","memorySize","blockSize","getBlockSize","_firwareVersion","nanoS","firmwareVersion","nanoX","bluetoothSpec","serviceUuid","notifyUuid","writeUuid","devicesList","ledgerUSBVendorId","identifyUSBProductId","usbProductId","legacy","find","d","mm","deviceModel","bluetoothServices","serviceUuidToInfos","spec","s","insert","inserted","Node","pushNode","res","shift","forEachReverse","n","getReverse","mapReverse","initial","acc","reduceReverse","toArrayReverse","sliceReverse","splice","start","deleteCount","nodes","reverse","String","rtl","COERCERTL","exec","lastIndex","ledgerDevices","vendorId","async","requestLedgerDevice","device","requestDevice","filters","getLedgerDevices","getDevices","getFirstLedgerDevice","existingDevices","isSupported","Promise","resolve","_classCallCheck","instance","require","errorClasses","deserializers","addCustomErrorDeserializer","deserializer","createCustomErrorClass","C","fields","assign","stack","deserializeError","object","msg","JSON","name_1","des","warn","prop","captureStackTrace","serializeError","destroyCircular","seen","_i","_a","indexOf","AccountNameRequiredError","AccountNotSupported","AmountRequired","BluetoothRequired","BtcUnmatchedApp","CantOpenDevice","CashAddrNotSupported","CurrencyNotSupported","DeviceAppVerifyNotSupported","DeviceGenuineSocketEarlyClose","DeviceNotGenuineError","DeviceOnDashboardExpected","DeviceOnDashboardUnexpected","DeviceInOSUExpected","DeviceHalted","DeviceNameInvalid","DeviceSocketFail","DeviceSocketNoBulkStatus","DisconnectedDevice","DisconnectedDeviceDuringOperation","EnpointConfigError","EthAppPleaseEnableContractData","FeeEstimationFailed","FirmwareNotRecognized","HardResetFail","InvalidXRPTag","InvalidAddress","InvalidAddressBecauseDestinationIsAlsoSource","LatestMCUInstalledError","UnknownMCU","LedgerAPIError","LedgerAPIErrorWithMessage","LedgerAPINotAvailable","ManagerAppAlreadyInstalledError","ManagerAppRelyOnBTCError","ManagerAppDepInstallRequired","ManagerAppDepUninstallRequired","ManagerDeviceLockedError","ManagerFirmwareNotEnoughSpaceError","ManagerNotEnoughSpaceError","ManagerUninstallBTCDep","NetworkDown","NoAddressesFound","NotEnoughBalance","NotEnoughBalanceToDelegate","NotEnoughBalanceInParentAccount","NotEnoughSpendableBalance","NotEnoughBalanceBecauseDestinationNotCreated","NoAccessToCamera","NotEnoughGas","NotSupportedLegacyAddress","GasLessThanEstimate","PasswordsDontMatchError","PasswordIncorrectError","RecommendSubAccountsToEmpty","RecommendUndelegation","TimeoutTagged","UnexpectedBootloader","MCUNotGenuineToDashboard","RecipientRequired","UnavailableTezosOriginatedAccountReceive","UnavailableTezosOriginatedAccountSend","UpdateFetchFileFail","UpdateIncorrectHash","UpdateIncorrectSig","UpdateYourApp","UserRefusedDeviceNameChange","UserRefusedAddress","UserRefusedFirmwareUpdate","UserRefusedAllowManager","UserRefusedOnDevice","TransportOpenUserCancelled","TransportInterfaceNotAvailable","TransportRaceCondition","TransportWebUSBGestureRequired","DeviceShouldStayInApp","WebsocketConnectionError","WebsocketConnectionFailed","WrongDeviceForAccount","WrongAppForCurrency","ETHAddressNonEIP","CantScanQRCode","FeeNotLoaded","FeeRequired","FeeTooHigh","SyncError","PairingFailed","GenuineCheckFailed","LedgerAPI4xx","LedgerAPI5xx","FirmwareOrAppUpdateRequired","NoDBPathGiven","DBWrongPassword","DBNotReset","TransportError","StatusCodes","PIN_REMAINING_ATTEMPTS","INCORRECT_LENGTH","MISSING_CRITICAL_PARAMETER","COMMAND_INCOMPATIBLE_FILE_STRUCTURE","SECURITY_STATUS_NOT_SATISFIED","CONDITIONS_OF_USE_NOT_SATISFIED","INCORRECT_DATA","NOT_ENOUGH_MEMORY_SPACE","REFERENCED_DATA_NOT_FOUND","FILE_ALREADY_EXISTS","INCORRECT_P1_P2","INS_NOT_SUPPORTED","CLA_NOT_SUPPORTED","TECHNICAL_PROBLEM","OK","MEMORY_PROBLEM","NO_EF_SELECTED","INVALID_OFFSET","FILE_NOT_FOUND","INCONSISTENT_FILE","ALGORITHM_NOT_SUPPORTED","INVALID_KCV","CODE_NOT_INITIALIZED","ACCESS_CONDITION_NOT_FULFILLED","CONTRADICTION_SECRET_CODE_STATUS","CONTRADICTION_INVALIDATION","CODE_BLOCKED","MAX_VALUE_REACHED","GP_AUTH_FAILED","LICENSING","HALTED","getAltStatusMessage","code","TransportStatusError","statusText","smsg","statusCodeStr","configurationValue","endpointNumber","interfaceNumber","super","channel","Math","floor","random","packetSize","_disconnectEmitted","_emitDisconnect","emit","exchange","apdu","exchangeAtomicImpl","framing","blocks","makeBlocks","transferOut","getReducedResult","transferIn","data","reduceResponse","includes","productId","open","configuration","selectConfiguration","gracefullyResetDevice","iface","configurations","interfaces","alternates","interfaceClass","claimInterface","onDisconnect","removeEventListener","addEventListener","exchangeBusyPromise","releaseInterface","listen","observer","unsubscribed","unsubscribe","type","complete","DOMException","r1","r2","subscribers","date","dispatch","cb","__ledgerLogsListen","num","build","other","compareMain","comparePre","_errors","Tag","asUInt16BE","writeUInt16BE","initialAcc","dataLength","sequence","createHIDframing","nbBlocks","ceil","fill","writeUInt8","readUInt16BE","readUInt8","chunkData","_default","asyncGeneratorStep","gen","reject","_next","_throw","arg","done","_asyncToGenerator","min","included","ranges","simplified","original","op","sub","dom","sawNonNull","OUTER","simpleSub","simpleDom","isSub","simpleSubset","eqSet","Set","gtltComp","higher","lower","hasDomLT","hasDomGT","higherGT","lowerLT","add","needDomLTPre","needDomGTPre","Transport","exchangeTimeout","unresponsiveTimeout","_events","cla","ins","p1","p2","statusList","sw","resolveBusy","busyPromise","unresponsiveReached","timeout","f","clearTimeout","_appAPIlock","_apdu","_key","eventName","on","removeListener","event","openTimeout","listenTimeout","found","listenTimeoutId","ErrorMessage_NoDeviceFound","ErrorMessage_ListenTimeout","methods","scrambleKey","methodName","decorateAppAPIMethod","ctx","setScrambleKey","minver","setMin","compver","numeric","anum","bnum","minSV"],"mappings":"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","file":"js/chunk-1533ce18.3318d37c.js","sourcesContent":["// Determine if version is greater than all the versions possible in the range.\nconst outside = require('./outside')\nconst gtr = (version, range, options) => outside(version, range, '>', options)\nmodule.exports = gtr\n","// hoisted class for cyclic dependency\nclass Range {\n  constructor (range, options) {\n    options = parseOptions(options)\n\n    if (range instanceof Range) {\n      if (\n        range.loose === !!options.loose &&\n        range.includePrerelease === !!options.includePrerelease\n      ) {\n        return range\n      } else {\n        return new Range(range.raw, options)\n      }\n    }\n\n    if (range instanceof Comparator) {\n      // just put it in the set and return\n      this.raw = range.value\n      this.set = [[range]]\n      this.format()\n      return this\n    }\n\n    this.options = options\n    this.loose = !!options.loose\n    this.includePrerelease = !!options.includePrerelease\n\n    // First, split based on boolean or ||\n    this.raw = range\n    this.set = range\n      .split(/\\s*\\|\\|\\s*/)\n      // map the range to a 2d array of comparators\n      .map(range => this.parseRange(range.trim()))\n      // throw out any comparator lists that are empty\n      // this generally means that it was not a valid range, which is allowed\n      // in loose mode, but will still throw if the WHOLE range is invalid.\n      .filter(c => c.length)\n\n    if (!this.set.length) {\n      throw new TypeError(`Invalid SemVer Range: ${range}`)\n    }\n\n    // if we have any that are not the null set, throw out null sets.\n    if (this.set.length > 1) {\n      // keep the first one, in case they're all null sets\n      const first = this.set[0]\n      this.set = this.set.filter(c => !isNullSet(c[0]))\n      if (this.set.length === 0)\n        this.set = [first]\n      else if (this.set.length > 1) {\n        // if we have any that are *, then the range is just *\n        for (const c of this.set) {\n          if (c.length === 1 && isAny(c[0])) {\n            this.set = [c]\n            break\n          }\n        }\n      }\n    }\n\n    this.format()\n  }\n\n  format () {\n    this.range = this.set\n      .map((comps) => {\n        return comps.join(' ').trim()\n      })\n      .join('||')\n      .trim()\n    return this.range\n  }\n\n  toString () {\n    return this.range\n  }\n\n  parseRange (range) {\n    range = range.trim()\n\n    // memoize range parsing for performance.\n    // this is a very hot path, and fully deterministic.\n    const memoOpts = Object.keys(this.options).join(',')\n    const memoKey = `parseRange:${memoOpts}:${range}`\n    const cached = cache.get(memoKey)\n    if (cached)\n      return cached\n\n    const loose = this.options.loose\n    // `1.2.3 - 1.2.4` => `>=1.2.3 <=1.2.4`\n    const hr = loose ? re[t.HYPHENRANGELOOSE] : re[t.HYPHENRANGE]\n    range = range.replace(hr, hyphenReplace(this.options.includePrerelease))\n    debug('hyphen replace', range)\n    // `> 1.2.3 < 1.2.5` => `>1.2.3 <1.2.5`\n    range = range.replace(re[t.COMPARATORTRIM], comparatorTrimReplace)\n    debug('comparator trim', range, re[t.COMPARATORTRIM])\n\n    // `~ 1.2.3` => `~1.2.3`\n    range = range.replace(re[t.TILDETRIM], tildeTrimReplace)\n\n    // `^ 1.2.3` => `^1.2.3`\n    range = range.replace(re[t.CARETTRIM], caretTrimReplace)\n\n    // normalize spaces\n    range = range.split(/\\s+/).join(' ')\n\n    // At this point, the range is completely trimmed and\n    // ready to be split into comparators.\n\n    const compRe = loose ? re[t.COMPARATORLOOSE] : re[t.COMPARATOR]\n    const rangeList = range\n      .split(' ')\n      .map(comp => parseComparator(comp, this.options))\n      .join(' ')\n      .split(/\\s+/)\n      // >=0.0.0 is equivalent to *\n      .map(comp => replaceGTE0(comp, this.options))\n      // in loose mode, throw out any that are not valid comparators\n      .filter(this.options.loose ? comp => !!comp.match(compRe) : () => true)\n      .map(comp => new Comparator(comp, this.options))\n\n    // if any comparators are the null set, then replace with JUST null set\n    // if more than one comparator, remove any * comparators\n    // also, don't include the same comparator more than once\n    const l = rangeList.length\n    const rangeMap = new Map()\n    for (const comp of rangeList) {\n      if (isNullSet(comp))\n        return [comp]\n      rangeMap.set(comp.value, comp)\n    }\n    if (rangeMap.size > 1 && rangeMap.has(''))\n      rangeMap.delete('')\n\n    const result = [...rangeMap.values()]\n    cache.set(memoKey, result)\n    return result\n  }\n\n  intersects (range, options) {\n    if (!(range instanceof Range)) {\n      throw new TypeError('a Range is required')\n    }\n\n    return this.set.some((thisComparators) => {\n      return (\n        isSatisfiable(thisComparators, options) &&\n        range.set.some((rangeComparators) => {\n          return (\n            isSatisfiable(rangeComparators, options) &&\n            thisComparators.every((thisComparator) => {\n              return rangeComparators.every((rangeComparator) => {\n                return thisComparator.intersects(rangeComparator, options)\n              })\n            })\n          )\n        })\n      )\n    })\n  }\n\n  // if ANY of the sets match ALL of its comparators, then pass\n  test (version) {\n    if (!version) {\n      return false\n    }\n\n    if (typeof version === 'string') {\n      try {\n        version = new SemVer(version, this.options)\n      } catch (er) {\n        return false\n      }\n    }\n\n    for (let i = 0; i < this.set.length; i++) {\n      if (testSet(this.set[i], version, this.options)) {\n        return true\n      }\n    }\n    return false\n  }\n}\nmodule.exports = Range\n\nconst LRU = require('lru-cache')\nconst cache = new LRU({ max: 1000 })\n\nconst parseOptions = require('../internal/parse-options')\nconst Comparator = require('./comparator')\nconst debug = require('../internal/debug')\nconst SemVer = require('./semver')\nconst {\n  re,\n  t,\n  comparatorTrimReplace,\n  tildeTrimReplace,\n  caretTrimReplace\n} = require('../internal/re')\n\nconst isNullSet = c => c.value === '<0.0.0-0'\nconst isAny = c => c.value === ''\n\n// take a set of comparators and determine whether there\n// exists a version which can satisfy it\nconst isSatisfiable = (comparators, options) => {\n  let result = true\n  const remainingComparators = comparators.slice()\n  let testComparator = remainingComparators.pop()\n\n  while (result && remainingComparators.length) {\n    result = remainingComparators.every((otherComparator) => {\n      return testComparator.intersects(otherComparator, options)\n    })\n\n    testComparator = remainingComparators.pop()\n  }\n\n  return result\n}\n\n// comprised of xranges, tildes, stars, and gtlt's at this point.\n// already replaced the hyphen ranges\n// turn into a set of JUST comparators.\nconst parseComparator = (comp, options) => {\n  debug('comp', comp, options)\n  comp = replaceCarets(comp, options)\n  debug('caret', comp)\n  comp = replaceTildes(comp, options)\n  debug('tildes', comp)\n  comp = replaceXRanges(comp, options)\n  debug('xrange', comp)\n  comp = replaceStars(comp, options)\n  debug('stars', comp)\n  return comp\n}\n\nconst isX = id => !id || id.toLowerCase() === 'x' || id === '*'\n\n// ~, ~> --> * (any, kinda silly)\n// ~2, ~2.x, ~2.x.x, ~>2, ~>2.x ~>2.x.x --> >=2.0.0 <3.0.0-0\n// ~2.0, ~2.0.x, ~>2.0, ~>2.0.x --> >=2.0.0 <2.1.0-0\n// ~1.2, ~1.2.x, ~>1.2, ~>1.2.x --> >=1.2.0 <1.3.0-0\n// ~1.2.3, ~>1.2.3 --> >=1.2.3 <1.3.0-0\n// ~1.2.0, ~>1.2.0 --> >=1.2.0 <1.3.0-0\nconst replaceTildes = (comp, options) =>\n  comp.trim().split(/\\s+/).map((comp) => {\n    return replaceTilde(comp, options)\n  }).join(' ')\n\nconst replaceTilde = (comp, options) => {\n  const r = options.loose ? re[t.TILDELOOSE] : re[t.TILDE]\n  return comp.replace(r, (_, M, m, p, pr) => {\n    debug('tilde', comp, _, M, m, p, pr)\n    let ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = `>=${M}.0.0 <${+M + 1}.0.0-0`\n    } else if (isX(p)) {\n      // ~1.2 == >=1.2.0 <1.3.0-0\n      ret = `>=${M}.${m}.0 <${M}.${+m + 1}.0-0`\n    } else if (pr) {\n      debug('replaceTilde pr', pr)\n      ret = `>=${M}.${m}.${p}-${pr\n      } <${M}.${+m + 1}.0-0`\n    } else {\n      // ~1.2.3 == >=1.2.3 <1.3.0-0\n      ret = `>=${M}.${m}.${p\n      } <${M}.${+m + 1}.0-0`\n    }\n\n    debug('tilde return', ret)\n    return ret\n  })\n}\n\n// ^ --> * (any, kinda silly)\n// ^2, ^2.x, ^2.x.x --> >=2.0.0 <3.0.0-0\n// ^2.0, ^2.0.x --> >=2.0.0 <3.0.0-0\n// ^1.2, ^1.2.x --> >=1.2.0 <2.0.0-0\n// ^1.2.3 --> >=1.2.3 <2.0.0-0\n// ^1.2.0 --> >=1.2.0 <2.0.0-0\nconst replaceCarets = (comp, options) =>\n  comp.trim().split(/\\s+/).map((comp) => {\n    return replaceCaret(comp, options)\n  }).join(' ')\n\nconst replaceCaret = (comp, options) => {\n  debug('caret', comp, options)\n  const r = options.loose ? re[t.CARETLOOSE] : re[t.CARET]\n  const z = options.includePrerelease ? '-0' : ''\n  return comp.replace(r, (_, M, m, p, pr) => {\n    debug('caret', comp, _, M, m, p, pr)\n    let ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = `>=${M}.0.0${z} <${+M + 1}.0.0-0`\n    } else if (isX(p)) {\n      if (M === '0') {\n        ret = `>=${M}.${m}.0${z} <${M}.${+m + 1}.0-0`\n      } else {\n        ret = `>=${M}.${m}.0${z} <${+M + 1}.0.0-0`\n      }\n    } else if (pr) {\n      debug('replaceCaret pr', pr)\n      if (M === '0') {\n        if (m === '0') {\n          ret = `>=${M}.${m}.${p}-${pr\n          } <${M}.${m}.${+p + 1}-0`\n        } else {\n          ret = `>=${M}.${m}.${p}-${pr\n          } <${M}.${+m + 1}.0-0`\n        }\n      } else {\n        ret = `>=${M}.${m}.${p}-${pr\n        } <${+M + 1}.0.0-0`\n      }\n    } else {\n      debug('no pr')\n      if (M === '0') {\n        if (m === '0') {\n          ret = `>=${M}.${m}.${p\n          }${z} <${M}.${m}.${+p + 1}-0`\n        } else {\n          ret = `>=${M}.${m}.${p\n          }${z} <${M}.${+m + 1}.0-0`\n        }\n      } else {\n        ret = `>=${M}.${m}.${p\n        } <${+M + 1}.0.0-0`\n      }\n    }\n\n    debug('caret return', ret)\n    return ret\n  })\n}\n\nconst replaceXRanges = (comp, options) => {\n  debug('replaceXRanges', comp, options)\n  return comp.split(/\\s+/).map((comp) => {\n    return replaceXRange(comp, options)\n  }).join(' ')\n}\n\nconst replaceXRange = (comp, options) => {\n  comp = comp.trim()\n  const r = options.loose ? re[t.XRANGELOOSE] : re[t.XRANGE]\n  return comp.replace(r, (ret, gtlt, M, m, p, pr) => {\n    debug('xRange', comp, ret, gtlt, M, m, p, pr)\n    const xM = isX(M)\n    const xm = xM || isX(m)\n    const xp = xm || isX(p)\n    const anyX = xp\n\n    if (gtlt === '=' && anyX) {\n      gtlt = ''\n    }\n\n    // if we're including prereleases in the match, then we need\n    // to fix this to -0, the lowest possible prerelease value\n    pr = options.includePrerelease ? '-0' : ''\n\n    if (xM) {\n      if (gtlt === '>' || gtlt === '<') {\n        // nothing is allowed\n        ret = '<0.0.0-0'\n      } else {\n        // nothing is forbidden\n        ret = '*'\n      }\n    } else if (gtlt && anyX) {\n      // we know patch is an x, because we have any x at all.\n      // replace X with 0\n      if (xm) {\n        m = 0\n      }\n      p = 0\n\n      if (gtlt === '>') {\n        // >1 => >=2.0.0\n        // >1.2 => >=1.3.0\n        gtlt = '>='\n        if (xm) {\n          M = +M + 1\n          m = 0\n          p = 0\n        } else {\n          m = +m + 1\n          p = 0\n        }\n      } else if (gtlt === '<=') {\n        // <=0.7.x is actually <0.8.0, since any 0.7.x should\n        // pass.  Similarly, <=7.x is actually <8.0.0, etc.\n        gtlt = '<'\n        if (xm) {\n          M = +M + 1\n        } else {\n          m = +m + 1\n        }\n      }\n\n      if (gtlt === '<')\n        pr = '-0'\n\n      ret = `${gtlt + M}.${m}.${p}${pr}`\n    } else if (xm) {\n      ret = `>=${M}.0.0${pr} <${+M + 1}.0.0-0`\n    } else if (xp) {\n      ret = `>=${M}.${m}.0${pr\n      } <${M}.${+m + 1}.0-0`\n    }\n\n    debug('xRange return', ret)\n\n    return ret\n  })\n}\n\n// Because * is AND-ed with everything else in the comparator,\n// and '' means \"any version\", just remove the *s entirely.\nconst replaceStars = (comp, options) => {\n  debug('replaceStars', comp, options)\n  // Looseness is ignored here.  star is always as loose as it gets!\n  return comp.trim().replace(re[t.STAR], '')\n}\n\nconst replaceGTE0 = (comp, options) => {\n  debug('replaceGTE0', comp, options)\n  return comp.trim()\n    .replace(re[options.includePrerelease ? t.GTE0PRE : t.GTE0], '')\n}\n\n// This function is passed to string.replace(re[t.HYPHENRANGE])\n// M, m, patch, prerelease, build\n// 1.2 - 3.4.5 => >=1.2.0 <=3.4.5\n// 1.2.3 - 3.4 => >=1.2.0 <3.5.0-0 Any 3.4.x will do\n// 1.2 - 3.4 => >=1.2.0 <3.5.0-0\nconst hyphenReplace = incPr => ($0,\n  from, fM, fm, fp, fpr, fb,\n  to, tM, tm, tp, tpr, tb) => {\n  if (isX(fM)) {\n    from = ''\n  } else if (isX(fm)) {\n    from = `>=${fM}.0.0${incPr ? '-0' : ''}`\n  } else if (isX(fp)) {\n    from = `>=${fM}.${fm}.0${incPr ? '-0' : ''}`\n  } else if (fpr) {\n    from = `>=${from}`\n  } else {\n    from = `>=${from}${incPr ? '-0' : ''}`\n  }\n\n  if (isX(tM)) {\n    to = ''\n  } else if (isX(tm)) {\n    to = `<${+tM + 1}.0.0-0`\n  } else if (isX(tp)) {\n    to = `<${tM}.${+tm + 1}.0-0`\n  } else if (tpr) {\n    to = `<=${tM}.${tm}.${tp}-${tpr}`\n  } else if (incPr) {\n    to = `<${tM}.${tm}.${+tp + 1}-0`\n  } else {\n    to = `<=${to}`\n  }\n\n  return (`${from} ${to}`).trim()\n}\n\nconst testSet = (set, version, options) => {\n  for (let i = 0; i < set.length; i++) {\n    if (!set[i].test(version)) {\n      return false\n    }\n  }\n\n  if (version.prerelease.length && !options.includePrerelease) {\n    // Find the set of versions that are allowed to have prereleases\n    // For example, ^1.2.3-pr.1 desugars to >=1.2.3-pr.1 <2.0.0\n    // That should allow `1.2.3-pr.2` to pass.\n    // However, `1.2.4-alpha.notready` should NOT be allowed,\n    // even though it's within the range set by the comparators.\n    for (let i = 0; i < set.length; i++) {\n      debug(set[i].semver)\n      if (set[i].semver === Comparator.ANY) {\n        continue\n      }\n\n      if (set[i].semver.prerelease.length > 0) {\n        const allowed = set[i].semver\n        if (allowed.major === version.major &&\n            allowed.minor === version.minor &&\n            allowed.patch === version.patch) {\n          return true\n        }\n      }\n    }\n\n    // Version has a -pre, but it's not one of the ones we like.\n    return false\n  }\n\n  return true\n}\n","const compare = require('./compare')\nconst lte = (a, b, loose) => compare(a, b, loose) <= 0\nmodule.exports = lte\n","const SemVer = require('../classes/semver')\nconst compareBuild = (a, b, loose) => {\n  const versionA = new SemVer(a, loose)\n  const versionB = new SemVer(b, loose)\n  return versionA.compare(versionB) || versionA.compareBuild(versionB)\n}\nmodule.exports = compareBuild\n","const { MAX_SAFE_COMPONENT_LENGTH } = require('./constants')\nconst debug = require('./debug')\nexports = module.exports = {}\n\n// The actual regexps go on exports.re\nconst re = exports.re = []\nconst src = exports.src = []\nconst t = exports.t = {}\nlet R = 0\n\nconst createToken = (name, value, isGlobal) => {\n  const index = R++\n  debug(index, value)\n  t[name] = index\n  src[index] = value\n  re[index] = new RegExp(value, isGlobal ? 'g' : undefined)\n}\n\n// The following Regular Expressions can be used for tokenizing,\n// validating, and parsing SemVer version strings.\n\n// ## Numeric Identifier\n// A single `0`, or a non-zero digit followed by zero or more digits.\n\ncreateToken('NUMERICIDENTIFIER', '0|[1-9]\\\\d*')\ncreateToken('NUMERICIDENTIFIERLOOSE', '[0-9]+')\n\n// ## Non-numeric Identifier\n// Zero or more digits, followed by a letter or hyphen, and then zero or\n// more letters, digits, or hyphens.\n\ncreateToken('NONNUMERICIDENTIFIER', '\\\\d*[a-zA-Z-][a-zA-Z0-9-]*')\n\n// ## Main Version\n// Three dot-separated numeric identifiers.\n\ncreateToken('MAINVERSION', `(${src[t.NUMERICIDENTIFIER]})\\\\.` +\n                   `(${src[t.NUMERICIDENTIFIER]})\\\\.` +\n                   `(${src[t.NUMERICIDENTIFIER]})`)\n\ncreateToken('MAINVERSIONLOOSE', `(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.` +\n                        `(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.` +\n                        `(${src[t.NUMERICIDENTIFIERLOOSE]})`)\n\n// ## Pre-release Version Identifier\n// A numeric identifier, or a non-numeric identifier.\n\ncreateToken('PRERELEASEIDENTIFIER', `(?:${src[t.NUMERICIDENTIFIER]\n}|${src[t.NONNUMERICIDENTIFIER]})`)\n\ncreateToken('PRERELEASEIDENTIFIERLOOSE', `(?:${src[t.NUMERICIDENTIFIERLOOSE]\n}|${src[t.NONNUMERICIDENTIFIER]})`)\n\n// ## Pre-release Version\n// Hyphen, followed by one or more dot-separated pre-release version\n// identifiers.\n\ncreateToken('PRERELEASE', `(?:-(${src[t.PRERELEASEIDENTIFIER]\n}(?:\\\\.${src[t.PRERELEASEIDENTIFIER]})*))`)\n\ncreateToken('PRERELEASELOOSE', `(?:-?(${src[t.PRERELEASEIDENTIFIERLOOSE]\n}(?:\\\\.${src[t.PRERELEASEIDENTIFIERLOOSE]})*))`)\n\n// ## Build Metadata Identifier\n// Any combination of digits, letters, or hyphens.\n\ncreateToken('BUILDIDENTIFIER', '[0-9A-Za-z-]+')\n\n// ## Build Metadata\n// Plus sign, followed by one or more period-separated build metadata\n// identifiers.\n\ncreateToken('BUILD', `(?:\\\\+(${src[t.BUILDIDENTIFIER]\n}(?:\\\\.${src[t.BUILDIDENTIFIER]})*))`)\n\n// ## Full Version String\n// A main version, followed optionally by a pre-release version and\n// build metadata.\n\n// Note that the only major, minor, patch, and pre-release sections of\n// the version string are capturing groups.  The build metadata is not a\n// capturing group, because it should not ever be used in version\n// comparison.\n\ncreateToken('FULLPLAIN', `v?${src[t.MAINVERSION]\n}${src[t.PRERELEASE]}?${\n  src[t.BUILD]}?`)\n\ncreateToken('FULL', `^${src[t.FULLPLAIN]}$`)\n\n// like full, but allows v1.2.3 and =1.2.3, which people do sometimes.\n// also, 1.0.0alpha1 (prerelease without the hyphen) which is pretty\n// common in the npm registry.\ncreateToken('LOOSEPLAIN', `[v=\\\\s]*${src[t.MAINVERSIONLOOSE]\n}${src[t.PRERELEASELOOSE]}?${\n  src[t.BUILD]}?`)\n\ncreateToken('LOOSE', `^${src[t.LOOSEPLAIN]}$`)\n\ncreateToken('GTLT', '((?:<|>)?=?)')\n\n// Something like \"2.*\" or \"1.2.x\".\n// Note that \"x.x\" is a valid xRange identifer, meaning \"any version\"\n// Only the first item is strictly required.\ncreateToken('XRANGEIDENTIFIERLOOSE', `${src[t.NUMERICIDENTIFIERLOOSE]}|x|X|\\\\*`)\ncreateToken('XRANGEIDENTIFIER', `${src[t.NUMERICIDENTIFIER]}|x|X|\\\\*`)\n\ncreateToken('XRANGEPLAIN', `[v=\\\\s]*(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:\\\\.(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:\\\\.(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:${src[t.PRERELEASE]})?${\n                     src[t.BUILD]}?` +\n                   `)?)?`)\n\ncreateToken('XRANGEPLAINLOOSE', `[v=\\\\s]*(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:${src[t.PRERELEASELOOSE]})?${\n                          src[t.BUILD]}?` +\n                        `)?)?`)\n\ncreateToken('XRANGE', `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAIN]}$`)\ncreateToken('XRANGELOOSE', `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAINLOOSE]}$`)\n\n// Coercion.\n// Extract anything that could conceivably be a part of a valid semver\ncreateToken('COERCE', `${'(^|[^\\\\d])' +\n              '(\\\\d{1,'}${MAX_SAFE_COMPONENT_LENGTH}})` +\n              `(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?` +\n              `(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?` +\n              `(?:$|[^\\\\d])`)\ncreateToken('COERCERTL', src[t.COERCE], true)\n\n// Tilde ranges.\n// Meaning is \"reasonably at or greater than\"\ncreateToken('LONETILDE', '(?:~>?)')\n\ncreateToken('TILDETRIM', `(\\\\s*)${src[t.LONETILDE]}\\\\s+`, true)\nexports.tildeTrimReplace = '$1~'\n\ncreateToken('TILDE', `^${src[t.LONETILDE]}${src[t.XRANGEPLAIN]}$`)\ncreateToken('TILDELOOSE', `^${src[t.LONETILDE]}${src[t.XRANGEPLAINLOOSE]}$`)\n\n// Caret ranges.\n// Meaning is \"at least and backwards compatible with\"\ncreateToken('LONECARET', '(?:\\\\^)')\n\ncreateToken('CARETTRIM', `(\\\\s*)${src[t.LONECARET]}\\\\s+`, true)\nexports.caretTrimReplace = '$1^'\n\ncreateToken('CARET', `^${src[t.LONECARET]}${src[t.XRANGEPLAIN]}$`)\ncreateToken('CARETLOOSE', `^${src[t.LONECARET]}${src[t.XRANGEPLAINLOOSE]}$`)\n\n// A simple gt/lt/eq thing, or just \"\" to indicate \"any version\"\ncreateToken('COMPARATORLOOSE', `^${src[t.GTLT]}\\\\s*(${src[t.LOOSEPLAIN]})$|^$`)\ncreateToken('COMPARATOR', `^${src[t.GTLT]}\\\\s*(${src[t.FULLPLAIN]})$|^$`)\n\n// An expression to strip any whitespace between the gtlt and the thing\n// it modifies, so that `> 1.2.3` ==> `>1.2.3`\ncreateToken('COMPARATORTRIM', `(\\\\s*)${src[t.GTLT]\n}\\\\s*(${src[t.LOOSEPLAIN]}|${src[t.XRANGEPLAIN]})`, true)\nexports.comparatorTrimReplace = '$1$2$3'\n\n// Something like `1.2.3 - 1.2.4`\n// Note that these all use the loose form, because they'll be\n// checked against either the strict or loose comparator form\n// later.\ncreateToken('HYPHENRANGE', `^\\\\s*(${src[t.XRANGEPLAIN]})` +\n                   `\\\\s+-\\\\s+` +\n                   `(${src[t.XRANGEPLAIN]})` +\n                   `\\\\s*$`)\n\ncreateToken('HYPHENRANGELOOSE', `^\\\\s*(${src[t.XRANGEPLAINLOOSE]})` +\n                        `\\\\s+-\\\\s+` +\n                        `(${src[t.XRANGEPLAINLOOSE]})` +\n                        `\\\\s*$`)\n\n// Star ranges basically just allow anything at all.\ncreateToken('STAR', '(<|>)?=?\\\\s*\\\\*')\n// >=0.0.0 is like a star\ncreateToken('GTE0', '^\\\\s*>=\\\\s*0\\.0\\.0\\\\s*$')\ncreateToken('GTE0PRE', '^\\\\s*>=\\\\s*0\\.0\\.0-0\\\\s*$')\n","const debug = (\n  typeof process === 'object' &&\n  process.env &&\n  process.env.NODE_DEBUG &&\n  /\\bsemver\\b/i.test(process.env.NODE_DEBUG)\n) ? (...args) => console.error('SEMVER', ...args)\n  : () => {}\n\nmodule.exports = debug\n","// Note: this is the semver.org version of the spec that it implements\n// Not necessarily the package version of this code.\nconst SEMVER_SPEC_VERSION = '2.0.0'\n\nconst MAX_LENGTH = 256\nconst MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER ||\n  /* istanbul ignore next */ 9007199254740991\n\n// Max safe segment length for coercion.\nconst MAX_SAFE_COMPONENT_LENGTH = 16\n\nmodule.exports = {\n  SEMVER_SPEC_VERSION,\n  MAX_LENGTH,\n  MAX_SAFE_INTEGER,\n  MAX_SAFE_COMPONENT_LENGTH\n}\n","const compare = require('./compare')\nconst lt = (a, b, loose) => compare(a, b, loose) < 0\nmodule.exports = lt\n","'use strict'\nmodule.exports = function (Yallist) {\n  Yallist.prototype[Symbol.iterator] = function* () {\n    for (let walker = this.head; walker; walker = walker.next) {\n      yield walker.value\n    }\n  }\n}\n","const parse = require('./parse')\nconst prerelease = (version, options) => {\n  const parsed = parse(version, options)\n  return (parsed && parsed.prerelease.length) ? parsed.prerelease : null\n}\nmodule.exports = prerelease\n","'use strict'\n\n// A linked list to keep track of recently-used-ness\nconst Yallist = require('yallist')\n\nconst MAX = Symbol('max')\nconst LENGTH = Symbol('length')\nconst LENGTH_CALCULATOR = Symbol('lengthCalculator')\nconst ALLOW_STALE = Symbol('allowStale')\nconst MAX_AGE = Symbol('maxAge')\nconst DISPOSE = Symbol('dispose')\nconst NO_DISPOSE_ON_SET = Symbol('noDisposeOnSet')\nconst LRU_LIST = Symbol('lruList')\nconst CACHE = Symbol('cache')\nconst UPDATE_AGE_ON_GET = Symbol('updateAgeOnGet')\n\nconst naiveLength = () => 1\n\n// lruList is a yallist where the head is the youngest\n// item, and the tail is the oldest.  the list contains the Hit\n// objects as the entries.\n// Each Hit object has a reference to its Yallist.Node.  This\n// never changes.\n//\n// cache is a Map (or PseudoMap) that matches the keys to\n// the Yallist.Node object.\nclass LRUCache {\n  constructor (options) {\n    if (typeof options === 'number')\n      options = { max: options }\n\n    if (!options)\n      options = {}\n\n    if (options.max && (typeof options.max !== 'number' || options.max < 0))\n      throw new TypeError('max must be a non-negative number')\n    // Kind of weird to have a default max of Infinity, but oh well.\n    const max = this[MAX] = options.max || Infinity\n\n    const lc = options.length || naiveLength\n    this[LENGTH_CALCULATOR] = (typeof lc !== 'function') ? naiveLength : lc\n    this[ALLOW_STALE] = options.stale || false\n    if (options.maxAge && typeof options.maxAge !== 'number')\n      throw new TypeError('maxAge must be a number')\n    this[MAX_AGE] = options.maxAge || 0\n    this[DISPOSE] = options.dispose\n    this[NO_DISPOSE_ON_SET] = options.noDisposeOnSet || false\n    this[UPDATE_AGE_ON_GET] = options.updateAgeOnGet || false\n    this.reset()\n  }\n\n  // resize the cache when the max changes.\n  set max (mL) {\n    if (typeof mL !== 'number' || mL < 0)\n      throw new TypeError('max must be a non-negative number')\n\n    this[MAX] = mL || Infinity\n    trim(this)\n  }\n  get max () {\n    return this[MAX]\n  }\n\n  set allowStale (allowStale) {\n    this[ALLOW_STALE] = !!allowStale\n  }\n  get allowStale () {\n    return this[ALLOW_STALE]\n  }\n\n  set maxAge (mA) {\n    if (typeof mA !== 'number')\n      throw new TypeError('maxAge must be a non-negative number')\n\n    this[MAX_AGE] = mA\n    trim(this)\n  }\n  get maxAge () {\n    return this[MAX_AGE]\n  }\n\n  // resize the cache when the lengthCalculator changes.\n  set lengthCalculator (lC) {\n    if (typeof lC !== 'function')\n      lC = naiveLength\n\n    if (lC !== this[LENGTH_CALCULATOR]) {\n      this[LENGTH_CALCULATOR] = lC\n      this[LENGTH] = 0\n      this[LRU_LIST].forEach(hit => {\n        hit.length = this[LENGTH_CALCULATOR](hit.value, hit.key)\n        this[LENGTH] += hit.length\n      })\n    }\n    trim(this)\n  }\n  get lengthCalculator () { return this[LENGTH_CALCULATOR] }\n\n  get length () { return this[LENGTH] }\n  get itemCount () { return this[LRU_LIST].length }\n\n  rforEach (fn, thisp) {\n    thisp = thisp || this\n    for (let walker = this[LRU_LIST].tail; walker !== null;) {\n      const prev = walker.prev\n      forEachStep(this, fn, walker, thisp)\n      walker = prev\n    }\n  }\n\n  forEach (fn, thisp) {\n    thisp = thisp || this\n    for (let walker = this[LRU_LIST].head; walker !== null;) {\n      const next = walker.next\n      forEachStep(this, fn, walker, thisp)\n      walker = next\n    }\n  }\n\n  keys () {\n    return this[LRU_LIST].toArray().map(k => k.key)\n  }\n\n  values () {\n    return this[LRU_LIST].toArray().map(k => k.value)\n  }\n\n  reset () {\n    if (this[DISPOSE] &&\n        this[LRU_LIST] &&\n        this[LRU_LIST].length) {\n      this[LRU_LIST].forEach(hit => this[DISPOSE](hit.key, hit.value))\n    }\n\n    this[CACHE] = new Map() // hash of items by key\n    this[LRU_LIST] = new Yallist() // list of items in order of use recency\n    this[LENGTH] = 0 // length of items in the list\n  }\n\n  dump () {\n    return this[LRU_LIST].map(hit =>\n      isStale(this, hit) ? false : {\n        k: hit.key,\n        v: hit.value,\n        e: hit.now + (hit.maxAge || 0)\n      }).toArray().filter(h => h)\n  }\n\n  dumpLru () {\n    return this[LRU_LIST]\n  }\n\n  set (key, value, maxAge) {\n    maxAge = maxAge || this[MAX_AGE]\n\n    if (maxAge && typeof maxAge !== 'number')\n      throw new TypeError('maxAge must be a number')\n\n    const now = maxAge ? Date.now() : 0\n    const len = this[LENGTH_CALCULATOR](value, key)\n\n    if (this[CACHE].has(key)) {\n      if (len > this[MAX]) {\n        del(this, this[CACHE].get(key))\n        return false\n      }\n\n      const node = this[CACHE].get(key)\n      const item = node.value\n\n      // dispose of the old one before overwriting\n      // split out into 2 ifs for better coverage tracking\n      if (this[DISPOSE]) {\n        if (!this[NO_DISPOSE_ON_SET])\n          this[DISPOSE](key, item.value)\n      }\n\n      item.now = now\n      item.maxAge = maxAge\n      item.value = value\n      this[LENGTH] += len - item.length\n      item.length = len\n      this.get(key)\n      trim(this)\n      return true\n    }\n\n    const hit = new Entry(key, value, len, now, maxAge)\n\n    // oversized objects fall out of cache automatically.\n    if (hit.length > this[MAX]) {\n      if (this[DISPOSE])\n        this[DISPOSE](key, value)\n\n      return false\n    }\n\n    this[LENGTH] += hit.length\n    this[LRU_LIST].unshift(hit)\n    this[CACHE].set(key, this[LRU_LIST].head)\n    trim(this)\n    return true\n  }\n\n  has (key) {\n    if (!this[CACHE].has(key)) return false\n    const hit = this[CACHE].get(key).value\n    return !isStale(this, hit)\n  }\n\n  get (key) {\n    return get(this, key, true)\n  }\n\n  peek (key) {\n    return get(this, key, false)\n  }\n\n  pop () {\n    const node = this[LRU_LIST].tail\n    if (!node)\n      return null\n\n    del(this, node)\n    return node.value\n  }\n\n  del (key) {\n    del(this, this[CACHE].get(key))\n  }\n\n  load (arr) {\n    // reset the cache\n    this.reset()\n\n    const now = Date.now()\n    // A previous serialized cache has the most recent items first\n    for (let l = arr.length - 1; l >= 0; l--) {\n      const hit = arr[l]\n      const expiresAt = hit.e || 0\n      if (expiresAt === 0)\n        // the item was created without expiration in a non aged cache\n        this.set(hit.k, hit.v)\n      else {\n        const maxAge = expiresAt - now\n        // dont add already expired items\n        if (maxAge > 0) {\n          this.set(hit.k, hit.v, maxAge)\n        }\n      }\n    }\n  }\n\n  prune () {\n    this[CACHE].forEach((value, key) => get(this, key, false))\n  }\n}\n\nconst get = (self, key, doUse) => {\n  const node = self[CACHE].get(key)\n  if (node) {\n    const hit = node.value\n    if (isStale(self, hit)) {\n      del(self, node)\n      if (!self[ALLOW_STALE])\n        return undefined\n    } else {\n      if (doUse) {\n        if (self[UPDATE_AGE_ON_GET])\n          node.value.now = Date.now()\n        self[LRU_LIST].unshiftNode(node)\n      }\n    }\n    return hit.value\n  }\n}\n\nconst isStale = (self, hit) => {\n  if (!hit || (!hit.maxAge && !self[MAX_AGE]))\n    return false\n\n  const diff = Date.now() - hit.now\n  return hit.maxAge ? diff > hit.maxAge\n    : self[MAX_AGE] && (diff > self[MAX_AGE])\n}\n\nconst trim = self => {\n  if (self[LENGTH] > self[MAX]) {\n    for (let walker = self[LRU_LIST].tail;\n      self[LENGTH] > self[MAX] && walker !== null;) {\n      // We know that we're about to delete this one, and also\n      // what the next least recently used key will be, so just\n      // go ahead and set it now.\n      const prev = walker.prev\n      del(self, walker)\n      walker = prev\n    }\n  }\n}\n\nconst del = (self, node) => {\n  if (node) {\n    const hit = node.value\n    if (self[DISPOSE])\n      self[DISPOSE](hit.key, hit.value)\n\n    self[LENGTH] -= hit.length\n    self[CACHE].delete(hit.key)\n    self[LRU_LIST].removeNode(node)\n  }\n}\n\nclass Entry {\n  constructor (key, value, length, now, maxAge) {\n    this.key = key\n    this.value = value\n    this.length = length\n    this.now = now\n    this.maxAge = maxAge || 0\n  }\n}\n\nconst forEachStep = (self, fn, node, thisp) => {\n  let hit = node.value\n  if (isStale(self, hit)) {\n    del(self, node)\n    if (!self[ALLOW_STALE])\n      hit = undefined\n  }\n  if (hit)\n    fn.call(thisp, hit.value, hit.key, self)\n}\n\nmodule.exports = LRUCache\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.errorCodeToString = errorCodeToString;\nexports.printBIP44Path = printBIP44Path;\nexports.processErrorResponse = processErrorResponse;\nexports.getVersion = getVersion;\nexports.serializePathv1 = serializePathv1;\nexports.signSendChunkv1 = signSendChunkv1;\nexports.PKLEN = exports.ERROR_CODE = exports.P1_VALUES = exports.PAYLOAD_TYPE = exports.INS = exports.CHUNK_SIZE = exports.CLA = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\n\nvar CLA = 0x44;\nexports.CLA = CLA;\nvar CHUNK_SIZE = 250;\nexports.CHUNK_SIZE = CHUNK_SIZE;\nvar INS = {\n  GET_VERSION: 0x00,\n  GET_ADDRESS: 0x01,\n  SIGN: 0x02,\n  GET_SIG: 0x10,\n  GET_PK: 0x20\n};\nexports.INS = INS;\nvar PAYLOAD_TYPE = {\n  INIT: 0x00,\n  ADD: 0x01,\n  LAST: 0x02\n};\nexports.PAYLOAD_TYPE = PAYLOAD_TYPE;\nvar P1_VALUES = {\n  ONLY_RETRIEVE: 0x00,\n  SHOW_ADDRESS_IN_DEVICE: 0x01\n};\nexports.P1_VALUES = P1_VALUES;\nvar ERROR_CODE = {\n  NoError: 0x9000\n};\nexports.ERROR_CODE = ERROR_CODE;\nvar PKLEN = 65;\nexports.PKLEN = PKLEN;\nvar ERROR_DESCRIPTION = {\n  1: \"U2F: Unknown\",\n  2: \"U2F: Bad request\",\n  3: \"U2F: Configuration unsupported\",\n  4: \"U2F: Device Ineligible\",\n  5: \"U2F: Timeout\",\n  14: \"Timeout\",\n  0x9000: \"No errors\",\n  0x9001: \"Device is busy\",\n  0x6802: \"Error deriving keys\",\n  0x6400: \"Execution Error\",\n  0x6700: \"Wrong Length\",\n  0x6982: \"Empty Buffer\",\n  0x6983: \"Output buffer too small\",\n  0x6984: \"Data is invalid\",\n  0x6985: \"Conditions not satisfied\",\n  0x6986: \"Transaction rejected\",\n  0x6a80: \"Bad key handle\",\n  0x6b00: \"Invalid P1/P2\",\n  0x6d00: \"Instruction not supported\",\n  0x6e00: \"App does not seem to be open\",\n  0x6f00: \"Unknown error\",\n  0x6f01: \"Sign/verify error\"\n};\n\nfunction errorCodeToString(statusCode) {\n  if (statusCode in ERROR_DESCRIPTION) return ERROR_DESCRIPTION[statusCode];\n  return \"Unknown Status Code: \".concat(statusCode);\n}\n\nfunction isDict(v) {\n  return (0, _typeof2.default)(v) === \"object\" && v !== null && !(v instanceof Array) && !(v instanceof Date);\n}\n\nfunction printBIP44Item(v) {\n  var hardened = v >= 0x8000000;\n  return \"\".concat(v & 0x7FFFFFFF).concat(hardened ? \"'\" : \"\");\n}\n\nfunction printBIP44Path(pathBytes) {\n  if (pathBytes.length !== 20) {\n    throw new Error(\"Invalid bip44 path\");\n  }\n\n  var pathValues = [0, 0, 0, 0, 0];\n\n  for (var i = 0; i < 5; i += 1) {\n    pathValues[i] = pathBytes.readUInt32LE(4 * i);\n    console.log(pathValues[i]);\n  }\n\n  return \"m/\".concat(printBIP44Item(pathValues[0]), \"/\").concat(printBIP44Item(pathValues[1]), \"/\").concat(printBIP44Item(pathValues[2]), \"/\").concat(printBIP44Item(pathValues[3]), \"/\").concat(printBIP44Item(pathValues[4]));\n}\n\nfunction processErrorResponse(response) {\n  if (response) {\n    if (isDict(response)) {\n      if (Object.prototype.hasOwnProperty.call(response, \"statusCode\")) {\n        return {\n          returnCode: response.statusCode,\n          errorMessage: errorCodeToString(response.statusCode)\n        };\n      }\n\n      if (Object.prototype.hasOwnProperty.call(response, \"returnCode\") && Object.prototype.hasOwnProperty.call(response, \"errorMessage\")) {\n        return response;\n      }\n    }\n\n    return {\n      returnCode: 0xffff,\n      errorMessage: response.toString()\n    };\n  }\n\n  return {\n    returnCode: 0xffff,\n    errorMessage: response.toString()\n  };\n}\n\nfunction getVersion(_x) {\n  return _getVersion.apply(this, arguments);\n}\n\nfunction _getVersion() {\n  _getVersion = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee(transport) {\n    return _regenerator.default.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            return _context.abrupt(\"return\", transport.send(CLA, INS.GET_VERSION, 0, 0).then(function (response) {\n              var errorCodeData = response.slice(-2);\n              var returnCode = errorCodeData[0] * 256 + errorCodeData[1];\n              var targetId = 0;\n\n              if (response.length >= 9) {\n                /* eslint-disable no-bitwise */\n                targetId = (response[5] << 24) + (response[6] << 16) + (response[7] << 8) + (response[8] << 0);\n                /* eslint-enable no-bitwise */\n              }\n\n              return {\n                returnCode: returnCode,\n                errorMessage: errorCodeToString(returnCode),\n                // ///\n                testMode: response[0] !== 0,\n                major: response[1],\n                minor: response[2],\n                patch: response[3],\n                deviceLocked: response[4] === 1,\n                targetId: targetId.toString(16)\n              };\n            }, processErrorResponse));\n\n          case 1:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _getVersion.apply(this, arguments);\n}\n\nvar HARDENED = 0x80000000;\n\nfunction serializePathv1(path) {\n  if (typeof path !== \"string\") {\n    throw new Error(\"Path should be a string (e.g \\\"m/44'/1'/5'/0/3\\\")\");\n  }\n\n  if (!path.startsWith(\"m\")) {\n    throw new Error('Path should start with \"m\" (e.g \"m/44\\'/472\\'/5\\'/0/3\")');\n  }\n\n  var pathArray = path.split(\"/\");\n\n  if (pathArray.length !== 6) {\n    throw new Error(\"Invalid path. (e.g \\\"m/44'/1'/5'/0/3\\\")\");\n  }\n\n  var buf = Buffer.alloc(20);\n\n  for (var i = 1; i < pathArray.length; i += 1) {\n    var value = 0;\n    var child = pathArray[i];\n\n    if (child.endsWith(\"'\")) {\n      value += HARDENED;\n      child = child.slice(0, -1);\n    }\n\n    var childNumber = Number(child);\n\n    if (Number.isNaN(childNumber)) {\n      throw new Error(\"Invalid path : \".concat(child, \" is not a number. (e.g \\\"m/44'/1'/5'/0/3\\\")\"));\n    }\n\n    if (childNumber >= HARDENED) {\n      throw new Error(\"Incorrect child value (bigger or equal to 0x80000000)\");\n    }\n\n    value += childNumber;\n    buf.writeUInt32LE(value, 4 * (i - 1));\n  }\n\n  return buf;\n}\n\nfunction signSendChunkv1(_x2, _x3, _x4, _x5) {\n  return _signSendChunkv.apply(this, arguments);\n}\n\nfunction _signSendChunkv() {\n  _signSendChunkv = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee2(app, chunkIdx, chunkNum, chunk) {\n    var payloadType;\n    return _regenerator.default.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            payloadType = PAYLOAD_TYPE.ADD;\n\n            if (chunkIdx === 1) {\n              payloadType = PAYLOAD_TYPE.INIT;\n            }\n\n            if (chunkIdx === chunkNum) {\n              payloadType = PAYLOAD_TYPE.LAST;\n            }\n\n            return _context2.abrupt(\"return\", app.transport.send(CLA, INS.SIGN, payloadType, 0, chunk, [0x9000, 0x6984, 0x6a80]).then(function (response) {\n              var errorCodeData = response.slice(-2);\n              var returnCode = errorCodeData[0] * 256 + errorCodeData[1];\n              var errorMessage = errorCodeToString(returnCode);\n\n              if (returnCode === 0x6a80 || returnCode === 0x6984) {\n                errorMessage = \"\".concat(errorMessage, \" : \").concat(response.slice(0, response.length - 2).toString(\"ascii\"));\n              }\n\n              var signature = null;\n\n              if (response.length > 2) {\n                signature = response.slice(0, response.length - 2);\n              }\n\n              return {\n                signature: signature,\n                returnCode: returnCode,\n                errorMessage: errorMessage\n              };\n            }, processErrorResponse));\n\n          case 4:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _signSendChunkv.apply(this, arguments);\n}","const {MAX_LENGTH} = require('../internal/constants')\nconst { re, t } = require('../internal/re')\nconst SemVer = require('../classes/semver')\n\nconst parseOptions = require('../internal/parse-options')\nconst parse = (version, options) => {\n  options = parseOptions(options)\n\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  if (version.length > MAX_LENGTH) {\n    return null\n  }\n\n  const r = options.loose ? re[t.LOOSE] : re[t.FULL]\n  if (!r.test(version)) {\n    return null\n  }\n\n  try {\n    return new SemVer(version, options)\n  } catch (er) {\n    return null\n  }\n}\n\nmodule.exports = parse\n","// just pre-load all the stuff that index.js lazily exports\nconst internalRe = require('./internal/re')\nmodule.exports = {\n  re: internalRe.re,\n  src: internalRe.src,\n  tokens: internalRe.t,\n  SEMVER_SPEC_VERSION: require('./internal/constants').SEMVER_SPEC_VERSION,\n  SemVer: require('./classes/semver'),\n  compareIdentifiers: require('./internal/identifiers').compareIdentifiers,\n  rcompareIdentifiers: require('./internal/identifiers').rcompareIdentifiers,\n  parse: require('./functions/parse'),\n  valid: require('./functions/valid'),\n  clean: require('./functions/clean'),\n  inc: require('./functions/inc'),\n  diff: require('./functions/diff'),\n  major: require('./functions/major'),\n  minor: require('./functions/minor'),\n  patch: require('./functions/patch'),\n  prerelease: require('./functions/prerelease'),\n  compare: require('./functions/compare'),\n  rcompare: require('./functions/rcompare'),\n  compareLoose: require('./functions/compare-loose'),\n  compareBuild: require('./functions/compare-build'),\n  sort: require('./functions/sort'),\n  rsort: require('./functions/rsort'),\n  gt: require('./functions/gt'),\n  lt: require('./functions/lt'),\n  eq: require('./functions/eq'),\n  neq: require('./functions/neq'),\n  gte: require('./functions/gte'),\n  lte: require('./functions/lte'),\n  cmp: require('./functions/cmp'),\n  coerce: require('./functions/coerce'),\n  Comparator: require('./classes/comparator'),\n  Range: require('./classes/range'),\n  satisfies: require('./functions/satisfies'),\n  toComparators: require('./ranges/to-comparators'),\n  maxSatisfying: require('./ranges/max-satisfying'),\n  minSatisfying: require('./ranges/min-satisfying'),\n  minVersion: require('./ranges/min-version'),\n  validRange: require('./ranges/valid'),\n  outside: require('./ranges/outside'),\n  gtr: require('./ranges/gtr'),\n  ltr: require('./ranges/ltr'),\n  intersects: require('./ranges/intersects'),\n  simplifyRange: require('./ranges/simplify'),\n  subset: require('./ranges/subset'),\n}\n","const parse = require('./parse')\nconst valid = (version, options) => {\n  const v = parse(version, options)\n  return v ? v.version : null\n}\nmodule.exports = valid\n","const SemVer = require('../classes/semver')\n\nconst inc = (version, release, options, identifier) => {\n  if (typeof (options) === 'string') {\n    identifier = options\n    options = undefined\n  }\n\n  try {\n    return new SemVer(version, options).inc(release, identifier).version\n  } catch (er) {\n    return null\n  }\n}\nmodule.exports = inc\n","const SemVer = require('../classes/semver')\nconst Comparator = require('../classes/comparator')\nconst {ANY} = Comparator\nconst Range = require('../classes/range')\nconst satisfies = require('../functions/satisfies')\nconst gt = require('../functions/gt')\nconst lt = require('../functions/lt')\nconst lte = require('../functions/lte')\nconst gte = require('../functions/gte')\n\nconst outside = (version, range, hilo, options) => {\n  version = new SemVer(version, options)\n  range = new Range(range, options)\n\n  let gtfn, ltefn, ltfn, comp, ecomp\n  switch (hilo) {\n    case '>':\n      gtfn = gt\n      ltefn = lte\n      ltfn = lt\n      comp = '>'\n      ecomp = '>='\n      break\n    case '<':\n      gtfn = lt\n      ltefn = gte\n      ltfn = gt\n      comp = '<'\n      ecomp = '<='\n      break\n    default:\n      throw new TypeError('Must provide a hilo val of \"<\" or \">\"')\n  }\n\n  // If it satisfies the range it is not outside\n  if (satisfies(version, range, options)) {\n    return false\n  }\n\n  // From now on, variable terms are as if we're in \"gtr\" mode.\n  // but note that everything is flipped for the \"ltr\" function.\n\n  for (let i = 0; i < range.set.length; ++i) {\n    const comparators = range.set[i]\n\n    let high = null\n    let low = null\n\n    comparators.forEach((comparator) => {\n      if (comparator.semver === ANY) {\n        comparator = new Comparator('>=0.0.0')\n      }\n      high = high || comparator\n      low = low || comparator\n      if (gtfn(comparator.semver, high.semver, options)) {\n        high = comparator\n      } else if (ltfn(comparator.semver, low.semver, options)) {\n        low = comparator\n      }\n    })\n\n    // If the edge version comparator has a operator then our version\n    // isn't outside it\n    if (high.operator === comp || high.operator === ecomp) {\n      return false\n    }\n\n    // If the lowest version comparator has an operator and our version\n    // is less than it then it isn't higher than the range\n    if ((!low.operator || low.operator === comp) &&\n        ltefn(version, low.semver)) {\n      return false\n    } else if (low.operator === ecomp && ltfn(version, low.semver)) {\n      return false\n    }\n  }\n  return true\n}\n\nmodule.exports = outside\n","const compareBuild = require('./compare-build')\nconst sort = (list, loose) => list.sort((a, b) => compareBuild(a, b, loose))\nmodule.exports = sort\n","const ANY = Symbol('SemVer ANY')\n// hoisted class for cyclic dependency\nclass Comparator {\n  static get ANY () {\n    return ANY\n  }\n  constructor (comp, options) {\n    options = parseOptions(options)\n\n    if (comp instanceof Comparator) {\n      if (comp.loose === !!options.loose) {\n        return comp\n      } else {\n        comp = comp.value\n      }\n    }\n\n    debug('comparator', comp, options)\n    this.options = options\n    this.loose = !!options.loose\n    this.parse(comp)\n\n    if (this.semver === ANY) {\n      this.value = ''\n    } else {\n      this.value = this.operator + this.semver.version\n    }\n\n    debug('comp', this)\n  }\n\n  parse (comp) {\n    const r = this.options.loose ? re[t.COMPARATORLOOSE] : re[t.COMPARATOR]\n    const m = comp.match(r)\n\n    if (!m) {\n      throw new TypeError(`Invalid comparator: ${comp}`)\n    }\n\n    this.operator = m[1] !== undefined ? m[1] : ''\n    if (this.operator === '=') {\n      this.operator = ''\n    }\n\n    // if it literally is just '>' or '' then allow anything.\n    if (!m[2]) {\n      this.semver = ANY\n    } else {\n      this.semver = new SemVer(m[2], this.options.loose)\n    }\n  }\n\n  toString () {\n    return this.value\n  }\n\n  test (version) {\n    debug('Comparator.test', version, this.options.loose)\n\n    if (this.semver === ANY || version === ANY) {\n      return true\n    }\n\n    if (typeof version === 'string') {\n      try {\n        version = new SemVer(version, this.options)\n      } catch (er) {\n        return false\n      }\n    }\n\n    return cmp(version, this.operator, this.semver, this.options)\n  }\n\n  intersects (comp, options) {\n    if (!(comp instanceof Comparator)) {\n      throw new TypeError('a Comparator is required')\n    }\n\n    if (!options || typeof options !== 'object') {\n      options = {\n        loose: !!options,\n        includePrerelease: false\n      }\n    }\n\n    if (this.operator === '') {\n      if (this.value === '') {\n        return true\n      }\n      return new Range(comp.value, options).test(this.value)\n    } else if (comp.operator === '') {\n      if (comp.value === '') {\n        return true\n      }\n      return new Range(this.value, options).test(comp.semver)\n    }\n\n    const sameDirectionIncreasing =\n      (this.operator === '>=' || this.operator === '>') &&\n      (comp.operator === '>=' || comp.operator === '>')\n    const sameDirectionDecreasing =\n      (this.operator === '<=' || this.operator === '<') &&\n      (comp.operator === '<=' || comp.operator === '<')\n    const sameSemVer = this.semver.version === comp.semver.version\n    const differentDirectionsInclusive =\n      (this.operator === '>=' || this.operator === '<=') &&\n      (comp.operator === '>=' || comp.operator === '<=')\n    const oppositeDirectionsLessThan =\n      cmp(this.semver, '<', comp.semver, options) &&\n      (this.operator === '>=' || this.operator === '>') &&\n        (comp.operator === '<=' || comp.operator === '<')\n    const oppositeDirectionsGreaterThan =\n      cmp(this.semver, '>', comp.semver, options) &&\n      (this.operator === '<=' || this.operator === '<') &&\n        (comp.operator === '>=' || comp.operator === '>')\n\n    return (\n      sameDirectionIncreasing ||\n      sameDirectionDecreasing ||\n      (sameSemVer && differentDirectionsInclusive) ||\n      oppositeDirectionsLessThan ||\n      oppositeDirectionsGreaterThan\n    )\n  }\n}\n\nmodule.exports = Comparator\n\nconst parseOptions = require('../internal/parse-options')\nconst {re, t} = require('../internal/re')\nconst cmp = require('../functions/cmp')\nconst debug = require('../internal/debug')\nconst SemVer = require('./semver')\nconst Range = require('./range')\n","<template>\n\t<div class=\"add-wallet\">\n\t\t<div class=\"card\">\n\t\t\t<h2>Passphrase | Key file</h2>\n\t\t\t<InputData v-model=\"passphraseInput\" />\n\t\t\t<br>\n\t\t\t<Button v-if=\"!isCreatingWallet\" @click=\"create()\" :disabled=\"passphraseInput !== '' && !passphraseIsValid\">\n\t\t\t\t<Icon :icon=\"require('@/assets/logos/arweave.svg')\" />\n\t\t\t\t<div>Create new wallet</div>\n\t\t\t</Button>\n\t\t\t<Button v-else :disabled=\"!createdWallet\" @click=\"goToCreatedWallet\">\n\t\t\t\t<!-- TODO loading icon, disabled textarea -->\n\t\t\t\t<div v-if=\"!createdWallet\">Write down the passphrase, it will not be saved</div>\n\t\t\t\t<div v-else>Passphrase saved? Click here to proceed</div>\n\t\t\t</Button>\n\t\t</div>\n\t\t<div class=\"card\">\n\t\t\t<h2>Hardware</h2>\n\t\t\t<Button v-if=\"supportsWebUSB()\" @click=\"importLedger()\">\n\t\t\t\t<Icon :icon=\"require('@/assets/logos/ledger.svg')\" />\n\t\t\t\t<div>Ledger</div>\n\t\t\t</Button>\n\t\t\t<Button v-else disabled>\n\t\t\t\t<Icon :icon=\"require('@/assets/logos/ledger.svg')\" />\n\t\t\t\t<div>Ledger not supported for this browser</div>\n\t\t\t</Button>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport InputData from '@/components/atomic/InputData.vue'\nimport Button from '@/components/atomic/Button.vue'\nimport Icon from '@/components/atomic/Icon.vue'\nimport Ledger from '@/functions/Ledger.js'\nimport { addWallet, watchWallet, generateMnemonic, validateMnemonic, addMnemonic } from '@/functions/Wallets.js'\nimport { computed, ref } from 'vue'\nimport { useRouter } from 'vue-router'\n\nexport default {\n\tcomponents: { InputData, Button, Icon },\n\tsetup () {\n\t\tconst router = useRouter()\n\t\tconst passphraseInput = ref('')\n\t\tconst passphraseIsValid = computed(() => validateMnemonic(passphraseInput.value))\n\t\tconst isCreatingWallet = ref(false)\n\t\tconst createdWallet = ref(null)\n\t\tconst create = async () => {\n\t\t\tisCreatingWallet.value = true\n\t\t\tpassphraseInput.value = generateMnemonic()\n\t\t\tconst wallet = addMnemonic(passphraseInput.value)\n\t\t\tsetTimeout(async () => createdWallet.value = await wallet, 20000)\n\t\t}\n\t\tconst goToCreatedWallet = () => {\n\t\t\trouter.push({ name: 'EditWallet', query: { wallet: createdWallet.value.id } })\n\t\t}\n\t\tconst importLedger = async () => {\n\t\t\tconst wallet = await watchWallet(Ledger)\n\t\t\trouter.push({ name: 'EditWallet', query: { wallet: wallet.id } })\n\t\t}\n\t\tconst supportsWebUSB = () => {\n\t\t\treturn !!window.navigator.usb\n\t\t}\n\t\treturn { passphraseInput, passphraseIsValid, create, importLedger, supportsWebUSB, isCreatingWallet, createdWallet, goToCreatedWallet }\n\t},\n}\n</script>\n\n<style scoped>\n.add-wallet {\n\twidth: 100%;\n\tpadding: var(--spacing);\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tjustify-content: space-evenly;\n\tgap: var(--spacing);\n\tbackdrop-filter: brightness(1.7);\n}\n\n.card {\n\twidth: 100%;\n\tmax-width: 700px;\n}\n\n.input-data {\n\ttext-align: center;\n}\n\n.button {\n\tbackground-image: radial-gradient(circle at center, #81a1c166, #81a1c133);\n\theight: 5em;\n\tfont-size: 1.1em;\n\twidth: 100%;\n\tborder: 1px solid var(--border);\n}\n\n.button:disabled {\n\tfilter: grayscale(0.5) brightness(0.5);\n}\n</style>","import TransportWebUSB from \"@ledgerhq/hw-transport-webusb\"\nimport ArweaveApp from \"@zondax/ledger-arweave\"\nimport { arweave } from '@/store/ArweaveStore'\n\n\nasync function getTransport () {\n\tconsole.info(`Trying to connect via WebUSB...`)\n\treturn TransportWebUSB.create()\n}\n\nasync function getVersion () {\n\tconst transport = await getTransport()\n\tlet response = null\n\ttry {\n\t\tconst app = new ArweaveApp(transport)\n\t\tconsole.info(\"Requesting version\")\n\t\tresponse = await app.getVersion()\n\t\tif (response.returnCode !== ArweaveApp.ErrorCode.NoError) {\n\t\t\tconsole.error(`Error [${response.returnCode}] ${response.errorMessage}`)\n\t\t} else {\n\t\t\tconsole.info(`App Version ${response.major}.${response.minor}.${response.patch}`, response)\n\t\t}\n\t} finally { transport.close() }\n\treturn response\n}\n\nasync function getAppInfo () {\n\tconst transport = await getTransport()\n\tlet response = null\n\ttry {\n\t\tconst app = new ArweaveApp(transport)\n\t\tconsole.info(\"Requesting app info\")\n\t\tresponse = await app.appInfo()\n\t\tif (response.returnCode !== ArweaveApp.ErrorCode.NoError) {\n\t\t\tconsole.error(`Error [${response.returnCode}] ${response.errorMessage}`)\n\t\t} else {\n\t\t\tconsole.info(\"Response received!\", response)\n\t\t}\n\t} finally { transport.close() }\n\treturn response\n}\n\nasync function getAddress (request = false) {\n\tconst transport = await getTransport()\n\tlet response = null\n\ttry {\n\t\tconst app = new ArweaveApp(transport)\n\t\tconsole.info(\"Requesting address\")\n\t\tresponse = request ? await app.showAddress() : await app.getAddress()\n\t\tif (response.returnCode !== ArweaveApp.ErrorCode.NoError) {\n\t\t\tconsole.error(`Error [${response.returnCode}] ${response.errorMessage}`)\n\t\t} else {\n\t\t\tconsole.info(\"Response received!\", response)\n\t\t}\n\t} finally { transport.close() }\n\treturn response\n}\n\nasync function sign (transaction) {\n\tconst transport = await getTransport()\n\ttry {\n\t\tconst app = new ArweaveApp(transport)\n\t\tconst addr = await app.getAddress()\n\t\ttransaction.owner = addr.owner\n\t\tconst response = await app.sign(transaction)\n\t\tconst id = await arweave.crypto.hash(response.signature)\n\t\tconst sigjs = {\n\t\t\towner: addr.owner,\n\t\t\tsignature: await arweave.utils.bufferTob64Url(response.signature),\n\t\t\tid: await arweave.utils.bufferTob64Url(id)\n\t\t}\n\t\tawait transaction.setSignature(sigjs)\n\t\tconsole.info(\"Transaction signed\", transaction)\n\t} finally { transport.close() }\n\treturn transaction\n}\n\nconst Ledger = {\n\tmetaData: { provider: 'Ledger' },\n\tgetVersion,\n\tgetAppInfo,\n\tgetActiveAddress: async () => (await getAddress()).address,\n\tgetActivePublicKey: async () => (await getAddress()).owner,\n\tsign,\n}\n\nexport default Ledger\n\n\n\n// Testing\n\nif (process.env.NODE_ENV === 'development') {\n\twindow.arweaveWallet = Ledger\n\twindow.testTx = async () => {\n\t\tconst tx = await arweave.createTransaction({ data: '😁', })\n\t\tconst signedTx = await arweave.transactions.sign(tx)\n\t\tconsole.log(await arweave.transactions.post(signedTx))\n\t}\n}","import { render } from \"./AddWallet.vue?vue&type=template&id=c36760ee&scoped=true\"\nimport script from \"./AddWallet.vue?vue&type=script&lang=js\"\nexport * from \"./AddWallet.vue?vue&type=script&lang=js\"\n\nimport \"./AddWallet.vue?vue&type=style&index=0&id=c36760ee&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-c36760ee\"\n\nexport default script","function _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nmodule.exports = _interopRequireDefault;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _common = require(\"./common\");\n\nvar _arweave = _interopRequireDefault(require(\"arweave\"));\n\n/** ******************************************************************************\n *  (c) 2019-2020 Zondax GmbH\n *  (c) 2016-2017 Ledger\n *\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n ******************************************************************************* */\nfunction processGetRSAResponse(response) {\n  var partialResponse = response;\n  var errorCodeData = partialResponse.slice(-2);\n  var returnCode = errorCodeData[0] * 256 + errorCodeData[1];\n  var output = response.slice(0, 256);\n  return {\n    output: output,\n    returnCode: returnCode,\n    errorMessage: (0, _common.errorCodeToString)(returnCode)\n  };\n}\n\nfunction processGetAddrResponse(response) {\n  var partialResponse = response;\n  var errorCodeData = partialResponse.slice(-2);\n  var returnCode = errorCodeData[0] * 256 + errorCodeData[1];\n  var address = Buffer.from(partialResponse.slice(0, -2)).toString();\n  return {\n    address: address,\n    returnCode: returnCode,\n    errorMessage: (0, _common.errorCodeToString)(returnCode)\n  };\n}\n\nvar ArweaveApp = /*#__PURE__*/function () {\n  function ArweaveApp(transport) {\n    (0, _classCallCheck2.default)(this, ArweaveApp);\n\n    if (!transport) {\n      throw new Error(\"Transport has not been defined\");\n    }\n\n    this.transport = transport;\n  }\n\n  (0, _createClass2.default)(ArweaveApp, [{\n    key: \"signGetChunks\",\n    value: function () {\n      var _signGetChunks = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee(message) {\n        return _regenerator.default.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                console.log(\"signGetChunks\");\n                return _context.abrupt(\"return\", ArweaveApp.prepareChunks(message));\n\n              case 2:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function signGetChunks(_x) {\n        return _signGetChunks.apply(this, arguments);\n      }\n\n      return signGetChunks;\n    }()\n  }, {\n    key: \"getVersion\",\n    value: function () {\n      var _getVersion2 = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee2() {\n        return _regenerator.default.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                return _context2.abrupt(\"return\", (0, _common.getVersion)(this.transport).then(function (response) {\n                  return response;\n                }).catch(function (err) {\n                  return (0, _common.processErrorResponse)(err);\n                }));\n\n              case 1:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function getVersion() {\n        return _getVersion2.apply(this, arguments);\n      }\n\n      return getVersion;\n    }()\n  }, {\n    key: \"appInfo\",\n    value: function () {\n      var _appInfo = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee3() {\n        return _regenerator.default.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                return _context3.abrupt(\"return\", this.transport.send(0xb0, 0x01, 0, 0).then(function (response) {\n                  var errorCodeData = response.slice(-2);\n                  var returnCode = errorCodeData[0] * 256 + errorCodeData[1];\n                  var result = {};\n                  var appName = \"err\";\n                  var appVersion = \"err\";\n                  var flagLen = 0;\n                  var flagsValue = 0;\n\n                  if (response[0] !== 1) {\n                    // Ledger responds with format ID 1. There is no spec for any format != 1\n                    result.errorMessage = \"response format ID not recognized\";\n                    result.returnCode = 0x9001;\n                  } else {\n                    var appNameLen = response[1];\n                    appName = response.slice(2, 2 + appNameLen).toString(\"ascii\");\n                    var idx = 2 + appNameLen;\n                    var appVersionLen = response[idx];\n                    idx += 1;\n                    appVersion = response.slice(idx, idx + appVersionLen).toString(\"ascii\");\n                    idx += appVersionLen;\n                    var appFlagsLen = response[idx];\n                    idx += 1;\n                    flagLen = appFlagsLen;\n                    flagsValue = response[idx];\n                  }\n\n                  return {\n                    returnCode: returnCode,\n                    errorMessage: (0, _common.errorCodeToString)(returnCode),\n                    // //\n                    appName: appName,\n                    appVersion: appVersion,\n                    flagLen: flagLen,\n                    flagsValue: flagsValue,\n                    // eslint-disable-next-line no-bitwise\n                    flagRecovery: (flagsValue & 1) !== 0,\n                    // eslint-disable-next-line no-bitwise\n                    flagSignedMcuCode: (flagsValue & 2) !== 0,\n                    // eslint-disable-next-line no-bitwise\n                    flagOnboarded: (flagsValue & 4) !== 0,\n                    // eslint-disable-next-line no-bitwise\n                    flagPINValidated: (flagsValue & 128) !== 0\n                  };\n                }, _common.processErrorResponse));\n\n              case 1:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function appInfo() {\n        return _appInfo.apply(this, arguments);\n      }\n\n      return appInfo;\n    }()\n  }, {\n    key: \"getAddressHash\",\n    value: function () {\n      var _getAddressHash = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee4() {\n        return _regenerator.default.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                return _context4.abrupt(\"return\", this.transport.send(_common.CLA, _common.INS.GET_ADDRESS, _common.P1_VALUES.ONLY_RETRIEVE, 0, Buffer.from([]), [0x9000]).then(processGetAddrResponse, _common.processErrorResponse));\n\n              case 1:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function getAddressHash() {\n        return _getAddressHash.apply(this, arguments);\n      }\n\n      return getAddressHash;\n    }()\n  }, {\n    key: \"getAddress\",\n    value: function () {\n      var _getAddress = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee5() {\n        var req1, req2, req3, pk, owner;\n        return _regenerator.default.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.next = 2;\n                return this.getAddressHash();\n\n              case 2:\n                req1 = _context5.sent;\n\n                if (!(req1.returnCode !== 0x9000)) {\n                  _context5.next = 5;\n                  break;\n                }\n\n                return _context5.abrupt(\"return\", req1);\n\n              case 5:\n                _context5.next = 7;\n                return this.getPubKeyPart(0);\n\n              case 7:\n                req2 = _context5.sent;\n\n                if (!(req2.returnCode !== 0x9000)) {\n                  _context5.next = 10;\n                  break;\n                }\n\n                return _context5.abrupt(\"return\", req2);\n\n              case 10:\n                _context5.next = 12;\n                return this.getPubKeyPart(1);\n\n              case 12:\n                req3 = _context5.sent;\n\n                if (!(req3.returnCode !== 0x9000)) {\n                  _context5.next = 15;\n                  break;\n                }\n\n                return _context5.abrupt(\"return\", req3);\n\n              case 15:\n                pk = Buffer.concat([Buffer.from(req2.output), Buffer.from(req3.output)]);\n                _context5.next = 18;\n                return _arweave.default.utils.bufferTob64Url(pk);\n\n              case 18:\n                owner = _context5.sent;\n                return _context5.abrupt(\"return\", {\n                  address: req1.address,\n                  pubkey: pk,\n                  owner: owner,\n                  returnCode: 0x9000,\n                  errorMessage: (0, _common.errorCodeToString)(0x9000)\n                });\n\n              case 20:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function getAddress() {\n        return _getAddress.apply(this, arguments);\n      }\n\n      return getAddress;\n    }()\n  }, {\n    key: \"getSignaturePart\",\n    value: function () {\n      var _getSignaturePart = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee6(partnum) {\n        return _regenerator.default.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                if (!(partnum == 0)) {\n                  _context6.next = 4;\n                  break;\n                }\n\n                return _context6.abrupt(\"return\", this.transport.send(_common.CLA, _common.INS.GET_SIG, _common.P1_VALUES.ONLY_RETRIEVE, 0, Buffer.from([]), [0x9000]).then(processGetRSAResponse, _common.processErrorResponse));\n\n              case 4:\n                return _context6.abrupt(\"return\", this.transport.send(_common.CLA, _common.INS.GET_SIG, _common.P1_VALUES.ONLY_RETRIEVE, 1, Buffer.from([]), [0x9000]).then(processGetRSAResponse, _common.processErrorResponse));\n\n              case 5:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n\n      function getSignaturePart(_x2) {\n        return _getSignaturePart.apply(this, arguments);\n      }\n\n      return getSignaturePart;\n    }()\n  }, {\n    key: \"getPubKeyPart\",\n    value: function () {\n      var _getPubKeyPart = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee7(partnum) {\n        return _regenerator.default.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                if (!(partnum == 0)) {\n                  _context7.next = 4;\n                  break;\n                }\n\n                return _context7.abrupt(\"return\", this.transport.send(_common.CLA, _common.INS.GET_PK, _common.P1_VALUES.ONLY_RETRIEVE, 0, Buffer.from([]), [0x9000]).then(processGetRSAResponse, _common.processErrorResponse));\n\n              case 4:\n                return _context7.abrupt(\"return\", this.transport.send(_common.CLA, _common.INS.GET_PK, _common.P1_VALUES.ONLY_RETRIEVE, 1, Buffer.from([]), [0x9000]).then(processGetRSAResponse, _common.processErrorResponse));\n\n              case 5:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, this);\n      }));\n\n      function getPubKeyPart(_x3) {\n        return _getPubKeyPart.apply(this, arguments);\n      }\n\n      return getPubKeyPart;\n    }()\n  }, {\n    key: \"showAddress\",\n    value: function () {\n      var _showAddress = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee8() {\n        return _regenerator.default.wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                return _context8.abrupt(\"return\", this.transport.send(_common.CLA, _common.INS.GET_ADDRESS, _common.P1_VALUES.SHOW_ADDRESS_IN_DEVICE, 0, Buffer.from([]), [0x9000]).then(processGetAddrResponse, _common.processErrorResponse));\n\n              case 1:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8, this);\n      }));\n\n      function showAddress() {\n        return _showAddress.apply(this, arguments);\n      }\n\n      return showAddress;\n    }()\n  }, {\n    key: \"signSendChunk\",\n    value: function () {\n      var _signSendChunk = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee9(chunkIdx, chunkNum, chunk) {\n        var payloadType;\n        return _regenerator.default.wrap(function _callee9$(_context9) {\n          while (1) {\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                payloadType = _common.PAYLOAD_TYPE.ADD;\n\n                if (chunkIdx === 1) {\n                  payloadType = _common.PAYLOAD_TYPE.INIT;\n                }\n\n                if (chunkIdx === chunkNum) {\n                  payloadType = _common.PAYLOAD_TYPE.LAST;\n                }\n\n                return _context9.abrupt(\"return\", this.transport.send(_common.CLA, _common.INS.SIGN, payloadType, 0, chunk, [0x9000, 0x6984, 0x6a80]).then(function (response) {\n                  var errorCodeData = response.slice(-2);\n                  var returnCode = errorCodeData[0] * 256 + errorCodeData[1];\n                  var errorMessage = (0, _common.errorCodeToString)(returnCode);\n\n                  if (returnCode === 0x6a80 || returnCode === 0x6984) {\n                    errorMessage = \"\".concat(errorMessage, \" : \").concat(response.slice(0, response.length - 2).toString(\"ascii\"));\n                  }\n\n                  var output = null;\n\n                  if (response.length > 2) {\n                    output = response.slice(0, 48);\n                  }\n\n                  console.log(output);\n                  return {\n                    output: output,\n                    returnCode: returnCode,\n                    errorMessage: errorMessage\n                  };\n                }, _common.processErrorResponse));\n\n              case 4:\n              case \"end\":\n                return _context9.stop();\n            }\n          }\n        }, _callee9, this);\n      }));\n\n      function signSendChunk(_x4, _x5, _x6) {\n        return _signSendChunk.apply(this, arguments);\n      }\n\n      return signSendChunk;\n    }()\n  }, {\n    key: \"sign\",\n    value: function () {\n      var _sign = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee10(message) {\n        var req1, req2, req3, signature;\n        return _regenerator.default.wrap(function _callee10$(_context10) {\n          while (1) {\n            switch (_context10.prev = _context10.next) {\n              case 0:\n                _context10.next = 2;\n                return this.signGetDigest(message);\n\n              case 2:\n                req1 = _context10.sent;\n\n                if (!(req1.returnCode !== 0x9000)) {\n                  _context10.next = 5;\n                  break;\n                }\n\n                return _context10.abrupt(\"return\", req1);\n\n              case 5:\n                _context10.next = 7;\n                return this.getSignaturePart(0);\n\n              case 7:\n                req2 = _context10.sent;\n\n                if (!(req2.returnCode !== 0x9000)) {\n                  _context10.next = 10;\n                  break;\n                }\n\n                return _context10.abrupt(\"return\", req2);\n\n              case 10:\n                _context10.next = 12;\n                return this.getSignaturePart(1);\n\n              case 12:\n                req3 = _context10.sent;\n\n                if (!(req3.returnCode !== 0x9000)) {\n                  _context10.next = 15;\n                  break;\n                }\n\n                return _context10.abrupt(\"return\", req3);\n\n              case 15:\n                signature = Buffer.concat([Buffer.from(req2.output), Buffer.from(req3.output)]);\n                return _context10.abrupt(\"return\", {\n                  deephash: req1.digest,\n                  signature: signature,\n                  returnCode: 0x9000,\n                  errorMessage: (0, _common.errorCodeToString)(0x9000)\n                });\n\n              case 17:\n              case \"end\":\n                return _context10.stop();\n            }\n          }\n        }, _callee10, this);\n      }));\n\n      function sign(_x7) {\n        return _sign.apply(this, arguments);\n      }\n\n      return sign;\n    }()\n  }, {\n    key: \"signGetDigest\",\n    value: function () {\n      var _signGetDigest = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee12(message) {\n        var _this = this;\n\n        return _regenerator.default.wrap(function _callee12$(_context12) {\n          while (1) {\n            switch (_context12.prev = _context12.next) {\n              case 0:\n                console.log(\"sign\");\n                return _context12.abrupt(\"return\", this.signGetChunks(message).then(function (chunks) {\n                  return _this.signSendChunk(1, chunks.length, chunks[0]).then( /*#__PURE__*/function () {\n                    var _ref = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee11(response) {\n                      var result, i;\n                      return _regenerator.default.wrap(function _callee11$(_context11) {\n                        while (1) {\n                          switch (_context11.prev = _context11.next) {\n                            case 0:\n                              result = {\n                                returnCode: response.returnCode,\n                                errorMessage: response.errorMessage,\n                                output: null\n                              };\n                              i = 1;\n\n                            case 2:\n                              if (!(i < chunks.length)) {\n                                _context11.next = 11;\n                                break;\n                              }\n\n                              _context11.next = 5;\n                              return _this.signSendChunk(1 + i, chunks.length, chunks[i]);\n\n                            case 5:\n                              result = _context11.sent;\n\n                              if (!(result.returnCode !== _common.ERROR_CODE.NoError)) {\n                                _context11.next = 8;\n                                break;\n                              }\n\n                              return _context11.abrupt(\"break\", 11);\n\n                            case 8:\n                              i += 1;\n                              _context11.next = 2;\n                              break;\n\n                            case 11:\n                              console.log(result);\n                              return _context11.abrupt(\"return\", {\n                                returnCode: result.returnCode,\n                                errorMessage: result.errorMessage,\n                                // ///\n                                digest: result.output\n                              });\n\n                            case 13:\n                            case \"end\":\n                              return _context11.stop();\n                          }\n                        }\n                      }, _callee11);\n                    }));\n\n                    return function (_x9) {\n                      return _ref.apply(this, arguments);\n                    };\n                  }(), _common.processErrorResponse);\n                }, _common.processErrorResponse));\n\n              case 2:\n              case \"end\":\n                return _context12.stop();\n            }\n          }\n        }, _callee12, this);\n      }));\n\n      function signGetDigest(_x8) {\n        return _signGetDigest.apply(this, arguments);\n      }\n\n      return signGetDigest;\n    }()\n  }, {\n    key: \"digestSendChunk\",\n    value: function () {\n      var _digestSendChunk = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee13(chunkIdx, chunkNum, chunk) {\n        var payloadType;\n        return _regenerator.default.wrap(function _callee13$(_context13) {\n          while (1) {\n            switch (_context13.prev = _context13.next) {\n              case 0:\n                payloadType = _common.PAYLOAD_TYPE.ADD;\n\n                if (chunkIdx === 1) {\n                  payloadType = _common.PAYLOAD_TYPE.INIT;\n                }\n\n                if (chunkIdx === chunkNum) {\n                  payloadType = _common.PAYLOAD_TYPE.LAST;\n                }\n\n                return _context13.abrupt(\"return\", this.transport.send(_common.CLA, _common.INS.GET_DIGEST, payloadType, 0, chunk, [0x9000, 0x6984, 0x6a80]).then(function (response) {\n                  var errorCodeData = response.slice(-2);\n                  var returnCode = errorCodeData[0] * 256 + errorCodeData[1];\n                  var errorMessage = (0, _common.errorCodeToString)(returnCode);\n\n                  if (returnCode === 0x6a80 || returnCode === 0x6984) {\n                    errorMessage = \"\".concat(errorMessage, \" : \").concat(response.slice(0, response.length - 2).toString(\"ascii\"));\n                  }\n\n                  var digest = null;\n\n                  if (response.length > 2) {\n                    digest = response.slice(0, 48);\n                  }\n\n                  return {\n                    digest: digest,\n                    returnCode: returnCode,\n                    errorMessage: errorMessage\n                  };\n                }, _common.processErrorResponse));\n\n              case 4:\n              case \"end\":\n                return _context13.stop();\n            }\n          }\n        }, _callee13, this);\n      }));\n\n      function digestSendChunk(_x10, _x11, _x12) {\n        return _digestSendChunk.apply(this, arguments);\n      }\n\n      return digestSendChunk;\n    }()\n  }, {\n    key: \"digest\",\n    value: function () {\n      var _digest = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee15(message) {\n        var _this2 = this;\n\n        return _regenerator.default.wrap(function _callee15$(_context15) {\n          while (1) {\n            switch (_context15.prev = _context15.next) {\n              case 0:\n                console.log(\"digest\");\n                return _context15.abrupt(\"return\", this.signGetChunks(message).then(function (chunks) {\n                  return _this2.digestSendChunk(1, chunks.length, chunks[0]).then( /*#__PURE__*/function () {\n                    var _ref2 = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee14(response) {\n                      var result, i;\n                      return _regenerator.default.wrap(function _callee14$(_context14) {\n                        while (1) {\n                          switch (_context14.prev = _context14.next) {\n                            case 0:\n                              result = {\n                                returnCode: response.returnCode,\n                                errorMessage: response.errorMessage,\n                                digest: null\n                              };\n                              i = 1;\n\n                            case 2:\n                              if (!(i < chunks.length)) {\n                                _context14.next = 11;\n                                break;\n                              }\n\n                              _context14.next = 5;\n                              return _this2.digestSendChunk(1 + i, chunks.length, chunks[i]);\n\n                            case 5:\n                              result = _context14.sent;\n\n                              if (!(result.returnCode !== _common.ERROR_CODE.NoError)) {\n                                _context14.next = 8;\n                                break;\n                              }\n\n                              return _context14.abrupt(\"break\", 11);\n\n                            case 8:\n                              i += 1;\n                              _context14.next = 2;\n                              break;\n\n                            case 11:\n                              return _context14.abrupt(\"return\", {\n                                digest: result.digest,\n                                // ///\n                                returnCode: result.returnCode,\n                                errorMessage: result.errorMessage\n                              });\n\n                            case 12:\n                            case \"end\":\n                              return _context14.stop();\n                          }\n                        }\n                      }, _callee14);\n                    }));\n\n                    return function (_x14) {\n                      return _ref2.apply(this, arguments);\n                    };\n                  }(), _common.processErrorResponse);\n                }, _common.processErrorResponse));\n\n              case 2:\n              case \"end\":\n                return _context15.stop();\n            }\n          }\n        }, _callee15, this);\n      }));\n\n      function digest(_x13) {\n        return _digest.apply(this, arguments);\n      }\n\n      return digest;\n    }()\n  }], [{\n    key: \"ErrorCode\",\n    get: function get() {\n      return _common.ERROR_CODE;\n    }\n  }, {\n    key: \"encodeu16\",\n    value: function encodeu16(u16Value) {\n      return new Uint8Array([u16Value >> 8, u16Value & 0xFF]);\n    }\n  }, {\n    key: \"concatArray\",\n    value: function concatArray(a, b) {\n      var tmp = new Uint8Array(a.length + b.length);\n      tmp.set(a);\n      tmp.set(b, a.length);\n      return tmp;\n    }\n  }, {\n    key: \"encodeWithLen\",\n    value: function encodeWithLen(input) {\n      return ArweaveApp.concatArray(ArweaveApp.encodeu16(input.length), input);\n    }\n  }, {\n    key: \"flatten\",\n    value: function flatten(input) {\n      var blob = new Uint8Array(0);\n\n      for (var i = 0; i < input.length; i++) {\n        blob = ArweaveApp.concatArray(blob, input[i]);\n      }\n\n      return blob;\n    }\n  }, {\n    key: \"encodeTx\",\n    value: function encodeTx(tx) {\n      var serializedTags = [];\n\n      for (var i = 0; i < tx.tags.length; i++) {\n        var currentTag = tx.tags[i];\n        console.log(currentTag);\n        var encodedKey = ArweaveApp.encodeWithLen(currentTag.get(\"name\", {\n          decode: true,\n          string: false\n        }));\n        var encodedVal = ArweaveApp.encodeWithLen(currentTag.get(\"value\", {\n          decode: true,\n          string: false\n        }));\n        serializedTags.push(encodedKey);\n        serializedTags.push(encodedVal);\n      }\n\n      var flatSerializedTags = ArweaveApp.flatten(serializedTags);\n      var tmp = [ArweaveApp.encodeWithLen(_arweave.default.utils.stringToBuffer(tx.format.toString())), ArweaveApp.encodeWithLen(tx.get(\"owner\", {\n        decode: true,\n        string: false\n      })), ArweaveApp.encodeWithLen(tx.get(\"target\", {\n        decode: true,\n        string: false\n      })), ArweaveApp.encodeWithLen(_arweave.default.utils.stringToBuffer(tx.quantity.toString())), ArweaveApp.encodeWithLen(_arweave.default.utils.stringToBuffer(tx.reward.toString())), ArweaveApp.encodeWithLen(tx.get(\"last_tx\", {\n        decode: true,\n        string: false\n      })), ArweaveApp.encodeu16(tx.tags.length), flatSerializedTags, ArweaveApp.encodeWithLen(_arweave.default.utils.stringToBuffer(tx.data_size.toString())), ArweaveApp.encodeWithLen(tx.get(\"data_root\", {\n        decode: true,\n        string: false\n      }))];\n      var blob = ArweaveApp.flatten(tmp);\n      console.log(Buffer.from(blob).toString(\"hex\"));\n      return blob;\n    }\n  }, {\n    key: \"prepareChunks\",\n    value: function prepareChunks(message) {\n      var chunks = [];\n      chunks.push(Buffer.alloc(20));\n      var messageBuffer = Buffer.from(ArweaveApp.encodeTx(message));\n      var buffer = Buffer.concat([messageBuffer]);\n\n      for (var i = 0; i < buffer.length; i += _common.CHUNK_SIZE) {\n        var end = i + _common.CHUNK_SIZE;\n\n        if (i > buffer.length) {\n          end = buffer.length;\n        }\n\n        chunks.push(buffer.slice(i, end));\n      }\n\n      return chunks;\n    }\n  }]);\n  return ArweaveApp;\n}();\n\nexports.default = ArweaveApp;","const compare = require('./compare')\nconst gt = (a, b, loose) => compare(a, b, loose) > 0\nmodule.exports = gt\n","const Range = require('../classes/range')\nconst satisfies = (version, range, options) => {\n  try {\n    range = new Range(range, options)\n  } catch (er) {\n    return false\n  }\n  return range.test(version)\n}\nmodule.exports = satisfies\n","const SemVer = require('../classes/semver')\nconst major = (a, loose) => new SemVer(a, loose).major\nmodule.exports = major\n","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","const SemVer = require('../classes/semver')\nconst compare = (a, b, loose) =>\n  new SemVer(a, loose).compare(new SemVer(b, loose))\n\nmodule.exports = compare\n","const outside = require('./outside')\n// Determine if version is less than all the versions possible in the range\nconst ltr = (version, range, options) => outside(version, range, '<', options)\nmodule.exports = ltr\n","const SemVer = require('../classes/semver')\nconst Range = require('../classes/range')\n\nconst maxSatisfying = (versions, range, options) => {\n  let max = null\n  let maxSV = null\n  let rangeObj = null\n  try {\n    rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach((v) => {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!max || maxSV.compare(v) === -1) {\n        // compare(max, v, true)\n        max = v\n        maxSV = new SemVer(max, options)\n      }\n    }\n  })\n  return max\n}\nmodule.exports = maxSatisfying\n","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n\n    module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n\n    module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","const parse = require('./parse')\nconst eq = require('./eq')\n\nconst diff = (version1, version2) => {\n  if (eq(version1, version2)) {\n    return null\n  } else {\n    const v1 = parse(version1)\n    const v2 = parse(version2)\n    const hasPre = v1.prerelease.length || v2.prerelease.length\n    const prefix = hasPre ? 'pre' : ''\n    const defaultResult = hasPre ? 'prerelease' : ''\n    for (const key in v1) {\n      if (key === 'major' || key === 'minor' || key === 'patch') {\n        if (v1[key] !== v2[key]) {\n          return prefix + key\n        }\n      }\n    }\n    return defaultResult // may be undefined\n  }\n}\nmodule.exports = diff\n","const Range = require('../classes/range')\n\n// Mostly just for testing and legacy API reasons\nconst toComparators = (range, options) =>\n  new Range(range, options).set\n    .map(comp => comp.map(c => c.value).join(' ').trim().split(' '))\n\nmodule.exports = toComparators\n","const SemVer = require('../classes/semver')\nconst patch = (a, loose) => new SemVer(a, loose).patch\nmodule.exports = patch\n","// parse out just the options we care about so we always get a consistent\n// obj with keys in a consistent order.\nconst opts = ['includePrerelease', 'loose', 'rtl']\nconst parseOptions = options =>\n  !options ? {}\n  : typeof options !== 'object' ? { loose: true }\n  : opts.filter(k => options[k]).reduce((options, k) => {\n    options[k] = true\n    return options\n  }, {})\nmodule.exports = parseOptions\n","import semver from \"semver\";\n/**\n * The USB product IDs will be defined as MMII, encoding a model (MM) and an interface bitfield (II)\n *\n ** Model\n * Ledger Nano S : 0x10\n * Ledger Blue : 0x00\n * Ledger Nano X : 0x40\n *\n ** Interface support bitfield\n * Generic HID : 0x01\n * Keyboard HID : 0x02\n * U2F : 0x04\n * CCID : 0x08\n * WebUSB : 0x10\n */\n\nexport const IIGenericHID = 0x01;\nexport const IIKeyboardHID = 0x02;\nexport const IIU2F = 0x04;\nexport const IICCID = 0x08;\nexport const IIWebUSB = 0x10;\nconst devices = {\n  blue: {\n    id: \"blue\",\n    productName: \"Ledger Blue\",\n    productIdMM: 0x00,\n    legacyUsbProductId: 0x0000,\n    usbOnly: true,\n    memorySize: 480 * 1024,\n    blockSize: 4 * 1024,\n    getBlockSize: _firwareVersion => 4 * 1024\n  },\n  nanoS: {\n    id: \"nanoS\",\n    productName: \"Ledger Nano S\",\n    productIdMM: 0x10,\n    legacyUsbProductId: 0x0001,\n    usbOnly: true,\n    memorySize: 320 * 1024,\n    blockSize: 4 * 1024,\n    getBlockSize: firmwareVersion => semver.lt(semver.coerce(firmwareVersion), \"2.0.0\") ? 4 * 1024 : 2 * 1024\n  },\n  nanoX: {\n    id: \"nanoX\",\n    productName: \"Ledger Nano X\",\n    productIdMM: 0x40,\n    legacyUsbProductId: 0x0004,\n    usbOnly: false,\n    memorySize: 2 * 1024 * 1024,\n    blockSize: 4 * 1024,\n    getBlockSize: _firwareVersion => 4 * 1024,\n    bluetoothSpec: [{\n      // this is the legacy one (prototype version). we will eventually drop it.\n      serviceUuid: \"d973f2e0-b19e-11e2-9e96-0800200c9a66\",\n      notifyUuid: \"d973f2e1-b19e-11e2-9e96-0800200c9a66\",\n      writeUuid: \"d973f2e2-b19e-11e2-9e96-0800200c9a66\"\n    }, {\n      serviceUuid: \"13d63400-2c97-0004-0000-4c6564676572\",\n      notifyUuid: \"13d63400-2c97-0004-0001-4c6564676572\",\n      writeUuid: \"13d63400-2c97-0004-0002-4c6564676572\"\n    }]\n  }\n};\nconst productMap = {\n  Blue: \"blue\",\n  \"Nano S\": \"nanoS\",\n  \"Nano X\": \"nanoX\"\n}; // $FlowFixMe\n\nconst devicesList = Object.values(devices);\n/**\n *\n */\n\nexport const ledgerUSBVendorId = 0x2c97;\n/**\n *\n */\n\nexport const getDeviceModel = id => {\n  const info = devices[id];\n  if (!info) throw new Error(\"device '\" + id + \"' does not exist\");\n  return info;\n};\n/**\n *\n */\n\nexport const identifyUSBProductId = usbProductId => {\n  const legacy = devicesList.find(d => d.legacyUsbProductId === usbProductId);\n  if (legacy) return legacy;\n  const mm = usbProductId >> 8;\n  const deviceModel = devicesList.find(d => d.productIdMM === mm);\n  return deviceModel;\n};\nexport const identifyProductName = productName => {\n  const productId = productMap[productName];\n  const deviceModel = devicesList.find(d => d.id === productId);\n  return deviceModel;\n};\nconst bluetoothServices = [];\nconst serviceUuidToInfos = {};\n\nfor (let id in devices) {\n  const deviceModel = devices[id];\n  const {\n    bluetoothSpec\n  } = deviceModel;\n\n  if (bluetoothSpec) {\n    for (let i = 0; i < bluetoothSpec.length; i++) {\n      const spec = bluetoothSpec[i];\n      bluetoothServices.push(spec.serviceUuid);\n      serviceUuidToInfos[spec.serviceUuid] = serviceUuidToInfos[spec.serviceUuid.replace(/-/g, \"\")] = {\n        deviceModel,\n        ...spec\n      };\n    }\n  }\n}\n/**\n *\n */\n\n\nexport const getBluetoothServiceUuids = () => bluetoothServices;\n/**\n *\n */\n\nexport const getInfosForServiceUuid = uuid => serviceUuidToInfos[uuid.toLowerCase()];\n/**\n *\n */\n//# sourceMappingURL=index.js.map","const parse = require('./parse')\nconst clean = (version, options) => {\n  const s = parse(version.trim().replace(/^[=v]+/, ''), options)\n  return s ? s.version : null\n}\nmodule.exports = clean\n","const compare = require('./compare')\nconst neq = (a, b, loose) => compare(a, b, loose) !== 0\nmodule.exports = neq\n","'use strict'\nmodule.exports = Yallist\n\nYallist.Node = Node\nYallist.create = Yallist\n\nfunction Yallist (list) {\n  var self = this\n  if (!(self instanceof Yallist)) {\n    self = new Yallist()\n  }\n\n  self.tail = null\n  self.head = null\n  self.length = 0\n\n  if (list && typeof list.forEach === 'function') {\n    list.forEach(function (item) {\n      self.push(item)\n    })\n  } else if (arguments.length > 0) {\n    for (var i = 0, l = arguments.length; i < l; i++) {\n      self.push(arguments[i])\n    }\n  }\n\n  return self\n}\n\nYallist.prototype.removeNode = function (node) {\n  if (node.list !== this) {\n    throw new Error('removing node which does not belong to this list')\n  }\n\n  var next = node.next\n  var prev = node.prev\n\n  if (next) {\n    next.prev = prev\n  }\n\n  if (prev) {\n    prev.next = next\n  }\n\n  if (node === this.head) {\n    this.head = next\n  }\n  if (node === this.tail) {\n    this.tail = prev\n  }\n\n  node.list.length--\n  node.next = null\n  node.prev = null\n  node.list = null\n\n  return next\n}\n\nYallist.prototype.unshiftNode = function (node) {\n  if (node === this.head) {\n    return\n  }\n\n  if (node.list) {\n    node.list.removeNode(node)\n  }\n\n  var head = this.head\n  node.list = this\n  node.next = head\n  if (head) {\n    head.prev = node\n  }\n\n  this.head = node\n  if (!this.tail) {\n    this.tail = node\n  }\n  this.length++\n}\n\nYallist.prototype.pushNode = function (node) {\n  if (node === this.tail) {\n    return\n  }\n\n  if (node.list) {\n    node.list.removeNode(node)\n  }\n\n  var tail = this.tail\n  node.list = this\n  node.prev = tail\n  if (tail) {\n    tail.next = node\n  }\n\n  this.tail = node\n  if (!this.head) {\n    this.head = node\n  }\n  this.length++\n}\n\nYallist.prototype.push = function () {\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    push(this, arguments[i])\n  }\n  return this.length\n}\n\nYallist.prototype.unshift = function () {\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    unshift(this, arguments[i])\n  }\n  return this.length\n}\n\nYallist.prototype.pop = function () {\n  if (!this.tail) {\n    return undefined\n  }\n\n  var res = this.tail.value\n  this.tail = this.tail.prev\n  if (this.tail) {\n    this.tail.next = null\n  } else {\n    this.head = null\n  }\n  this.length--\n  return res\n}\n\nYallist.prototype.shift = function () {\n  if (!this.head) {\n    return undefined\n  }\n\n  var res = this.head.value\n  this.head = this.head.next\n  if (this.head) {\n    this.head.prev = null\n  } else {\n    this.tail = null\n  }\n  this.length--\n  return res\n}\n\nYallist.prototype.forEach = function (fn, thisp) {\n  thisp = thisp || this\n  for (var walker = this.head, i = 0; walker !== null; i++) {\n    fn.call(thisp, walker.value, i, this)\n    walker = walker.next\n  }\n}\n\nYallist.prototype.forEachReverse = function (fn, thisp) {\n  thisp = thisp || this\n  for (var walker = this.tail, i = this.length - 1; walker !== null; i--) {\n    fn.call(thisp, walker.value, i, this)\n    walker = walker.prev\n  }\n}\n\nYallist.prototype.get = function (n) {\n  for (var i = 0, walker = this.head; walker !== null && i < n; i++) {\n    // abort out of the list early if we hit a cycle\n    walker = walker.next\n  }\n  if (i === n && walker !== null) {\n    return walker.value\n  }\n}\n\nYallist.prototype.getReverse = function (n) {\n  for (var i = 0, walker = this.tail; walker !== null && i < n; i++) {\n    // abort out of the list early if we hit a cycle\n    walker = walker.prev\n  }\n  if (i === n && walker !== null) {\n    return walker.value\n  }\n}\n\nYallist.prototype.map = function (fn, thisp) {\n  thisp = thisp || this\n  var res = new Yallist()\n  for (var walker = this.head; walker !== null;) {\n    res.push(fn.call(thisp, walker.value, this))\n    walker = walker.next\n  }\n  return res\n}\n\nYallist.prototype.mapReverse = function (fn, thisp) {\n  thisp = thisp || this\n  var res = new Yallist()\n  for (var walker = this.tail; walker !== null;) {\n    res.push(fn.call(thisp, walker.value, this))\n    walker = walker.prev\n  }\n  return res\n}\n\nYallist.prototype.reduce = function (fn, initial) {\n  var acc\n  var walker = this.head\n  if (arguments.length > 1) {\n    acc = initial\n  } else if (this.head) {\n    walker = this.head.next\n    acc = this.head.value\n  } else {\n    throw new TypeError('Reduce of empty list with no initial value')\n  }\n\n  for (var i = 0; walker !== null; i++) {\n    acc = fn(acc, walker.value, i)\n    walker = walker.next\n  }\n\n  return acc\n}\n\nYallist.prototype.reduceReverse = function (fn, initial) {\n  var acc\n  var walker = this.tail\n  if (arguments.length > 1) {\n    acc = initial\n  } else if (this.tail) {\n    walker = this.tail.prev\n    acc = this.tail.value\n  } else {\n    throw new TypeError('Reduce of empty list with no initial value')\n  }\n\n  for (var i = this.length - 1; walker !== null; i--) {\n    acc = fn(acc, walker.value, i)\n    walker = walker.prev\n  }\n\n  return acc\n}\n\nYallist.prototype.toArray = function () {\n  var arr = new Array(this.length)\n  for (var i = 0, walker = this.head; walker !== null; i++) {\n    arr[i] = walker.value\n    walker = walker.next\n  }\n  return arr\n}\n\nYallist.prototype.toArrayReverse = function () {\n  var arr = new Array(this.length)\n  for (var i = 0, walker = this.tail; walker !== null; i++) {\n    arr[i] = walker.value\n    walker = walker.prev\n  }\n  return arr\n}\n\nYallist.prototype.slice = function (from, to) {\n  to = to || this.length\n  if (to < 0) {\n    to += this.length\n  }\n  from = from || 0\n  if (from < 0) {\n    from += this.length\n  }\n  var ret = new Yallist()\n  if (to < from || to < 0) {\n    return ret\n  }\n  if (from < 0) {\n    from = 0\n  }\n  if (to > this.length) {\n    to = this.length\n  }\n  for (var i = 0, walker = this.head; walker !== null && i < from; i++) {\n    walker = walker.next\n  }\n  for (; walker !== null && i < to; i++, walker = walker.next) {\n    ret.push(walker.value)\n  }\n  return ret\n}\n\nYallist.prototype.sliceReverse = function (from, to) {\n  to = to || this.length\n  if (to < 0) {\n    to += this.length\n  }\n  from = from || 0\n  if (from < 0) {\n    from += this.length\n  }\n  var ret = new Yallist()\n  if (to < from || to < 0) {\n    return ret\n  }\n  if (from < 0) {\n    from = 0\n  }\n  if (to > this.length) {\n    to = this.length\n  }\n  for (var i = this.length, walker = this.tail; walker !== null && i > to; i--) {\n    walker = walker.prev\n  }\n  for (; walker !== null && i > from; i--, walker = walker.prev) {\n    ret.push(walker.value)\n  }\n  return ret\n}\n\nYallist.prototype.splice = function (start, deleteCount, ...nodes) {\n  if (start > this.length) {\n    start = this.length - 1\n  }\n  if (start < 0) {\n    start = this.length + start;\n  }\n\n  for (var i = 0, walker = this.head; walker !== null && i < start; i++) {\n    walker = walker.next\n  }\n\n  var ret = []\n  for (var i = 0; walker && i < deleteCount; i++) {\n    ret.push(walker.value)\n    walker = this.removeNode(walker)\n  }\n  if (walker === null) {\n    walker = this.tail\n  }\n\n  if (walker !== this.head && walker !== this.tail) {\n    walker = walker.prev\n  }\n\n  for (var i = 0; i < nodes.length; i++) {\n    walker = insert(this, walker, nodes[i])\n  }\n  return ret;\n}\n\nYallist.prototype.reverse = function () {\n  var head = this.head\n  var tail = this.tail\n  for (var walker = head; walker !== null; walker = walker.prev) {\n    var p = walker.prev\n    walker.prev = walker.next\n    walker.next = p\n  }\n  this.head = tail\n  this.tail = head\n  return this\n}\n\nfunction insert (self, node, value) {\n  var inserted = node === self.head ?\n    new Node(value, null, node, self) :\n    new Node(value, node, node.next, self)\n\n  if (inserted.next === null) {\n    self.tail = inserted\n  }\n  if (inserted.prev === null) {\n    self.head = inserted\n  }\n\n  self.length++\n\n  return inserted\n}\n\nfunction push (self, item) {\n  self.tail = new Node(item, self.tail, null, self)\n  if (!self.head) {\n    self.head = self.tail\n  }\n  self.length++\n}\n\nfunction unshift (self, item) {\n  self.head = new Node(item, null, self.head, self)\n  if (!self.tail) {\n    self.tail = self.head\n  }\n  self.length++\n}\n\nfunction Node (value, prev, next, list) {\n  if (!(this instanceof Node)) {\n    return new Node(value, prev, next, list)\n  }\n\n  this.list = list\n  this.value = value\n\n  if (prev) {\n    prev.next = this\n    this.prev = prev\n  } else {\n    this.prev = null\n  }\n\n  if (next) {\n    next.prev = this\n    this.next = next\n  } else {\n    this.next = null\n  }\n}\n\ntry {\n  // add if support for Symbol.iterator is present\n  require('./iterator.js')(Yallist)\n} catch (er) {}\n","const SemVer = require('../classes/semver')\nconst parse = require('./parse')\nconst {re, t} = require('../internal/re')\n\nconst coerce = (version, options) => {\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version === 'number') {\n    version = String(version)\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  options = options || {}\n\n  let match = null\n  if (!options.rtl) {\n    match = version.match(re[t.COERCE])\n  } else {\n    // Find the right-most coercible string that does not share\n    // a terminus with a more left-ward coercible string.\n    // Eg, '1.2.3.4' wants to coerce '2.3.4', not '3.4' or '4'\n    //\n    // Walk through the string checking with a /g regexp\n    // Manually set the index so as to pick up overlapping matches.\n    // Stop when we get a match that ends at the string end, since no\n    // coercible string can be more right-ward without the same terminus.\n    let next\n    while ((next = re[t.COERCERTL].exec(version)) &&\n        (!match || match.index + match[0].length !== version.length)\n    ) {\n      if (!match ||\n            next.index + next[0].length !== match.index + match[0].length) {\n        match = next\n      }\n      re[t.COERCERTL].lastIndex = next.index + next[1].length + next[2].length\n    }\n    // leave it in a clean state\n    re[t.COERCERTL].lastIndex = -1\n  }\n\n  if (match === null)\n    return null\n\n  return parse(`${match[2]}.${match[3] || '0'}.${match[4] || '0'}`, options)\n}\nmodule.exports = coerce\n","import { ledgerUSBVendorId } from \"@ledgerhq/devices\";\nconst ledgerDevices = [{\n  vendorId: ledgerUSBVendorId\n}];\nexport async function requestLedgerDevice() {\n  // $FlowFixMe\n  const device = await navigator.usb.requestDevice({\n    filters: ledgerDevices\n  });\n  return device;\n}\nexport async function getLedgerDevices() {\n  // $FlowFixMe\n  const devices = await navigator.usb.getDevices();\n  return devices.filter(d => d.vendorId === ledgerUSBVendorId);\n}\nexport async function getFirstLedgerDevice() {\n  const existingDevices = await getLedgerDevices();\n  if (existingDevices.length > 0) return existingDevices[0];\n  return requestLedgerDevice();\n}\nexport const isSupported = () => Promise.resolve(!!navigator && // $FlowFixMe\n!!navigator.usb && typeof navigator.usb.getDevices === \"function\");\n//# sourceMappingURL=webusb.js.map","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","const compare = require('./compare')\nconst rcompare = (a, b, loose) => compare(b, a, loose)\nmodule.exports = rcompare\n","module.exports = require(\"regenerator-runtime\");\n","/* eslint-disable no-continue */\r\n/* eslint-disable no-unused-vars */\r\n/* eslint-disable no-param-reassign */\r\n/* eslint-disable no-prototype-builtins */\r\nvar errorClasses = {};\r\nvar deserializers = {};\r\nvar addCustomErrorDeserializer = function (name, deserializer) {\r\n    deserializers[name] = deserializer;\r\n};\r\nvar createCustomErrorClass = function (name) {\r\n    var C = function CustomError(message, fields) {\r\n        Object.assign(this, fields);\r\n        this.name = name;\r\n        this.message = message || name;\r\n        this.stack = new Error().stack;\r\n    };\r\n    C.prototype = new Error();\r\n    errorClasses[name] = C;\r\n    return C;\r\n};\r\n// inspired from https://github.com/programble/errio/blob/master/index.js\r\nvar deserializeError = function (object) {\r\n    if (typeof object === \"object\" && object) {\r\n        try {\r\n            // $FlowFixMe FIXME HACK\r\n            var msg = JSON.parse(object.message);\r\n            if (msg.message && msg.name) {\r\n                object = msg;\r\n            }\r\n        }\r\n        catch (e) {\r\n            // nothing\r\n        }\r\n        var error = void 0;\r\n        if (typeof object.name === \"string\") {\r\n            var name_1 = object.name;\r\n            var des = deserializers[name_1];\r\n            if (des) {\r\n                error = des(object);\r\n            }\r\n            else {\r\n                var constructor = name_1 === \"Error\" ? Error : errorClasses[name_1];\r\n                if (!constructor) {\r\n                    console.warn(\"deserializing an unknown class '\" + name_1 + \"'\");\r\n                    constructor = createCustomErrorClass(name_1);\r\n                }\r\n                error = Object.create(constructor.prototype);\r\n                try {\r\n                    for (var prop in object) {\r\n                        if (object.hasOwnProperty(prop)) {\r\n                            error[prop] = object[prop];\r\n                        }\r\n                    }\r\n                }\r\n                catch (e) {\r\n                    // sometimes setting a property can fail (e.g. .name)\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            error = new Error(object.message);\r\n        }\r\n        if (!error.stack && Error.captureStackTrace) {\r\n            Error.captureStackTrace(error, deserializeError);\r\n        }\r\n        return error;\r\n    }\r\n    return new Error(String(object));\r\n};\r\n// inspired from https://github.com/sindresorhus/serialize-error/blob/master/index.js\r\nvar serializeError = function (value) {\r\n    if (!value)\r\n        return value;\r\n    if (typeof value === \"object\") {\r\n        return destroyCircular(value, []);\r\n    }\r\n    if (typeof value === \"function\") {\r\n        return \"[Function: \" + (value.name || \"anonymous\") + \"]\";\r\n    }\r\n    return value;\r\n};\r\n// https://www.npmjs.com/package/destroy-circular\r\nfunction destroyCircular(from, seen) {\r\n    var to = {};\r\n    seen.push(from);\r\n    for (var _i = 0, _a = Object.keys(from); _i < _a.length; _i++) {\r\n        var key = _a[_i];\r\n        var value = from[key];\r\n        if (typeof value === \"function\") {\r\n            continue;\r\n        }\r\n        if (!value || typeof value !== \"object\") {\r\n            to[key] = value;\r\n            continue;\r\n        }\r\n        if (seen.indexOf(from[key]) === -1) {\r\n            to[key] = destroyCircular(from[key], seen.slice(0));\r\n            continue;\r\n        }\r\n        to[key] = \"[Circular]\";\r\n    }\r\n    if (typeof from.name === \"string\") {\r\n        to.name = from.name;\r\n    }\r\n    if (typeof from.message === \"string\") {\r\n        to.message = from.message;\r\n    }\r\n    if (typeof from.stack === \"string\") {\r\n        to.stack = from.stack;\r\n    }\r\n    return to;\r\n}\n\nvar AccountNameRequiredError = createCustomErrorClass(\"AccountNameRequired\");\r\nvar AccountNotSupported = createCustomErrorClass(\"AccountNotSupported\");\r\nvar AmountRequired = createCustomErrorClass(\"AmountRequired\");\r\nvar BluetoothRequired = createCustomErrorClass(\"BluetoothRequired\");\r\nvar BtcUnmatchedApp = createCustomErrorClass(\"BtcUnmatchedApp\");\r\nvar CantOpenDevice = createCustomErrorClass(\"CantOpenDevice\");\r\nvar CashAddrNotSupported = createCustomErrorClass(\"CashAddrNotSupported\");\r\nvar CurrencyNotSupported = createCustomErrorClass(\"CurrencyNotSupported\");\r\nvar DeviceAppVerifyNotSupported = createCustomErrorClass(\"DeviceAppVerifyNotSupported\");\r\nvar DeviceGenuineSocketEarlyClose = createCustomErrorClass(\"DeviceGenuineSocketEarlyClose\");\r\nvar DeviceNotGenuineError = createCustomErrorClass(\"DeviceNotGenuine\");\r\nvar DeviceOnDashboardExpected = createCustomErrorClass(\"DeviceOnDashboardExpected\");\r\nvar DeviceOnDashboardUnexpected = createCustomErrorClass(\"DeviceOnDashboardUnexpected\");\r\nvar DeviceInOSUExpected = createCustomErrorClass(\"DeviceInOSUExpected\");\r\nvar DeviceHalted = createCustomErrorClass(\"DeviceHalted\");\r\nvar DeviceNameInvalid = createCustomErrorClass(\"DeviceNameInvalid\");\r\nvar DeviceSocketFail = createCustomErrorClass(\"DeviceSocketFail\");\r\nvar DeviceSocketNoBulkStatus = createCustomErrorClass(\"DeviceSocketNoBulkStatus\");\r\nvar DisconnectedDevice = createCustomErrorClass(\"DisconnectedDevice\");\r\nvar DisconnectedDeviceDuringOperation = createCustomErrorClass(\"DisconnectedDeviceDuringOperation\");\r\nvar EnpointConfigError = createCustomErrorClass(\"EnpointConfig\");\r\nvar EthAppPleaseEnableContractData = createCustomErrorClass(\"EthAppPleaseEnableContractData\");\r\nvar FeeEstimationFailed = createCustomErrorClass(\"FeeEstimationFailed\");\r\nvar FirmwareNotRecognized = createCustomErrorClass(\"FirmwareNotRecognized\");\r\nvar HardResetFail = createCustomErrorClass(\"HardResetFail\");\r\nvar InvalidXRPTag = createCustomErrorClass(\"InvalidXRPTag\");\r\nvar InvalidAddress = createCustomErrorClass(\"InvalidAddress\");\r\nvar InvalidAddressBecauseDestinationIsAlsoSource = createCustomErrorClass(\"InvalidAddressBecauseDestinationIsAlsoSource\");\r\nvar LatestMCUInstalledError = createCustomErrorClass(\"LatestMCUInstalledError\");\r\nvar UnknownMCU = createCustomErrorClass(\"UnknownMCU\");\r\nvar LedgerAPIError = createCustomErrorClass(\"LedgerAPIError\");\r\nvar LedgerAPIErrorWithMessage = createCustomErrorClass(\"LedgerAPIErrorWithMessage\");\r\nvar LedgerAPINotAvailable = createCustomErrorClass(\"LedgerAPINotAvailable\");\r\nvar ManagerAppAlreadyInstalledError = createCustomErrorClass(\"ManagerAppAlreadyInstalled\");\r\nvar ManagerAppRelyOnBTCError = createCustomErrorClass(\"ManagerAppRelyOnBTC\");\r\nvar ManagerAppDepInstallRequired = createCustomErrorClass(\"ManagerAppDepInstallRequired\");\r\nvar ManagerAppDepUninstallRequired = createCustomErrorClass(\"ManagerAppDepUninstallRequired\");\r\nvar ManagerDeviceLockedError = createCustomErrorClass(\"ManagerDeviceLocked\");\r\nvar ManagerFirmwareNotEnoughSpaceError = createCustomErrorClass(\"ManagerFirmwareNotEnoughSpace\");\r\nvar ManagerNotEnoughSpaceError = createCustomErrorClass(\"ManagerNotEnoughSpace\");\r\nvar ManagerUninstallBTCDep = createCustomErrorClass(\"ManagerUninstallBTCDep\");\r\nvar NetworkDown = createCustomErrorClass(\"NetworkDown\");\r\nvar NoAddressesFound = createCustomErrorClass(\"NoAddressesFound\");\r\nvar NotEnoughBalance = createCustomErrorClass(\"NotEnoughBalance\");\r\nvar NotEnoughBalanceToDelegate = createCustomErrorClass(\"NotEnoughBalanceToDelegate\");\r\nvar NotEnoughBalanceInParentAccount = createCustomErrorClass(\"NotEnoughBalanceInParentAccount\");\r\nvar NotEnoughSpendableBalance = createCustomErrorClass(\"NotEnoughSpendableBalance\");\r\nvar NotEnoughBalanceBecauseDestinationNotCreated = createCustomErrorClass(\"NotEnoughBalanceBecauseDestinationNotCreated\");\r\nvar NoAccessToCamera = createCustomErrorClass(\"NoAccessToCamera\");\r\nvar NotEnoughGas = createCustomErrorClass(\"NotEnoughGas\");\r\nvar NotSupportedLegacyAddress = createCustomErrorClass(\"NotSupportedLegacyAddress\");\r\nvar GasLessThanEstimate = createCustomErrorClass(\"GasLessThanEstimate\");\r\nvar PasswordsDontMatchError = createCustomErrorClass(\"PasswordsDontMatch\");\r\nvar PasswordIncorrectError = createCustomErrorClass(\"PasswordIncorrect\");\r\nvar RecommendSubAccountsToEmpty = createCustomErrorClass(\"RecommendSubAccountsToEmpty\");\r\nvar RecommendUndelegation = createCustomErrorClass(\"RecommendUndelegation\");\r\nvar TimeoutTagged = createCustomErrorClass(\"TimeoutTagged\");\r\nvar UnexpectedBootloader = createCustomErrorClass(\"UnexpectedBootloader\");\r\nvar MCUNotGenuineToDashboard = createCustomErrorClass(\"MCUNotGenuineToDashboard\");\r\nvar RecipientRequired = createCustomErrorClass(\"RecipientRequired\");\r\nvar UnavailableTezosOriginatedAccountReceive = createCustomErrorClass(\"UnavailableTezosOriginatedAccountReceive\");\r\nvar UnavailableTezosOriginatedAccountSend = createCustomErrorClass(\"UnavailableTezosOriginatedAccountSend\");\r\nvar UpdateFetchFileFail = createCustomErrorClass(\"UpdateFetchFileFail\");\r\nvar UpdateIncorrectHash = createCustomErrorClass(\"UpdateIncorrectHash\");\r\nvar UpdateIncorrectSig = createCustomErrorClass(\"UpdateIncorrectSig\");\r\nvar UpdateYourApp = createCustomErrorClass(\"UpdateYourApp\");\r\nvar UserRefusedDeviceNameChange = createCustomErrorClass(\"UserRefusedDeviceNameChange\");\r\nvar UserRefusedAddress = createCustomErrorClass(\"UserRefusedAddress\");\r\nvar UserRefusedFirmwareUpdate = createCustomErrorClass(\"UserRefusedFirmwareUpdate\");\r\nvar UserRefusedAllowManager = createCustomErrorClass(\"UserRefusedAllowManager\");\r\nvar UserRefusedOnDevice = createCustomErrorClass(\"UserRefusedOnDevice\"); // TODO rename because it's just for transaction refusal\r\nvar TransportOpenUserCancelled = createCustomErrorClass(\"TransportOpenUserCancelled\");\r\nvar TransportInterfaceNotAvailable = createCustomErrorClass(\"TransportInterfaceNotAvailable\");\r\nvar TransportRaceCondition = createCustomErrorClass(\"TransportRaceCondition\");\r\nvar TransportWebUSBGestureRequired = createCustomErrorClass(\"TransportWebUSBGestureRequired\");\r\nvar DeviceShouldStayInApp = createCustomErrorClass(\"DeviceShouldStayInApp\");\r\nvar WebsocketConnectionError = createCustomErrorClass(\"WebsocketConnectionError\");\r\nvar WebsocketConnectionFailed = createCustomErrorClass(\"WebsocketConnectionFailed\");\r\nvar WrongDeviceForAccount = createCustomErrorClass(\"WrongDeviceForAccount\");\r\nvar WrongAppForCurrency = createCustomErrorClass(\"WrongAppForCurrency\");\r\nvar ETHAddressNonEIP = createCustomErrorClass(\"ETHAddressNonEIP\");\r\nvar CantScanQRCode = createCustomErrorClass(\"CantScanQRCode\");\r\nvar FeeNotLoaded = createCustomErrorClass(\"FeeNotLoaded\");\r\nvar FeeRequired = createCustomErrorClass(\"FeeRequired\");\r\nvar FeeTooHigh = createCustomErrorClass(\"FeeTooHigh\");\r\nvar SyncError = createCustomErrorClass(\"SyncError\");\r\nvar PairingFailed = createCustomErrorClass(\"PairingFailed\");\r\nvar GenuineCheckFailed = createCustomErrorClass(\"GenuineCheckFailed\");\r\nvar LedgerAPI4xx = createCustomErrorClass(\"LedgerAPI4xx\");\r\nvar LedgerAPI5xx = createCustomErrorClass(\"LedgerAPI5xx\");\r\nvar FirmwareOrAppUpdateRequired = createCustomErrorClass(\"FirmwareOrAppUpdateRequired\");\r\n// db stuff, no need to translate\r\nvar NoDBPathGiven = createCustomErrorClass(\"NoDBPathGiven\");\r\nvar DBWrongPassword = createCustomErrorClass(\"DBWrongPassword\");\r\nvar DBNotReset = createCustomErrorClass(\"DBNotReset\");\r\n/**\r\n * TransportError is used for any generic transport errors.\r\n * e.g. Error thrown when data received by exchanges are incorrect or if exchanged failed to communicate with the device for various reason.\r\n */\r\nfunction TransportError(message, id) {\r\n    this.name = \"TransportError\";\r\n    this.message = message;\r\n    this.stack = new Error().stack;\r\n    this.id = id;\r\n}\r\nTransportError.prototype = new Error();\r\naddCustomErrorDeserializer(\"TransportError\", function (e) { return new TransportError(e.message, e.id); });\r\nvar StatusCodes = {\r\n    PIN_REMAINING_ATTEMPTS: 0x63c0,\r\n    INCORRECT_LENGTH: 0x6700,\r\n    MISSING_CRITICAL_PARAMETER: 0x6800,\r\n    COMMAND_INCOMPATIBLE_FILE_STRUCTURE: 0x6981,\r\n    SECURITY_STATUS_NOT_SATISFIED: 0x6982,\r\n    CONDITIONS_OF_USE_NOT_SATISFIED: 0x6985,\r\n    INCORRECT_DATA: 0x6a80,\r\n    NOT_ENOUGH_MEMORY_SPACE: 0x6a84,\r\n    REFERENCED_DATA_NOT_FOUND: 0x6a88,\r\n    FILE_ALREADY_EXISTS: 0x6a89,\r\n    INCORRECT_P1_P2: 0x6b00,\r\n    INS_NOT_SUPPORTED: 0x6d00,\r\n    CLA_NOT_SUPPORTED: 0x6e00,\r\n    TECHNICAL_PROBLEM: 0x6f00,\r\n    OK: 0x9000,\r\n    MEMORY_PROBLEM: 0x9240,\r\n    NO_EF_SELECTED: 0x9400,\r\n    INVALID_OFFSET: 0x9402,\r\n    FILE_NOT_FOUND: 0x9404,\r\n    INCONSISTENT_FILE: 0x9408,\r\n    ALGORITHM_NOT_SUPPORTED: 0x9484,\r\n    INVALID_KCV: 0x9485,\r\n    CODE_NOT_INITIALIZED: 0x9802,\r\n    ACCESS_CONDITION_NOT_FULFILLED: 0x9804,\r\n    CONTRADICTION_SECRET_CODE_STATUS: 0x9808,\r\n    CONTRADICTION_INVALIDATION: 0x9810,\r\n    CODE_BLOCKED: 0x9840,\r\n    MAX_VALUE_REACHED: 0x9850,\r\n    GP_AUTH_FAILED: 0x6300,\r\n    LICENSING: 0x6f42,\r\n    HALTED: 0x6faa,\r\n};\r\nfunction getAltStatusMessage(code) {\r\n    switch (code) {\r\n        // improve text of most common errors\r\n        case 0x6700:\r\n            return \"Incorrect length\";\r\n        case 0x6800:\r\n            return \"Missing critical parameter\";\r\n        case 0x6982:\r\n            return \"Security not satisfied (dongle locked or have invalid access rights)\";\r\n        case 0x6985:\r\n            return \"Condition of use not satisfied (denied by the user?)\";\r\n        case 0x6a80:\r\n            return \"Invalid data received\";\r\n        case 0x6b00:\r\n            return \"Invalid parameter received\";\r\n    }\r\n    if (0x6f00 <= code && code <= 0x6fff) {\r\n        return \"Internal error, please report\";\r\n    }\r\n}\r\n/**\r\n * Error thrown when a device returned a non success status.\r\n * the error.statusCode is one of the `StatusCodes` exported by this library.\r\n */\r\nfunction TransportStatusError(statusCode) {\r\n    this.name = \"TransportStatusError\";\r\n    var statusText = Object.keys(StatusCodes).find(function (k) { return StatusCodes[k] === statusCode; }) ||\r\n        \"UNKNOWN_ERROR\";\r\n    var smsg = getAltStatusMessage(statusCode) || statusText;\r\n    var statusCodeStr = statusCode.toString(16);\r\n    this.message = \"Ledger device: \" + smsg + \" (0x\" + statusCodeStr + \")\";\r\n    this.stack = new Error().stack;\r\n    this.statusCode = statusCode;\r\n    this.statusText = statusText;\r\n}\r\nTransportStatusError.prototype = new Error();\r\naddCustomErrorDeserializer(\"TransportStatusError\", function (e) { return new TransportStatusError(e.statusCode); });\n\nexport { AccountNameRequiredError, AccountNotSupported, AmountRequired, BluetoothRequired, BtcUnmatchedApp, CantOpenDevice, CantScanQRCode, CashAddrNotSupported, CurrencyNotSupported, DBNotReset, DBWrongPassword, DeviceAppVerifyNotSupported, DeviceGenuineSocketEarlyClose, DeviceHalted, DeviceInOSUExpected, DeviceNameInvalid, DeviceNotGenuineError, DeviceOnDashboardExpected, DeviceOnDashboardUnexpected, DeviceShouldStayInApp, DeviceSocketFail, DeviceSocketNoBulkStatus, DisconnectedDevice, DisconnectedDeviceDuringOperation, ETHAddressNonEIP, EnpointConfigError, EthAppPleaseEnableContractData, FeeEstimationFailed, FeeNotLoaded, FeeRequired, FeeTooHigh, FirmwareNotRecognized, FirmwareOrAppUpdateRequired, GasLessThanEstimate, GenuineCheckFailed, HardResetFail, InvalidAddress, InvalidAddressBecauseDestinationIsAlsoSource, InvalidXRPTag, LatestMCUInstalledError, LedgerAPI4xx, LedgerAPI5xx, LedgerAPIError, LedgerAPIErrorWithMessage, LedgerAPINotAvailable, MCUNotGenuineToDashboard, ManagerAppAlreadyInstalledError, ManagerAppDepInstallRequired, ManagerAppDepUninstallRequired, ManagerAppRelyOnBTCError, ManagerDeviceLockedError, ManagerFirmwareNotEnoughSpaceError, ManagerNotEnoughSpaceError, ManagerUninstallBTCDep, NetworkDown, NoAccessToCamera, NoAddressesFound, NoDBPathGiven, NotEnoughBalance, NotEnoughBalanceBecauseDestinationNotCreated, NotEnoughBalanceInParentAccount, NotEnoughBalanceToDelegate, NotEnoughGas, NotEnoughSpendableBalance, NotSupportedLegacyAddress, PairingFailed, PasswordIncorrectError, PasswordsDontMatchError, RecipientRequired, RecommendSubAccountsToEmpty, RecommendUndelegation, StatusCodes, SyncError, TimeoutTagged, TransportError, TransportInterfaceNotAvailable, TransportOpenUserCancelled, TransportRaceCondition, TransportStatusError, TransportWebUSBGestureRequired, UnavailableTezosOriginatedAccountReceive, UnavailableTezosOriginatedAccountSend, UnexpectedBootloader, UnknownMCU, UpdateFetchFileFail, UpdateIncorrectHash, UpdateIncorrectSig, UpdateYourApp, UserRefusedAddress, UserRefusedAllowManager, UserRefusedDeviceNameChange, UserRefusedFirmwareUpdate, UserRefusedOnDevice, WebsocketConnectionError, WebsocketConnectionFailed, WrongAppForCurrency, WrongDeviceForAccount, addCustomErrorDeserializer, createCustomErrorClass, deserializeError, getAltStatusMessage, serializeError };\n","import Transport from \"@ledgerhq/hw-transport\";\nimport hidFraming from \"@ledgerhq/devices/lib/hid-framing\";\nimport { identifyUSBProductId } from \"@ledgerhq/devices\";\nimport { log } from \"@ledgerhq/logs\";\nimport { TransportOpenUserCancelled, TransportInterfaceNotAvailable, TransportWebUSBGestureRequired, DisconnectedDeviceDuringOperation, DisconnectedDevice } from \"@ledgerhq/errors\";\nimport { getLedgerDevices, getFirstLedgerDevice, requestLedgerDevice, isSupported } from \"./webusb\";\nconst configurationValue = 1;\nconst endpointNumber = 3;\n/**\n * WebUSB Transport implementation\n * @example\n * import TransportWebUSB from \"@ledgerhq/hw-transport-webusb\";\n * ...\n * TransportWebUSB.create().then(transport => ...)\n */\n\nexport default class TransportWebUSB extends Transport {\n  constructor(device, interfaceNumber) {\n    super();\n    this.device = void 0;\n    this.deviceModel = void 0;\n    this.channel = Math.floor(Math.random() * 0xffff);\n    this.packetSize = 64;\n    this.interfaceNumber = void 0;\n    this._disconnectEmitted = false;\n\n    this._emitDisconnect = e => {\n      if (this._disconnectEmitted) return;\n      this._disconnectEmitted = true;\n      this.emit(\"disconnect\", e);\n    };\n\n    this.exchange = apdu => this.exchangeAtomicImpl(async () => {\n      const {\n        channel,\n        packetSize\n      } = this;\n      log(\"apdu\", \"=> \" + apdu.toString(\"hex\"));\n      const framing = hidFraming(channel, packetSize); // Write...\n\n      const blocks = framing.makeBlocks(apdu);\n\n      for (let i = 0; i < blocks.length; i++) {\n        await this.device.transferOut(endpointNumber, blocks[i]);\n      } // Read...\n\n\n      let result;\n      let acc;\n\n      while (!(result = framing.getReducedResult(acc))) {\n        const r = await this.device.transferIn(endpointNumber, packetSize);\n        const buffer = Buffer.from(r.data.buffer);\n        acc = framing.reduceResponse(acc, buffer);\n      }\n\n      log(\"apdu\", \"<= \" + result.toString(\"hex\"));\n      return result;\n    }).catch(e => {\n      if (e && e.message && e.message.includes(\"disconnected\")) {\n        this._emitDisconnect(e);\n\n        throw new DisconnectedDeviceDuringOperation(e.message);\n      }\n\n      throw e;\n    });\n\n    this.device = device;\n    this.interfaceNumber = interfaceNumber;\n    this.deviceModel = identifyUSBProductId(device.productId);\n  }\n  /**\n   * Check if WebUSB transport is supported.\n   */\n\n\n  /**\n   * Similar to create() except it will always display the device permission (even if some devices are already accepted).\n   */\n  static async request() {\n    const device = await requestLedgerDevice();\n    return TransportWebUSB.open(device);\n  }\n  /**\n   * Similar to create() except it will never display the device permission (it returns a Promise<?Transport>, null if it fails to find a device).\n   */\n\n\n  static async openConnected() {\n    const devices = await getLedgerDevices();\n    if (devices.length === 0) return null;\n    return TransportWebUSB.open(devices[0]);\n  }\n  /**\n   * Create a Ledger transport with a USBDevice\n   */\n\n\n  static async open(device) {\n    await device.open();\n\n    if (device.configuration === null) {\n      await device.selectConfiguration(configurationValue);\n    }\n\n    await gracefullyResetDevice(device);\n    const iface = device.configurations[0].interfaces.find(({\n      alternates\n    }) => alternates.some(a => a.interfaceClass === 255));\n\n    if (!iface) {\n      throw new TransportInterfaceNotAvailable(\"No WebUSB interface found for your Ledger device. Please upgrade firmware or contact techsupport.\");\n    }\n\n    const interfaceNumber = iface.interfaceNumber;\n\n    try {\n      await device.claimInterface(interfaceNumber);\n    } catch (e) {\n      await device.close();\n      throw new TransportInterfaceNotAvailable(e.message);\n    }\n\n    const transport = new TransportWebUSB(device, interfaceNumber);\n\n    const onDisconnect = e => {\n      if (device === e.device) {\n        // $FlowFixMe\n        navigator.usb.removeEventListener(\"disconnect\", onDisconnect);\n\n        transport._emitDisconnect(new DisconnectedDevice());\n      }\n    }; // $FlowFixMe\n\n\n    navigator.usb.addEventListener(\"disconnect\", onDisconnect);\n    return transport;\n  }\n\n  /**\n   * Release the transport device\n   */\n  async close() {\n    await this.exchangeBusyPromise;\n    await this.device.releaseInterface(this.interfaceNumber);\n    await gracefullyResetDevice(this.device);\n    await this.device.close();\n  }\n  /**\n   * Exchange with the device using APDU protocol.\n   * @param apdu\n   * @returns a promise of apdu response\n   */\n\n\n  setScrambleKey() {}\n\n}\nTransportWebUSB.isSupported = isSupported;\nTransportWebUSB.list = getLedgerDevices;\n\nTransportWebUSB.listen = observer => {\n  let unsubscribed = false;\n  getFirstLedgerDevice().then(device => {\n    if (!unsubscribed) {\n      const deviceModel = identifyUSBProductId(device.productId);\n      observer.next({\n        type: \"add\",\n        descriptor: device,\n        deviceModel\n      });\n      observer.complete();\n    }\n  }, error => {\n    if (window.DOMException && error instanceof window.DOMException && error.code === 18) {\n      observer.error(new TransportWebUSBGestureRequired(error.message));\n    } else {\n      observer.error(new TransportOpenUserCancelled(error.message));\n    }\n  });\n\n  function unsubscribe() {\n    unsubscribed = true;\n  }\n\n  return {\n    unsubscribe\n  };\n};\n\nasync function gracefullyResetDevice(device) {\n  try {\n    await device.reset();\n  } catch (err) {\n    console.warn(err);\n  }\n}\n//# sourceMappingURL=TransportWebUSB.js.map","const Range = require('../classes/range')\nconst intersects = (r1, r2, options) => {\n  r1 = new Range(r1, options)\n  r2 = new Range(r2, options)\n  return r1.intersects(r2)\n}\nmodule.exports = intersects\n","/**\n * A Log object\n */\nlet id = 0;\nconst subscribers = [];\n/**\n * log something\n * @param type a namespaced identifier of the log (it is not a level like \"debug\", \"error\" but more like \"apdu-in\", \"apdu-out\", etc...)\n * @param message a clear message of the log associated to the type\n */\n\nexport const log = (type, message, data) => {\n  const obj = {\n    type,\n    id: String(++id),\n    date: new Date()\n  };\n  if (message) obj.message = message;\n  if (data) obj.data = data;\n  dispatch(obj);\n};\n/**\n * listen to logs.\n * @param cb that is called for each future log() with the Log object\n * @return a function that can be called to unsubscribe the listener\n */\n\nexport const listen = cb => {\n  subscribers.push(cb);\n  return () => {\n    const i = subscribers.indexOf(cb);\n\n    if (i !== -1) {\n      // equivalent of subscribers.splice(i, 1) // https://twitter.com/Rich_Harris/status/1125850391155965952\n      subscribers[i] = subscribers[subscribers.length - 1];\n      subscribers.pop();\n    }\n  };\n};\n\nfunction dispatch(log) {\n  for (let i = 0; i < subscribers.length; i++) {\n    try {\n      subscribers[i](log);\n    } catch (e) {\n      console.error(e);\n    }\n  }\n} // for debug purpose\n\n\nif (typeof window !== \"undefined\") {\n  window.__ledgerLogsListen = listen;\n}\n//# sourceMappingURL=index.js.map","const compare = require('./compare')\nconst compareLoose = (a, b) => compare(a, b, true)\nmodule.exports = compareLoose\n","const debug = require('../internal/debug')\nconst { MAX_LENGTH, MAX_SAFE_INTEGER } = require('../internal/constants')\nconst { re, t } = require('../internal/re')\n\nconst parseOptions = require('../internal/parse-options')\nconst { compareIdentifiers } = require('../internal/identifiers')\nclass SemVer {\n  constructor (version, options) {\n    options = parseOptions(options)\n\n    if (version instanceof SemVer) {\n      if (version.loose === !!options.loose &&\n          version.includePrerelease === !!options.includePrerelease) {\n        return version\n      } else {\n        version = version.version\n      }\n    } else if (typeof version !== 'string') {\n      throw new TypeError(`Invalid Version: ${version}`)\n    }\n\n    if (version.length > MAX_LENGTH) {\n      throw new TypeError(\n        `version is longer than ${MAX_LENGTH} characters`\n      )\n    }\n\n    debug('SemVer', version, options)\n    this.options = options\n    this.loose = !!options.loose\n    // this isn't actually relevant for versions, but keep it so that we\n    // don't run into trouble passing this.options around.\n    this.includePrerelease = !!options.includePrerelease\n\n    const m = version.trim().match(options.loose ? re[t.LOOSE] : re[t.FULL])\n\n    if (!m) {\n      throw new TypeError(`Invalid Version: ${version}`)\n    }\n\n    this.raw = version\n\n    // these are actually numbers\n    this.major = +m[1]\n    this.minor = +m[2]\n    this.patch = +m[3]\n\n    if (this.major > MAX_SAFE_INTEGER || this.major < 0) {\n      throw new TypeError('Invalid major version')\n    }\n\n    if (this.minor > MAX_SAFE_INTEGER || this.minor < 0) {\n      throw new TypeError('Invalid minor version')\n    }\n\n    if (this.patch > MAX_SAFE_INTEGER || this.patch < 0) {\n      throw new TypeError('Invalid patch version')\n    }\n\n    // numberify any prerelease numeric ids\n    if (!m[4]) {\n      this.prerelease = []\n    } else {\n      this.prerelease = m[4].split('.').map((id) => {\n        if (/^[0-9]+$/.test(id)) {\n          const num = +id\n          if (num >= 0 && num < MAX_SAFE_INTEGER) {\n            return num\n          }\n        }\n        return id\n      })\n    }\n\n    this.build = m[5] ? m[5].split('.') : []\n    this.format()\n  }\n\n  format () {\n    this.version = `${this.major}.${this.minor}.${this.patch}`\n    if (this.prerelease.length) {\n      this.version += `-${this.prerelease.join('.')}`\n    }\n    return this.version\n  }\n\n  toString () {\n    return this.version\n  }\n\n  compare (other) {\n    debug('SemVer.compare', this.version, this.options, other)\n    if (!(other instanceof SemVer)) {\n      if (typeof other === 'string' && other === this.version) {\n        return 0\n      }\n      other = new SemVer(other, this.options)\n    }\n\n    if (other.version === this.version) {\n      return 0\n    }\n\n    return this.compareMain(other) || this.comparePre(other)\n  }\n\n  compareMain (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    return (\n      compareIdentifiers(this.major, other.major) ||\n      compareIdentifiers(this.minor, other.minor) ||\n      compareIdentifiers(this.patch, other.patch)\n    )\n  }\n\n  comparePre (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    // NOT having a prerelease is > having one\n    if (this.prerelease.length && !other.prerelease.length) {\n      return -1\n    } else if (!this.prerelease.length && other.prerelease.length) {\n      return 1\n    } else if (!this.prerelease.length && !other.prerelease.length) {\n      return 0\n    }\n\n    let i = 0\n    do {\n      const a = this.prerelease[i]\n      const b = other.prerelease[i]\n      debug('prerelease compare', i, a, b)\n      if (a === undefined && b === undefined) {\n        return 0\n      } else if (b === undefined) {\n        return 1\n      } else if (a === undefined) {\n        return -1\n      } else if (a === b) {\n        continue\n      } else {\n        return compareIdentifiers(a, b)\n      }\n    } while (++i)\n  }\n\n  compareBuild (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    let i = 0\n    do {\n      const a = this.build[i]\n      const b = other.build[i]\n      debug('prerelease compare', i, a, b)\n      if (a === undefined && b === undefined) {\n        return 0\n      } else if (b === undefined) {\n        return 1\n      } else if (a === undefined) {\n        return -1\n      } else if (a === b) {\n        continue\n      } else {\n        return compareIdentifiers(a, b)\n      }\n    } while (++i)\n  }\n\n  // preminor will bump the version up to the next minor release, and immediately\n  // down to pre-release. premajor and prepatch work the same way.\n  inc (release, identifier) {\n    switch (release) {\n      case 'premajor':\n        this.prerelease.length = 0\n        this.patch = 0\n        this.minor = 0\n        this.major++\n        this.inc('pre', identifier)\n        break\n      case 'preminor':\n        this.prerelease.length = 0\n        this.patch = 0\n        this.minor++\n        this.inc('pre', identifier)\n        break\n      case 'prepatch':\n        // If this is already a prerelease, it will bump to the next version\n        // drop any prereleases that might already exist, since they are not\n        // relevant at this point.\n        this.prerelease.length = 0\n        this.inc('patch', identifier)\n        this.inc('pre', identifier)\n        break\n      // If the input is a non-prerelease version, this acts the same as\n      // prepatch.\n      case 'prerelease':\n        if (this.prerelease.length === 0) {\n          this.inc('patch', identifier)\n        }\n        this.inc('pre', identifier)\n        break\n\n      case 'major':\n        // If this is a pre-major version, bump up to the same major version.\n        // Otherwise increment major.\n        // 1.0.0-5 bumps to 1.0.0\n        // 1.1.0 bumps to 2.0.0\n        if (\n          this.minor !== 0 ||\n          this.patch !== 0 ||\n          this.prerelease.length === 0\n        ) {\n          this.major++\n        }\n        this.minor = 0\n        this.patch = 0\n        this.prerelease = []\n        break\n      case 'minor':\n        // If this is a pre-minor version, bump up to the same minor version.\n        // Otherwise increment minor.\n        // 1.2.0-5 bumps to 1.2.0\n        // 1.2.1 bumps to 1.3.0\n        if (this.patch !== 0 || this.prerelease.length === 0) {\n          this.minor++\n        }\n        this.patch = 0\n        this.prerelease = []\n        break\n      case 'patch':\n        // If this is not a pre-release version, it will increment the patch.\n        // If it is a pre-release it will bump up to the same patch version.\n        // 1.2.0-5 patches to 1.2.0\n        // 1.2.0 patches to 1.2.1\n        if (this.prerelease.length === 0) {\n          this.patch++\n        }\n        this.prerelease = []\n        break\n      // This probably shouldn't be used publicly.\n      // 1.0.0 'pre' would become 1.0.0-0 which is the wrong direction.\n      case 'pre':\n        if (this.prerelease.length === 0) {\n          this.prerelease = [0]\n        } else {\n          let i = this.prerelease.length\n          while (--i >= 0) {\n            if (typeof this.prerelease[i] === 'number') {\n              this.prerelease[i]++\n              i = -2\n            }\n          }\n          if (i === -1) {\n            // didn't increment anything\n            this.prerelease.push(0)\n          }\n        }\n        if (identifier) {\n          // 1.2.0-beta.1 bumps to 1.2.0-beta.2,\n          // 1.2.0-beta.fooblz or 1.2.0-beta bumps to 1.2.0-beta.0\n          if (this.prerelease[0] === identifier) {\n            if (isNaN(this.prerelease[1])) {\n              this.prerelease = [identifier, 0]\n            }\n          } else {\n            this.prerelease = [identifier, 0]\n          }\n        }\n        break\n\n      default:\n        throw new Error(`invalid increment argument: ${release}`)\n    }\n    this.format()\n    this.raw = this.version\n    return this\n  }\n}\n\nmodule.exports = SemVer\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./AddWallet.vue?vue&type=style&index=0&id=c36760ee&scoped=true&lang=css\"","const compare = require('./compare')\nconst eq = (a, b, loose) => compare(a, b, loose) === 0\nmodule.exports = eq\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _errors = require(\"@ledgerhq/errors\");\n\nconst Tag = 0x05;\n\nfunction asUInt16BE(value) {\n  const b = Buffer.alloc(2);\n  b.writeUInt16BE(value, 0);\n  return b;\n}\n\nconst initialAcc = {\n  data: Buffer.alloc(0),\n  dataLength: 0,\n  sequence: 0\n};\n/**\n *\n */\n\nconst createHIDframing = (channel, packetSize) => {\n  return {\n    makeBlocks(apdu) {\n      let data = Buffer.concat([asUInt16BE(apdu.length), apdu]);\n      const blockSize = packetSize - 5;\n      const nbBlocks = Math.ceil(data.length / blockSize);\n      data = Buffer.concat([data, // fill data with padding\n      Buffer.alloc(nbBlocks * blockSize - data.length + 1).fill(0)]);\n      const blocks = [];\n\n      for (let i = 0; i < nbBlocks; i++) {\n        const head = Buffer.alloc(5);\n        head.writeUInt16BE(channel, 0);\n        head.writeUInt8(Tag, 2);\n        head.writeUInt16BE(i, 3);\n        const chunk = data.slice(i * blockSize, (i + 1) * blockSize);\n        blocks.push(Buffer.concat([head, chunk]));\n      }\n\n      return blocks;\n    },\n\n    reduceResponse(acc, chunk) {\n      let {\n        data,\n        dataLength,\n        sequence\n      } = acc || initialAcc;\n\n      if (chunk.readUInt16BE(0) !== channel) {\n        throw new _errors.TransportError(\"Invalid channel\", \"InvalidChannel\");\n      }\n\n      if (chunk.readUInt8(2) !== Tag) {\n        throw new _errors.TransportError(\"Invalid tag\", \"InvalidTag\");\n      }\n\n      if (chunk.readUInt16BE(3) !== sequence) {\n        throw new _errors.TransportError(\"Invalid sequence\", \"InvalidSequence\");\n      }\n\n      if (!acc) {\n        dataLength = chunk.readUInt16BE(5);\n      }\n\n      sequence++;\n      const chunkData = chunk.slice(acc ? 5 : 7);\n      data = Buffer.concat([data, chunkData]);\n\n      if (data.length > dataLength) {\n        data = data.slice(0, dataLength);\n      }\n\n      return {\n        data,\n        dataLength,\n        sequence\n      };\n    },\n\n    getReducedResult(acc) {\n      if (acc && acc.dataLength === acc.data.length) {\n        return acc.data;\n      }\n    }\n\n  };\n};\n\nvar _default = createHIDframing;\nexports.default = _default;\n//# sourceMappingURL=hid-framing.js.map","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","const SemVer = require('../classes/semver')\nconst minor = (a, loose) => new SemVer(a, loose).minor\nmodule.exports = minor\n","// given a set of versions and a range, create a \"simplified\" range\n// that includes the same versions that the original range does\n// If the original range is shorter than the simplified one, return that.\nconst satisfies = require('../functions/satisfies.js')\nconst compare = require('../functions/compare.js')\nmodule.exports = (versions, range, options) => {\n  const set = []\n  let min = null\n  let prev = null\n  const v = versions.sort((a, b) => compare(a, b, options))\n  for (const version of v) {\n    const included = satisfies(version, range, options)\n    if (included) {\n      prev = version\n      if (!min)\n        min = version\n    } else {\n      if (prev) {\n        set.push([min, prev])\n      }\n      prev = null\n      min = null\n    }\n  }\n  if (min)\n    set.push([min, null])\n\n  const ranges = []\n  for (const [min, max] of set) {\n    if (min === max)\n      ranges.push(min)\n    else if (!max && min === v[0])\n      ranges.push('*')\n    else if (!max)\n      ranges.push(`>=${min}`)\n    else if (min === v[0])\n      ranges.push(`<=${max}`)\n    else\n      ranges.push(`${min} - ${max}`)\n  }\n  const simplified = ranges.join(' || ')\n  const original = typeof range.raw === 'string' ? range.raw : String(range)\n  return simplified.length < original.length ? simplified : range\n}\n","const compare = require('./compare')\nconst gte = (a, b, loose) => compare(a, b, loose) >= 0\nmodule.exports = gte\n","const eq = require('./eq')\nconst neq = require('./neq')\nconst gt = require('./gt')\nconst gte = require('./gte')\nconst lt = require('./lt')\nconst lte = require('./lte')\n\nconst cmp = (a, op, b, loose) => {\n  switch (op) {\n    case '===':\n      if (typeof a === 'object')\n        a = a.version\n      if (typeof b === 'object')\n        b = b.version\n      return a === b\n\n    case '!==':\n      if (typeof a === 'object')\n        a = a.version\n      if (typeof b === 'object')\n        b = b.version\n      return a !== b\n\n    case '':\n    case '=':\n    case '==':\n      return eq(a, b, loose)\n\n    case '!=':\n      return neq(a, b, loose)\n\n    case '>':\n      return gt(a, b, loose)\n\n    case '>=':\n      return gte(a, b, loose)\n\n    case '<':\n      return lt(a, b, loose)\n\n    case '<=':\n      return lte(a, b, loose)\n\n    default:\n      throw new TypeError(`Invalid operator: ${op}`)\n  }\n}\nmodule.exports = cmp\n","const Range = require('../classes/range')\nconst validRange = (range, options) => {\n  try {\n    // Return '*' instead of '' so that truthiness works.\n    // This will throw if it's invalid anyway\n    return new Range(range, options).range || '*'\n  } catch (er) {\n    return null\n  }\n}\nmodule.exports = validRange\n","const Range = require('../classes/range.js')\nconst Comparator = require('../classes/comparator.js')\nconst { ANY } = Comparator\nconst satisfies = require('../functions/satisfies.js')\nconst compare = require('../functions/compare.js')\n\n// Complex range `r1 || r2 || ...` is a subset of `R1 || R2 || ...` iff:\n// - Every simple range `r1, r2, ...` is a null set, OR\n// - Every simple range `r1, r2, ...` which is not a null set is a subset of\n//   some `R1, R2, ...`\n//\n// Simple range `c1 c2 ...` is a subset of simple range `C1 C2 ...` iff:\n// - If c is only the ANY comparator\n//   - If C is only the ANY comparator, return true\n//   - Else if in prerelease mode, return false\n//   - else replace c with `[>=0.0.0]`\n// - If C is only the ANY comparator\n//   - if in prerelease mode, return true\n//   - else replace C with `[>=0.0.0]`\n// - Let EQ be the set of = comparators in c\n// - If EQ is more than one, return true (null set)\n// - Let GT be the highest > or >= comparator in c\n// - Let LT be the lowest < or <= comparator in c\n// - If GT and LT, and GT.semver > LT.semver, return true (null set)\n// - If any C is a = range, and GT or LT are set, return false\n// - If EQ\n//   - If GT, and EQ does not satisfy GT, return true (null set)\n//   - If LT, and EQ does not satisfy LT, return true (null set)\n//   - If EQ satisfies every C, return true\n//   - Else return false\n// - If GT\n//   - If GT.semver is lower than any > or >= comp in C, return false\n//   - If GT is >=, and GT.semver does not satisfy every C, return false\n//   - If GT.semver has a prerelease, and not in prerelease mode\n//     - If no C has a prerelease and the GT.semver tuple, return false\n// - If LT\n//   - If LT.semver is greater than any < or <= comp in C, return false\n//   - If LT is <=, and LT.semver does not satisfy every C, return false\n//   - If GT.semver has a prerelease, and not in prerelease mode\n//     - If no C has a prerelease and the LT.semver tuple, return false\n// - Else return true\n\nconst subset = (sub, dom, options = {}) => {\n  if (sub === dom)\n    return true\n\n  sub = new Range(sub, options)\n  dom = new Range(dom, options)\n  let sawNonNull = false\n\n  OUTER: for (const simpleSub of sub.set) {\n    for (const simpleDom of dom.set) {\n      const isSub = simpleSubset(simpleSub, simpleDom, options)\n      sawNonNull = sawNonNull || isSub !== null\n      if (isSub)\n        continue OUTER\n    }\n    // the null set is a subset of everything, but null simple ranges in\n    // a complex range should be ignored.  so if we saw a non-null range,\n    // then we know this isn't a subset, but if EVERY simple range was null,\n    // then it is a subset.\n    if (sawNonNull)\n      return false\n  }\n  return true\n}\n\nconst simpleSubset = (sub, dom, options) => {\n  if (sub === dom)\n    return true\n\n  if (sub.length === 1 && sub[0].semver === ANY) {\n    if (dom.length === 1 && dom[0].semver === ANY)\n      return true\n    else if (options.includePrerelease)\n      sub = [ new Comparator('>=0.0.0-0') ]\n    else\n      sub = [ new Comparator('>=0.0.0') ]\n  }\n\n  if (dom.length === 1 && dom[0].semver === ANY) {\n    if (options.includePrerelease)\n      return true\n    else\n      dom = [ new Comparator('>=0.0.0') ]\n  }\n\n  const eqSet = new Set()\n  let gt, lt\n  for (const c of sub) {\n    if (c.operator === '>' || c.operator === '>=')\n      gt = higherGT(gt, c, options)\n    else if (c.operator === '<' || c.operator === '<=')\n      lt = lowerLT(lt, c, options)\n    else\n      eqSet.add(c.semver)\n  }\n\n  if (eqSet.size > 1)\n    return null\n\n  let gtltComp\n  if (gt && lt) {\n    gtltComp = compare(gt.semver, lt.semver, options)\n    if (gtltComp > 0)\n      return null\n    else if (gtltComp === 0 && (gt.operator !== '>=' || lt.operator !== '<='))\n      return null\n  }\n\n  // will iterate one or zero times\n  for (const eq of eqSet) {\n    if (gt && !satisfies(eq, String(gt), options))\n      return null\n\n    if (lt && !satisfies(eq, String(lt), options))\n      return null\n\n    for (const c of dom) {\n      if (!satisfies(eq, String(c), options))\n        return false\n    }\n\n    return true\n  }\n\n  let higher, lower\n  let hasDomLT, hasDomGT\n  // if the subset has a prerelease, we need a comparator in the superset\n  // with the same tuple and a prerelease, or it's not a subset\n  let needDomLTPre = lt &&\n    !options.includePrerelease &&\n    lt.semver.prerelease.length ? lt.semver : false\n  let needDomGTPre = gt &&\n    !options.includePrerelease &&\n    gt.semver.prerelease.length ? gt.semver : false\n  // exception: <1.2.3-0 is the same as <1.2.3\n  if (needDomLTPre && needDomLTPre.prerelease.length === 1 &&\n      lt.operator === '<' && needDomLTPre.prerelease[0] === 0) {\n    needDomLTPre = false\n  }\n\n  for (const c of dom) {\n    hasDomGT = hasDomGT || c.operator === '>' || c.operator === '>='\n    hasDomLT = hasDomLT || c.operator === '<' || c.operator === '<='\n    if (gt) {\n      if (needDomGTPre) {\n        if (c.semver.prerelease && c.semver.prerelease.length &&\n            c.semver.major === needDomGTPre.major &&\n            c.semver.minor === needDomGTPre.minor &&\n            c.semver.patch === needDomGTPre.patch) {\n          needDomGTPre = false\n        }\n      }\n      if (c.operator === '>' || c.operator === '>=') {\n        higher = higherGT(gt, c, options)\n        if (higher === c && higher !== gt)\n          return false\n      } else if (gt.operator === '>=' && !satisfies(gt.semver, String(c), options))\n        return false\n    }\n    if (lt) {\n      if (needDomLTPre) {\n        if (c.semver.prerelease && c.semver.prerelease.length &&\n            c.semver.major === needDomLTPre.major &&\n            c.semver.minor === needDomLTPre.minor &&\n            c.semver.patch === needDomLTPre.patch) {\n          needDomLTPre = false\n        }\n      }\n      if (c.operator === '<' || c.operator === '<=') {\n        lower = lowerLT(lt, c, options)\n        if (lower === c && lower !== lt)\n          return false\n      } else if (lt.operator === '<=' && !satisfies(lt.semver, String(c), options))\n        return false\n    }\n    if (!c.operator && (lt || gt) && gtltComp !== 0)\n      return false\n  }\n\n  // if there was a < or >, and nothing in the dom, then must be false\n  // UNLESS it was limited by another range in the other direction.\n  // Eg, >1.0.0 <1.0.1 is still a subset of <2.0.0\n  if (gt && hasDomLT && !lt && gtltComp !== 0)\n    return false\n\n  if (lt && hasDomGT && !gt && gtltComp !== 0)\n    return false\n\n  // we needed a prerelease range in a specific tuple, but didn't get one\n  // then this isn't a subset.  eg >=1.2.3-pre is not a subset of >=1.0.0,\n  // because it includes prereleases in the 1.2.3 tuple\n  if (needDomGTPre || needDomLTPre)\n    return false\n\n  return true\n}\n\n// >=1.2.3 is lower than >1.2.3\nconst higherGT = (a, b, options) => {\n  if (!a)\n    return b\n  const comp = compare(a.semver, b.semver, options)\n  return comp > 0 ? a\n    : comp < 0 ? b\n    : b.operator === '>' && a.operator === '>=' ? b\n    : a\n}\n\n// <=1.2.3 is higher than <1.2.3\nconst lowerLT = (a, b, options) => {\n  if (!a)\n    return b\n  const comp = compare(a.semver, b.semver, options)\n  return comp < 0 ? a\n    : comp > 0 ? b\n    : b.operator === '<' && a.operator === '<=' ? b\n    : a\n}\n\nmodule.exports = subset\n","import EventEmitter from \"events\";\nimport { TransportRaceCondition, TransportError, StatusCodes, getAltStatusMessage, TransportStatusError } from \"@ledgerhq/errors\";\nexport { TransportError, TransportStatusError, StatusCodes, getAltStatusMessage };\n/**\n */\n\n/**\n * Transport defines the generic interface to share between node/u2f impl\n * A **Descriptor** is a parametric type that is up to be determined for the implementation.\n * it can be for instance an ID, an file path, a URL,...\n */\nexport default class Transport {\n  constructor() {\n    this.exchangeTimeout = 30000;\n    this.unresponsiveTimeout = 15000;\n    this.deviceModel = null;\n    this._events = new EventEmitter();\n\n    this.send = async (cla, ins, p1, p2, data = Buffer.alloc(0), statusList = [StatusCodes.OK]) => {\n      if (data.length >= 256) {\n        throw new TransportError(\"data.length exceed 256 bytes limit. Got: \" + data.length, \"DataLengthTooBig\");\n      }\n\n      const response = await this.exchange(Buffer.concat([Buffer.from([cla, ins, p1, p2]), Buffer.from([data.length]), data]));\n      const sw = response.readUInt16BE(response.length - 2);\n\n      if (!statusList.some(s => s === sw)) {\n        throw new TransportStatusError(sw);\n      }\n\n      return response;\n    };\n\n    this.exchangeBusyPromise = void 0;\n\n    this.exchangeAtomicImpl = async f => {\n      if (this.exchangeBusyPromise) {\n        throw new TransportRaceCondition(\"An action was already pending on the Ledger device. Please deny or reconnect.\");\n      }\n\n      let resolveBusy;\n      const busyPromise = new Promise(r => {\n        resolveBusy = r;\n      });\n      this.exchangeBusyPromise = busyPromise;\n      let unresponsiveReached = false;\n      const timeout = setTimeout(() => {\n        unresponsiveReached = true;\n        this.emit(\"unresponsive\");\n      }, this.unresponsiveTimeout);\n\n      try {\n        const res = await f();\n\n        if (unresponsiveReached) {\n          this.emit(\"responsive\");\n        }\n\n        return res;\n      } finally {\n        clearTimeout(timeout);\n        if (resolveBusy) resolveBusy();\n        this.exchangeBusyPromise = null;\n      }\n    };\n\n    this._appAPIlock = null;\n  }\n\n  /**\n   * low level api to communicate with the device\n   * This method is for implementations to implement but should not be directly called.\n   * Instead, the recommanded way is to use send() method\n   * @param apdu the data to send\n   * @return a Promise of response data\n   */\n  exchange(_apdu) {\n    throw new Error(\"exchange not implemented\");\n  }\n  /**\n   * set the \"scramble key\" for the next exchanges with the device.\n   * Each App can have a different scramble key and they internally will set it at instanciation.\n   * @param key the scramble key\n   */\n\n\n  setScrambleKey(_key) {}\n  /**\n   * close the exchange with the device.\n   * @return a Promise that ends when the transport is closed.\n   */\n\n\n  close() {\n    return Promise.resolve();\n  }\n\n  /**\n   * Listen to an event on an instance of transport.\n   * Transport implementation can have specific events. Here is the common events:\n   * * `\"disconnect\"` : triggered if Transport is disconnected\n   */\n  on(eventName, cb) {\n    this._events.on(eventName, cb);\n  }\n  /**\n   * Stop listening to an event on an instance of transport.\n   */\n\n\n  off(eventName, cb) {\n    this._events.removeListener(eventName, cb);\n  }\n\n  emit(event, ...args) {\n    this._events.emit(event, ...args);\n  }\n  /**\n   * Enable or not logs of the binary exchange\n   */\n\n\n  setDebugMode() {\n    console.warn(\"setDebugMode is deprecated. use @ledgerhq/logs instead. No logs are emitted in this anymore.\");\n  }\n  /**\n   * Set a timeout (in milliseconds) for the exchange call. Only some transport might implement it. (e.g. U2F)\n   */\n\n\n  setExchangeTimeout(exchangeTimeout) {\n    this.exchangeTimeout = exchangeTimeout;\n  }\n  /**\n   * Define the delay before emitting \"unresponsive\" on an exchange that does not respond\n   */\n\n\n  setExchangeUnresponsiveTimeout(unresponsiveTimeout) {\n    this.unresponsiveTimeout = unresponsiveTimeout;\n  }\n  /**\n   * wrapper on top of exchange to simplify work of the implementation.\n   * @param cla\n   * @param ins\n   * @param p1\n   * @param p2\n   * @param data\n   * @param statusList is a list of accepted status code (shorts). [0x9000] by default\n   * @return a Promise of response buffer\n   */\n\n\n  /**\n   * create() allows to open the first descriptor available or\n   * throw if there is none or if timeout is reached.\n   * This is a light helper, alternative to using listen() and open() (that you may need for any more advanced usecase)\n   * @example\n  TransportFoo.create().then(transport => ...)\n   */\n  static create(openTimeout = 3000, listenTimeout) {\n    return new Promise((resolve, reject) => {\n      let found = false;\n      const sub = this.listen({\n        next: e => {\n          found = true;\n          if (sub) sub.unsubscribe();\n          if (listenTimeoutId) clearTimeout(listenTimeoutId);\n          this.open(e.descriptor, openTimeout).then(resolve, reject);\n        },\n        error: e => {\n          if (listenTimeoutId) clearTimeout(listenTimeoutId);\n          reject(e);\n        },\n        complete: () => {\n          if (listenTimeoutId) clearTimeout(listenTimeoutId);\n\n          if (!found) {\n            reject(new TransportError(this.ErrorMessage_NoDeviceFound, \"NoDeviceFound\"));\n          }\n        }\n      });\n      const listenTimeoutId = listenTimeout ? setTimeout(() => {\n        sub.unsubscribe();\n        reject(new TransportError(this.ErrorMessage_ListenTimeout, \"ListenTimeout\"));\n      }, listenTimeout) : null;\n    });\n  }\n\n  decorateAppAPIMethods(self, methods, scrambleKey) {\n    for (let methodName of methods) {\n      self[methodName] = this.decorateAppAPIMethod(methodName, self[methodName], self, scrambleKey);\n    }\n  }\n\n  decorateAppAPIMethod(methodName, f, ctx, scrambleKey) {\n    return async (...args) => {\n      const {\n        _appAPIlock\n      } = this;\n\n      if (_appAPIlock) {\n        return Promise.reject(new TransportError(\"Ledger Device is busy (lock \" + _appAPIlock + \")\", \"TransportLocked\"));\n      }\n\n      try {\n        this._appAPIlock = methodName;\n        this.setScrambleKey(scrambleKey);\n        return await f.apply(ctx, args);\n      } finally {\n        this._appAPIlock = null;\n      }\n    };\n  }\n\n}\nTransport.isSupported = void 0;\nTransport.list = void 0;\nTransport.listen = void 0;\nTransport.open = void 0;\nTransport.ErrorMessage_ListenTimeout = \"No Ledger device found (timeout)\";\nTransport.ErrorMessage_NoDeviceFound = \"No Ledger device found\";\n//# sourceMappingURL=Transport.js.map","const SemVer = require('../classes/semver')\nconst Range = require('../classes/range')\nconst gt = require('../functions/gt')\n\nconst minVersion = (range, loose) => {\n  range = new Range(range, loose)\n\n  let minver = new SemVer('0.0.0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = new SemVer('0.0.0-0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = null\n  for (let i = 0; i < range.set.length; ++i) {\n    const comparators = range.set[i]\n\n    let setMin = null\n    comparators.forEach((comparator) => {\n      // Clone to avoid manipulating the comparator's semver object.\n      const compver = new SemVer(comparator.semver.version)\n      switch (comparator.operator) {\n        case '>':\n          if (compver.prerelease.length === 0) {\n            compver.patch++\n          } else {\n            compver.prerelease.push(0)\n          }\n          compver.raw = compver.format()\n          /* fallthrough */\n        case '':\n        case '>=':\n          if (!setMin || gt(compver, setMin)) {\n            setMin = compver\n          }\n          break\n        case '<':\n        case '<=':\n          /* Ignore maximum versions */\n          break\n        /* istanbul ignore next */\n        default:\n          throw new Error(`Unexpected operation: ${comparator.operator}`)\n      }\n    })\n    if (setMin && (!minver || gt(minver, setMin)))\n      minver = setMin\n  }\n\n  if (minver && range.test(minver)) {\n    return minver\n  }\n\n  return null\n}\nmodule.exports = minVersion\n","const compareBuild = require('./compare-build')\nconst rsort = (list, loose) => list.sort((a, b) => compareBuild(b, a, loose))\nmodule.exports = rsort\n","const numeric = /^[0-9]+$/\nconst compareIdentifiers = (a, b) => {\n  const anum = numeric.test(a)\n  const bnum = numeric.test(b)\n\n  if (anum && bnum) {\n    a = +a\n    b = +b\n  }\n\n  return a === b ? 0\n    : (anum && !bnum) ? -1\n    : (bnum && !anum) ? 1\n    : a < b ? -1\n    : 1\n}\n\nconst rcompareIdentifiers = (a, b) => compareIdentifiers(b, a)\n\nmodule.exports = {\n  compareIdentifiers,\n  rcompareIdentifiers\n}\n","const SemVer = require('../classes/semver')\nconst Range = require('../classes/range')\nconst minSatisfying = (versions, range, options) => {\n  let min = null\n  let minSV = null\n  let rangeObj = null\n  try {\n    rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach((v) => {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!min || minSV.compare(v) === 1) {\n        // compare(min, v, true)\n        min = v\n        minSV = new SemVer(min, options)\n      }\n    }\n  })\n  return min\n}\nmodule.exports = minSatisfying\n"],"sourceRoot":""}