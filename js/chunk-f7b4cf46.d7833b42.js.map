{"version":3,"sources":["webpack:///./src/views/Tx.vue?b1cc","webpack:///./src/views/Tx.vue","webpack:///./src/views/Tx.vue?3604"],"names":["class","style","key","tx","left","id","data","size","isPending","block","date","humanFileSize","ar","fee","address","owner","quantity","recipient","schema","buildTagsSchema","tags","handler","name","verticalContent","appear","src","ArweaveStore","gatewayURL","loaded","payload","components","FoldingLayout","Address","AddressIcon","InputGrid","Ar","LocaleCurrency","props","txId","String","setup","isData","value","dateObj","Date","timestamp","toLocaleDateString","undefined","year","month","day","toLocaleTimeString","InterfaceStore","breakpoints","type","split","console","log","transactions","getData","decode","string","JSON","stringify","parse","immediate","result","tag","push","items","attrs","disabled","icon","render","__scopeId"],"mappings":"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","file":"js/chunk-f7b4cf46.d7833b42.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Tx.vue?vue&type=style&index=0&id=3ba146ca&scoped=true&lang=css\"","<template>\n\t<FoldingLayout v-if=\"tx\">\n\t\t<template #left>\n\t\t\t<div class=\"meta\">\n\n\t\t\t\t<h3>ID</h3>\n\t\t\t\t<div>{{ tx.id }}</div>\n\t\t\t\t<div v-if=\"tx.data.size > 0\">Link</div>\n\t\t\t\t<br>\n\n\t\t\t\t<h3>Block</h3>\n\t\t\t\t<div>{{ !isPending ? tx.block.id : 'Pending' }}</div>\n\t\t\t\t<div>{{ date }}</div>\n\t\t\t\t<br>\n\n\t\t\t\t<h3>Data</h3>\n\t\t\t\t<div>Data size {{ humanFileSize(tx.data.size) }}</div>\n\t\t\t\t<div>Fee\n\t\t\t\t\t<Ar class=\"ar\" :ar=\"tx.fee.ar\" />&nbsp;<LocaleCurrency class=\"small\" :ar=\"tx.fee.ar\">|</LocaleCurrency>\n\t\t\t\t</div>\n\t\t\t\t<br>\n\n\t\t\t\t<h3>Transaction</h3>\n\t\t\t\t<div class=\"row\">\n\t\t\t\t\t<div class=\"item\">\n\t\t\t\t\t\tFrom\n\t\t\t\t\t\t<AddressIcon :address=\"tx.owner.address\" />\n\t\t\t\t\t\t<Address class=\"small\" :address=\"tx.owner.address\" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"item\">\n\t\t\t\t\t\t<div><Ar class=\"ar\" :ar=\"tx.quantity.ar\" />&nbsp;<LocaleCurrency class=\"small\" :ar=\"tx.quantity.ar\">|</LocaleCurrency></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"item\">\n\t\t\t\t\t\tTo\n\t\t\t\t\t\t<AddressIcon :address=\"tx.recipient\" />\n\t\t\t\t\t\t<Address class=\"small\" :address=\"tx.recipient\" />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<br>\n\n\t\t\t\t<h3>Tags</h3>\n\t\t\t\t<div style=\"background: var(--background2);\">\n\t\t\t\t\t<InputGrid :schema=\"buildTagsSchema(tx.tags)\" />\n\t\t\t\t</div>\n\t\t\t\t<br>\n\n\t\t\t</div>\n\t\t</template>\n\t\t<template #right v-if=\"data.handler\">\n\t\t\t<transition :name=\"verticalContent ? 'slide-up' : 'slide-left'\" appear>\n\t\t\t\t<div v-if=\"data.handler === 'iframe'\" v-show=\"data.loaded\" key=\"iframe\" class=\"frame-container\">\n\t\t\t\t\t<iframe class=\"iframe\" :src=\"ArweaveStore.gatewayURL + tx.id\" @load=\"data.loaded=true\" />\n\t\t\t\t</div>\n\t\t\t\t<div v-else-if=\"data.handler === 'img'\" v-show=\"data.loaded\" key=\"img\" class=\"frame-container\">\n\t\t\t\t\t<img class=\"img\" :src=\"ArweaveStore.gatewayURL + tx.id\" @load=\"data.loaded=true\">\n\t\t\t\t</div>\n\t\t\t\t<div v-else-if=\"data.handler === 'json'\" key=\"json\" class=\"card-container\">\n\t\t\t\t\t<pre class=\"raw card\">{{ data.payload }}</pre>\n\t\t\t\t</div>\n\t\t\t\t<div v-else-if=\"data.handler === 'raw'\" key=\"raw\" class=\"card-container\">\n\t\t\t\t\t<div class=\"raw card\">{{ data.payload }}</div>\n\t\t\t\t</div>\n\t\t\t</transition>\n\t\t</template>\n\t</FoldingLayout>\n</template>\n\n<script>\nimport FoldingLayout from '@/components/FoldingLayout.vue'\nimport Address from '@/components/atomic/Address'\nimport AddressIcon from '@/components/atomic/AddressIcon'\nimport InputGrid from '@/components/atomic/InputGrid.vue'\nimport Ar from '@/components/atomic/Ar.vue'\nimport LocaleCurrency from '@/components/atomic/LocaleCurrency.vue'\nimport ArweaveStore, { arweave, getTxById } from '@/store/ArweaveStore'\nimport InterfaceStore from '@/store/InterfaceStore'\nimport { humanFileSize } from '@/functions/Utils'\nimport { reactive, watch, computed, ref } from 'vue'\n\nexport default {\n\tcomponents: { FoldingLayout, Address, AddressIcon, InputGrid, Ar, LocaleCurrency },\n\tprops: {\n\t\ttxId: String,\n\t},\n\tsetup (props) {\n\t\tconst tx = ref(null)\n\t\tconst data = reactive({\n\t\t\tpayload: null,\n\t\t\thandler: null,\n\t\t\tloaded: false,\n\t\t})\n\n\t\tconst isData = computed(() => tx.value.data?.size !== '0')\n\t\tconst isPending = computed(() => !tx.value.block)\n\t\tconst date = computed(() => {\n\t\t\tif (isPending.value) { return '' }\n\t\t\tconst dateObj = new Date(tx.value.block.timestamp * 1000)\n\t\t\treturn dateObj.toLocaleDateString(undefined, { year: 'numeric', month: 'long', day: 'numeric' })\n\t\t\t\t+ ' ' + dateObj.toLocaleTimeString()\n\t\t})\n\t\tconst verticalContent = computed(() => InterfaceStore.breakpoints.verticalContent)\n\n\t\twatch(() => props.txId, async () => {\n\t\t\ttx.value = await getTxById(props.txId)\n\t\t\tif (!tx.value) { return }\n\t\t\tdata.handler = null\n\t\t\tdata.loaded = false\n\t\t\tif (!isData.value) {\n\t\t\t\treturn\n\t\t\t} else if (tx.value.data?.type === 'text/html' || tx.value.data?.type === 'application/pdf') {\n\t\t\t\tdata.handler = 'iframe'\n\t\t\t} else if (tx.value.data?.type?.split('/')[0] === 'image') {\n\t\t\t\tdata.handler = 'img'\n\t\t\t} else {\n\t\t\t\tconsole.log('getting data')\n\t\t\t\ttry {\n\t\t\t\t\tdata.payload = await arweave.transactions.getData(props.txId, { decode: true, string: true })\n\t\t\t\t\ttry {\n\t\t\t\t\t\tdata.payload = JSON.stringify(JSON.parse(data.payload), null, 2)\n\t\t\t\t\t\tif (data.payload[0] !== \"{\") { throw '' }\n\t\t\t\t\t\tdata.handler = 'json'\n\t\t\t\t\t}\n\t\t\t\t\tcatch (e) { data.handler = 'raw' }\n\t\t\t\t} catch { }\n\t\t\t}\n\t\t}, { immediate: true })\n\t\tconst loaded = () => {\n\t\t\tconsole.log('loaded')\n\t\t\tdata.loaded = true\n\t\t}\n\n\t\tconst buildTagsSchema = (tags) => {\n\t\t\tconst result = []\n\t\t\tfor (const tag of tags) {\n\t\t\t\tresult.push({\n\t\t\t\t\titems: [\n\t\t\t\t\t\t{ name: 'Tag', value: tag.name, attrs: { disabled: true }, icon: require('@/assets/icons/label.svg') },\n\t\t\t\t\t\t{ name: 'Value', value: tag.value, attrs: { disabled: true } }\n\t\t\t\t\t]\n\t\t\t\t})\n\t\t\t}\n\t\t\treturn result\n\t\t}\n\n\t\treturn { ArweaveStore, tx, data, loaded, isData, isPending, date, verticalContent, buildTagsSchema, humanFileSize }\n\t},\n}\n</script>\n\n<style scoped>\n.meta {\n\tmax-width: 700px;\n\tpadding: var(--spacing);\n}\n\n.frame-container {\n\twidth: 100%;\n\theight: 100vh;\n\tbackground: var(--background2);\n\tbox-shadow: 0 0 0 2px #aaa;\n\tborder-radius: 32px 0 0 32px;\n\toverflow: hidden;\n}\n\n.verticalContent .frame-container {\n\theight: 80vh;\n\tborder-radius: 32px 32px 0 0;\n}\n\n.card-container {\n\tpadding: var(--spacing);\n}\n\n.iframe {\n\twidth: 100%;\n\theight: 100%;\n\tborder: 0;\n\topacity: 0.6;\n}\n\n.img {\n\twidth: 100%;\n\theight: 100%;\n\tobject-fit: cover;\n}\n\n.raw {\n\toverflow: auto;\n}\n\n.row {\n\tmin-height: 2em;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\tgap: var(--spacing);\n}\n\n.row > .item {\n\tflex: 1 1 0;\n\tmin-width: 0;\n\toverflow: hidden;\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n.address-icon {\n\twidth: 64px;\n\theight: 64px;\n}\n\n.address {\n\twidth: 100%;\n}\n\n.small {\n\tfont-size: 0.75em;\n\tcolor: var(--element-secondary);\n}\n</style>","import { render } from \"./Tx.vue?vue&type=template&id=3ba146ca&scoped=true\"\nimport script from \"./Tx.vue?vue&type=script&lang=js\"\nexport * from \"./Tx.vue?vue&type=script&lang=js\"\n\nimport \"./Tx.vue?vue&type=style&index=0&id=3ba146ca&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-3ba146ca\"\n\nexport default script"],"sourceRoot":""}