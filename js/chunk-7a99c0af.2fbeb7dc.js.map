{"version":3,"sources":["webpack:///./src/views/Tx.vue?f0e1","webpack:///./src/views/Tx.vue","webpack:///./src/views/Tx.vue?3604"],"names":["class","key","tx","left","id","isPending","block","date","data","size","fee","ar","owner","address","quantity","recipient","tags","tag","name","value","handler","verticalContent","appear","src","ArweaveStore","gatewayURL","loaded","payload","components","FoldingLayout","props","txId","String","setup","isData","dateObj","Date","timestamp","toLocaleDateString","undefined","year","month","day","toLocaleTimeString","InterfaceStore","breakpoints","type","split","console","log","transactions","getData","decode","string","JSON","stringify","parse","immediate","render","__scopeId"],"mappings":"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","file":"js/chunk-7a99c0af.2fbeb7dc.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Tx.vue?vue&type=style&index=0&id=1747b7d0&scoped=true&lang=css\"","<template>\n\t<FoldingLayout v-if=\"tx\">\n\t\t<template #left>\n\t\t\t<div class=\"meta\">\n\n\t\t\t\t<div>id {{ tx.id }}</div>\n\t\t\t\t<div>block {{ !isPending ? tx.block.id : 'Pending' }}</div>\n\t\t\t\t<div>date {{ date }}</div>\n\n\t\t\t\t<div>data.size {{ tx.data.size }}</div>\n\t\t\t\t<div>fee.ar {{ tx.fee.ar }}</div>\n\n\t\t\t\t<div>owner.address {{ tx.owner.address }}</div>\n\t\t\t\t<div>quantity.ar {{ tx.quantity.ar }}</div>\n\t\t\t\t<div>recipient {{ tx.recipient }}</div>\n\n\t\t\t\t<div>Tags\n\t\t\t\t\t<ul class=\"tags\">\n\t\t\t\t\t\t<li v-for=\"tag in tx.tags\" :key=\"tag.name\">\n\t\t\t\t\t\t\t{{ tag.name }} - {{ tag.value }}\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\n\t\t\t\t<div v-if=\"tx.data.size > 0\">link</div>\n\n\t\t\t</div>\n\t\t</template>\n\t\t<template #right v-if=\"data.handler\">\n\t\t\t<transition :name=\"verticalContent ? 'slide-up' : 'slide-left'\" appear>\n\t\t\t\t<div v-if=\"data.handler === 'iframe'\" v-show=\"data.loaded\" key=\"iframe\" class=\"frame-container\">\n\t\t\t\t\t<iframe class=\"iframe\" :src=\"ArweaveStore.gatewayURL + tx.id\" @load=\"data.loaded=true\" />\n\t\t\t\t</div>\n\t\t\t\t<div v-else-if=\"data.handler === 'img'\" v-show=\"data.loaded\" key=\"img\" class=\"frame-container\">\n\t\t\t\t\t<img class=\"img\" :src=\"ArweaveStore.gatewayURL + tx.id\" @load=\"data.loaded=true\">\n\t\t\t\t</div>\n\t\t\t\t<div v-else-if=\"data.handler === 'json'\" key=\"json\" class=\"card-container\">\n\t\t\t\t\t<pre class=\"raw card\">{{ data.payload }}</pre>\n\t\t\t\t</div>\n\t\t\t\t<div v-else-if=\"data.handler === 'raw'\" key=\"raw\" class=\"card-container\">\n\t\t\t\t\t<div class=\"raw card\">{{ data.payload }}</div>\n\t\t\t\t</div>\n\t\t\t</transition>\n\t\t</template>\n\t</FoldingLayout>\n</template>\n\n<script>\nimport FoldingLayout from '@/components/FoldingLayout.vue'\nimport ArweaveStore, { arweave, getTxById } from '@/store/ArweaveStore'\nimport InterfaceStore from '@/store/InterfaceStore'\nimport { reactive, watch, computed, ref } from 'vue'\n\nexport default {\n\tcomponents: { FoldingLayout },\n\tprops: {\n\t\ttxId: String,\n\t},\n\tsetup (props) {\n\t\tconst tx = ref(null)\n\t\tconst data = reactive({\n\t\t\tpayload: null,\n\t\t\thandler: null,\n\t\t\tloaded: false,\n\t\t})\n\n\t\tconst isData = computed(() => tx.value.data?.size !== '0')\n\t\tconst isPending = computed(() => !tx.value.block)\n\t\tconst date = computed(() => {\n\t\t\tif (isPending.value) { return '' }\n\t\t\tconst dateObj = new Date(tx.value.block.timestamp * 1000)\n\t\t\treturn dateObj.toLocaleDateString(undefined, { year: 'numeric', month: 'long', day: 'numeric' })\n\t\t\t\t+ ' ' + dateObj.toLocaleTimeString()\n\t\t})\n\t\tconst verticalContent = computed(() => InterfaceStore.breakpoints.verticalContent)\n\n\t\twatch(() => props.txId, async () => {\n\t\t\ttx.value = await getTxById(props.txId)\n\t\t\tdata.handler = null\n\t\t\tdata.loaded = false\n\t\t\tif (!isData.value) {\n\t\t\t\treturn\n\t\t\t} else if (tx.value.data?.type === 'text/html' || tx.value.data?.type === 'application/pdf') {\n\t\t\t\tdata.handler = 'iframe'\n\t\t\t} else if (tx.value.data?.type?.split('/')[0] === 'image') {\n\t\t\t\tdata.handler = 'img'\n\t\t\t} else {\n\t\t\t\tconsole.log('getting data')\n\t\t\t\ttry {\n\t\t\t\t\tdata.payload = await arweave.transactions.getData(props.txId, { decode: true, string: true })\n\t\t\t\t\ttry {\n\t\t\t\t\t\tdata.payload = JSON.stringify(JSON.parse(data.payload), null, 2)\n\t\t\t\t\t\tif (data.payload[0] !== \"{\") { throw '' }\n\t\t\t\t\t\tdata.handler = 'json'\n\t\t\t\t\t}\n\t\t\t\t\tcatch (e) { data.handler = 'raw' }\n\t\t\t\t} catch { }\n\t\t\t}\n\t\t}, { immediate: true })\n\t\tconst loaded = () => {\n\t\t\tconsole.log('loaded')\n\t\t\tdata.loaded = true\n\t\t}\n\t\treturn { ArweaveStore, tx, data, loaded, isData, isPending, date, verticalContent }\n\t},\n}\n</script>\n\n<style scoped>\n.meta {\n\tmax-width: 700px;\n\tpadding: var(--spacing);\n\tpadding-inline-end: 0;\n}\n\n.meta > div {\n\tpadding: 1em 0;\n}\n\n.tags {\n\twhite-space: nowrap;\n}\n\n.frame-container {\n\twidth: 100%;\n\theight: 100vh;\n\tbackground: var(--background3);\n\tbox-shadow: 0 0 0 2px var(--element-secondary);\n\tborder-radius: 32px 0 0 32px;\n\toverflow: hidden;\n}\n\n.verticalContent .frame-container {\n\theight: 80vh;\n\tborder-radius: 32px 32px 0 0;\n}\n\n.card-container {\n\tpadding: var(--spacing);\n}\n\n.iframe {\n\twidth: 100%;\n\theight: 100%;\n\tborder: 0;\n\tfilter: brightness(0.7) contrast(1.1);\n}\n\n.img {\n\twidth: 100%;\n\theight: 100%;\n\tobject-fit: cover;\n}\n\n.raw {\n\toverflow: auto;\n}\n</style>","import { render } from \"./Tx.vue?vue&type=template&id=1747b7d0&scoped=true\"\nimport script from \"./Tx.vue?vue&type=script&lang=js\"\nexport * from \"./Tx.vue?vue&type=script&lang=js\"\n\nimport \"./Tx.vue?vue&type=style&index=0&id=1747b7d0&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-1747b7d0\"\n\nexport default script"],"sourceRoot":""}